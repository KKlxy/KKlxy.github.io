<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>C++</title>
    <url>/2018/10/05/C++/</url>
    <content><![CDATA[<h1 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h1><span id="more"></span>

<h2 id="1简介"><a href="#1简介" class="headerlink" title="1简介"></a>1简介</h2><h3 id="1-1-C"><a href="#1-1-C" class="headerlink" title="1.1 C++"></a>1.1 C++</h3><p>C语言代表的过程性语言，C++在C语言的基础上添加的类代表的面向对象语言、C++模板支持的泛型编程。</p>
<h3 id="1-2-C"><a href="#1-2-C" class="headerlink" title="1.2 C"></a>1.2 C</h3><p>汇编语言依赖于计算机的内部机器语言，是低级语言，直接操作硬件；UNIX是高级语言致力于解决问题，不针对特定的硬件，</p>
<p>为了将低级语言的效率、硬件访问能力和高级语言的通用性、可移植性融合在一起，于是在旧语言的基础上开发了C语言</p>
<p>数据是程序使用和处理的信息；算法是程序使用的方法</p>
<p>C强调的是编程的算法方面</p>
<p>C++：OOP(面向对象编程)强调的是数据；C++中类是一种规范，描述了新型数据格式，对象还是根据这种规范构造的特定数据结构，包括数据部分和操作部分，根据类定义可以创建一个对象，该对象保存了描述类的所有数据值，可使用类方法来修改对象。</p>
<p>OOP编程不仅仅是将数据和方法合并为类定义。信息隐藏还可以保护数据，使其免遭不恰当地访问。多态让您为运算符和函数创造多个定义，通过编程上下文来确定使用哪个定义。继承让您能使用旧类派生出新类。</p>
<p>C++是C的超集，C++的二重性及提供了高级抽象，又可以底层访问 </p>
<h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><h2 id="3"><a href="#3" class="headerlink" title="3"></a>3</h2><h3 id="3-1-简单变量"><a href="#3-1-简单变量" class="headerlink" title="3.1 简单变量"></a>3.1 简单变量</h3><p>面向对象编程（OOP）的本质是设计并扩展自己的数据类型。</p>
<p>sizeof只是一个运算符，不是函数</p>
<p>sizeof(int类型名)     size of 变量名</p>
<p>int n = 3; int n(3); int n{3}</p>
<p>cout默认以十进制形式输出</p>
<p>cout &lt;&lt; hex 十六进制</p>
<p>cout &lt;&lt; oct 八进制 </p>
<h3 id="3-2"><a href="#3-2" class="headerlink" title="3.2"></a>3.2</h3><p>浮点数在内存中如何存储？</p>
<p>float 8.25 单精度 32bit</p>
<p>double 64bit</p>
<p>浮点数二进制的科学计数法  8.25 = 8.25*10^0</p>
<p>1000.01   = 1.00001*2^3</p>
<p> 0.25*2=0.5    </p>
<p>0.5*2=1</p>
<p>二进制至少32位，十进制至少小数点后6位</p>
<h3 id="3-3"><a href="#3-3" class="headerlink" title="3.3"></a>3.3</h3><p>cout.setf(ios_base::fixed, ios_base::floatfield);</p>
<p>因为float的精度不够，float类型有效位有限</p>
<h3 id="3-4"><a href="#3-4" class="headerlink" title="3.4"></a>3.4</h3><p>C++语言没有提供自动防止超出整数类型范围的功能，需要程序员自己预估数据大小并选择合适的数据类型，每种数据类型的宽度，C++并没有做规定， 具体的值有开发平台和编译器决定。</p>
<p>默认C++整数常量在不超出int类型范围的应用情况下，默认优先使用int类型</p>
<p>不同的平台和编译器对应的long 和long long 类型的大小是不同的，如果long长度位4字节，则存放在double类型中不会出现舍入误差，如果long long类型位8字节，则存放在double类型中会出现舍入误差。</p>
<h2 id="4-复合类型"><a href="#4-复合类型" class="headerlink" title="4 复合类型"></a>4 复合类型</h2>]]></content>
      <categories>
        <category>C&amp;C++</category>
      </categories>
      <tags>
        <tag>导航</tag>
        <tag>分享</tag>
      </tags>
  </entry>
  <entry>
    <title>STM32</title>
    <url>/2019/01/05/STM32/</url>
    <content><![CDATA[<h1 id="STM32"><a href="#STM32" class="headerlink" title="STM32"></a>STM32</h1><h1 id="一、Keil创建工程"><a href="#一、Keil创建工程" class="headerlink" title="一、Keil创建工程"></a>一、Keil创建工程</h1><h2 id="1-安装-Keil-uVision4"><a href="#1-安装-Keil-uVision4" class="headerlink" title="1. 安装 Keil uVision4"></a>1. 安装 Keil uVision4</h2><h2 id="2-新建工程"><a href="#2-新建工程" class="headerlink" title="2. 新建工程"></a>2. 新建工程</h2><h3 id="（1）"><a href="#（1）" class="headerlink" title="（1）"></a>（1）</h3><h3 id><a href="#" class="headerlink" title></a><img src="/2019/01/05/STM32/image-20220115073734659.png" alt="image-20220115073734659" style="zoom:50%;"><img src="/2019/01/05/STM32/image-20220115074130502.png" alt="image-20220115074130502" style="zoom:50%;"></h3><h3 id="（2）选择处理器-具体情况具体分析"><a href="#（2）选择处理器-具体情况具体分析" class="headerlink" title="（2）选择处理器(具体情况具体分析)"></a>（2）选择处理器(具体情况具体分析)</h3><p>STMicroelectronics-&gt;STM32F103C8</p>
<img src="/2019/01/05/STM32/image-20220115074927065.png" alt="image-20220115074927065" style="zoom: 50%;">

<h3 id="3-选择否，不用软件自动添加，选择手动添加"><a href="#3-选择否，不用软件自动添加，选择手动添加" class="headerlink" title="(3)选择否，不用软件自动添加，选择手动添加"></a>(3)选择否，不用软件自动添加，选择手动添加</h3><img src="/2019/01/05/STM32/image-20220115075725120.png" alt="image-20220115075725120" style="zoom: 50%;">

<h2 id="3-工程分组"><a href="#3-工程分组" class="headerlink" title="3.工程分组"></a>3.工程分组</h2><img src="/2019/01/05/STM32/image-20220115080042674.png" alt="image-20220115080042674" style="zoom:50%;">

<h2 id="4-导入Lib库，放到当前工程中"><a href="#4-导入Lib库，放到当前工程中" class="headerlink" title="4.导入Lib库，放到当前工程中"></a>4.导入Lib库，放到当前工程中</h2><h3 id="（1）导入启动代码文件"><a href="#（1）导入启动代码文件" class="headerlink" title="（1）导入启动代码文件"></a>（1）导入启动代码文件</h3><img src="/2019/01/05/STM32/image-20220115081159314.png" alt="image-20220115081159314" style="zoom:50%;">

<h3 id="（2）导入init文件"><a href="#（2）导入init文件" class="headerlink" title="（2）导入init文件"></a>（2）导入init文件</h3><img src="/2019/01/05/STM32/image-20220115081613761.png" alt="image-20220115081613761" style="zoom:50%;">

<h3 id="（3）添加main-c"><a href="#（3）添加main-c" class="headerlink" title="（3）添加main.c"></a>（3）添加main.c</h3><img src="/2019/01/05/STM32/image-20220115083431644.png" alt="image-20220115083431644" style="zoom:50%;">

<h2 id="5-配置标准外设"><a href="#5-配置标准外设" class="headerlink" title="5.配置标准外设"></a>5.配置标准外设</h2><img src="/2019/01/05/STM32/image-20220115090004613.png" alt="image-20220115090004613" style="zoom: 50%;">

<h2 id="6-导入头文件"><a href="#6-导入头文件" class="headerlink" title="6.导入头文件"></a>6.导入头文件</h2><img src="/2019/01/05/STM32/image-20220115084527834.png" alt="image-20220115084527834" style="zoom:50%;">

<h2 id="7-ST-Link"><a href="#7-ST-Link" class="headerlink" title="7.ST-Link"></a>7.ST-Link</h2><img src="/2019/01/05/STM32/image-20220115084713574.png" alt="image-20220115084713574" style="zoom:50%;">

<img src="/2019/01/05/STM32/image-20220115085208993.png" alt="image-20220115085208993" style="zoom:50%;">

<h1 id="二、STM32"><a href="#二、STM32" class="headerlink" title="二、STM32"></a>二、STM32</h1><h2 id="（一）初识LED原理图"><a href="#（一）初识LED原理图" class="headerlink" title="（一）初识LED原理图"></a>（一）初识LED原理图</h2><h3 id="1-跳线"><a href="#1-跳线" class="headerlink" title="1.跳线"></a>1.跳线</h3><img src="/2019/01/05/STM32/image-20220115091528536.png" alt="image-20220115091528536" style="zoom:50%;">

<h3 id="2-发光二极管"><a href="#2-发光二极管" class="headerlink" title="2.发光二极管"></a>2.发光二极管</h3><p>吓死人的是电压，电死人的是电流。</p>
<p>高电平点亮=&gt;共阴极=&gt;高电平电压3.3V,二极管两端的电压差超过0.7V就会产生电流（PA输出高电平，接地0）</p>
<p>低电平点亮=&gt;共阳极（PA低，高）</p>
<h3 id="3-限流电阻"><a href="#3-限流电阻" class="headerlink" title="3.限流电阻"></a>3.限流电阻</h3><p>I=V/R   （R≈0，I-&gt;∞）电流越大，越亮，寿命越短</p>
<h2 id="（二）分析GPIO口寄存器"><a href="#（二）分析GPIO口寄存器" class="headerlink" title="（二）分析GPIO口寄存器"></a>（二）分析GPIO口寄存器</h2><p><strong>地址=基地址+偏移地址</strong></p>
<img src="/2019/01/05/STM32/image-20220115100554672.png" alt="image-20220115100554672" style="zoom:50%;">

<p><img src="/2019/01/05/STM32/image-20210904223621918.png" alt="image-20210904223621918"> </p>
<p>PA1-4: 19:4</p>
<p>00：通用推挽输出模式</p>
<p><img src="/2019/01/05/STM32/image-20220115101833675.png" alt="image-20220115101833675"></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	*(<span class="keyword">unsigned</span> <span class="keyword">long</span> *)<span class="number">0x40010800</span> &amp;= <span class="number">0xFFF0000F</span>;<span class="comment">//GPIOA_CRL = 0x40010800 + 0x00 ,清除[19:4]</span></span><br><span class="line">	*(<span class="keyword">unsigned</span> <span class="keyword">long</span> *)<span class="number">0x40010800</span> |= <span class="number">0x00033330</span>;<span class="comment">//[19:4] = 0011 0011 0011 011 将PA1~PA4配置为通用推挽输出，工作频率50MHz</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="（三）第一次控制LED灯的代码"><a href="#（三）第一次控制LED灯的代码" class="headerlink" title="（三）第一次控制LED灯的代码"></a>（三）第一次控制LED灯的代码</h2><h3 id="RCC寄存器"><a href="#RCC寄存器" class="headerlink" title="RCC寄存器"></a>RCC寄存器</h3><p>APB1、APB2、AHB为CPU内部的总线：CPU通过地址找外设，而外设挂载到地址上，CPU通过总线来管理地址；</p>
<p>HB(Higher Bus):高速总线    PB（Peripheral Bus）：普通外设总线（PB1 PB2）   <img src="/2019/01/05/STM32/image-20210906173242102.png" alt="image-20210906173242102"></p>
<p>将RCC_APB2ENR寄存器第二位置1</p>
<p><img src="/2019/01/05/STM32/image-20210906173648932.png" alt="image-20210906173648932"></p>
<p><img src="/2019/01/05/STM32/Users\s\AppData\Roaming\Typora\typora-user-images\image-20210906173720845.png" alt="image-20210906173720845"></p>
<p>起初由define定义至用结构体头文件来简化代码</p>
<p>库函数 </p>
<p><strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RCCAPB2ENR 	(*(volatile unsigned long *)0x40021018)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPIOACRL		(*(volatile unsigned long *)0x40010800)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPIOAODR		(*(volatile unsigned long *)0x4001080C)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> nCount)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//RCC_APB2ENR= 0x40021000 + 0x18 = 0x40021018</span></span><br><span class="line">	<span class="comment">//RCC_APB2ENR bit[2] = 1 使能GPIOA外设时钟</span></span><br><span class="line">	<span class="comment">//*(unsigned long *)0x40021018 |= (1&lt;&lt;2); </span></span><br><span class="line">	RCCAPB2ENR |= (<span class="number">1</span>&lt;&lt;<span class="number">2</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//*(unsigned long *)0x40010800 &amp;= 0xFFF0000F;//GPIOA_CRL = 0x40010800 + 0x00 ,清除[19:4]</span></span><br><span class="line">	GPIOACRL &amp;= <span class="number">0xFFF0000F</span>;</span><br><span class="line">	<span class="comment">//*(unsigned long *)0x40010800 |= 0x00033330;//[19:4] = 0011 0011 0011 011 将PA1~PA4配置为通用推完输出，工作频率50MHz</span></span><br><span class="line">	GPIOACRL |= <span class="number">0x00033330</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//GPIO_ODR = 0x40010800 + 0x0C = 0x4001080C</span></span><br><span class="line">	<span class="comment">//*(unsigned long *)0x4001080C &amp;= ~((1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4));  //PA1~PA4输出低电平，LED全灭</span></span><br><span class="line">	GPIOAODR &amp;= ~((<span class="number">1</span>&lt;&lt;<span class="number">1</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">2</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">3</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">4</span>)); </span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//点亮LED1~LED4  PA1~PA4输出高电平</span></span><br><span class="line">		<span class="comment">//*(unsigned long *)0x4001080C |= (1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4);</span></span><br><span class="line">		GPIOAODR |= (<span class="number">1</span>&lt;&lt;<span class="number">1</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">2</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">3</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">4</span>);</span><br><span class="line">		Delay(<span class="number">0xffff</span>);</span><br><span class="line">		<span class="comment">//熄灭LED1~LED4  PA1~PA4输出低电平</span></span><br><span class="line">		<span class="comment">//*(unsigned long *)0x4001080C &amp;= ~((1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4));  //PA1~PA4输出低电平，LED全灭</span></span><br><span class="line">		GPIOAODR &amp;= ~((<span class="number">1</span>&lt;&lt;<span class="number">1</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">2</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">3</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">4</span>));</span><br><span class="line">		Delay(<span class="number">0xffff</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> nCount)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(nCount--)</span><br><span class="line">	&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="（四）使用结构体访问外设寄存器"><a href="#（四）使用结构体访问外设寄存器" class="headerlink" title="（四）使用结构体访问外设寄存器"></a>（四）使用结构体访问外设寄存器</h2><p><strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;main.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> nCount)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;	 </span><br><span class="line">	RCC-&gt;APB2ENR |= (<span class="number">1</span>&lt;&lt;<span class="number">2</span>);<span class="comment">//RCCAPB2ENR |= (1&lt;&lt;2);	</span></span><br><span class="line">	</span><br><span class="line">	GPIOA-&gt;CRL &amp;= <span class="number">0xFFF0000F</span>;<span class="comment">//GPIOACRL &amp;= 0xFFF0000F;</span></span><br><span class="line">	GPIOA-&gt;CRL |= <span class="number">0x00033330</span>;<span class="comment">//GPIOACRL |= 0x00033330;</span></span><br><span class="line">	</span><br><span class="line">	GPIOA-&gt;ODR &amp;= ~((<span class="number">1</span>&lt;&lt;<span class="number">1</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">2</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">3</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">4</span>)); <span class="comment">//GPIOAODR &amp;= ~((1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4)); </span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//点亮LED1~LED4  PA1~PA4输出高电平</span></span><br><span class="line">		GPIOA-&gt;ODR |= (<span class="number">1</span>&lt;&lt;<span class="number">1</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">2</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">3</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">4</span>);<span class="comment">//GPIOAODR |= (1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4);</span></span><br><span class="line">		Delay(<span class="number">0xffff</span>);</span><br><span class="line">		<span class="comment">//熄灭LED1~LED4  PA1~PA4输出低电平</span></span><br><span class="line">		GPIOA-&gt;ODR &amp;= ~((<span class="number">1</span>&lt;&lt;<span class="number">1</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">2</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">3</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">4</span>));<span class="comment">//GPIOAODR &amp;= ~((1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4));</span></span><br><span class="line">		Delay(<span class="number">0xffff</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> nCount)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(nCount--)</span><br><span class="line">	&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>main.h</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __MAIN_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __MAIN_H__</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CFGR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CIR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> APB2RSTR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> APB1RSTR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> AHBENR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> APB2ENR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> APB1ENR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> BDCR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CSR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> AHBRSTR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CFGR2;	</span><br><span class="line">&#125;RCC_Typedef;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CRL;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CRH;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> IDR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> ODR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> BSRR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> BRR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> LCKR;</span><br><span class="line">&#125;GPIOA_Typedef;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RCC  ((RCC_Typedef *)0x40021000)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPIOA  ((GPIOA_Typedef *)0x40010800)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="（五）第一次使用STM32标准库资源"><a href="#（五）第一次使用STM32标准库资源" class="headerlink" title="（五）第一次使用STM32标准库资源"></a>（五）第一次使用STM32标准库资源</h2><p><strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stm32f10x.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> nCount)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;	 </span><br><span class="line">	RCC-&gt;APB2ENR |= (<span class="number">1</span>&lt;&lt;<span class="number">2</span>);<span class="comment">//RCCAPB2ENR |= (1&lt;&lt;2);	</span></span><br><span class="line">	</span><br><span class="line">	GPIOA-&gt;CRL &amp;= <span class="number">0xFFF0000F</span>;<span class="comment">//GPIOACRL &amp;= 0xFFF0000F;</span></span><br><span class="line">	GPIOA-&gt;CRL |= <span class="number">0x00033330</span>;<span class="comment">//GPIOACRL |= 0x00033330;</span></span><br><span class="line">	</span><br><span class="line">	GPIOA-&gt;ODR &amp;= ~((<span class="number">1</span>&lt;&lt;<span class="number">1</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">2</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">3</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">4</span>)); <span class="comment">//GPIOAODR &amp;= ~((1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4)); </span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//点亮LED1~LED4  PA1~PA4输出高电平</span></span><br><span class="line">		GPIOA-&gt;ODR |= (<span class="number">1</span>&lt;&lt;<span class="number">1</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">2</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">3</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">4</span>);<span class="comment">//GPIOAODR |= (1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4);</span></span><br><span class="line">		Delay(<span class="number">0xffff</span>);</span><br><span class="line">		<span class="comment">//熄灭LED1~LED4  PA1~PA4输出低电平</span></span><br><span class="line">		GPIOA-&gt;ODR &amp;= ~((<span class="number">1</span>&lt;&lt;<span class="number">1</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">2</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">3</span>)|(<span class="number">1</span>&lt;&lt;<span class="number">4</span>));<span class="comment">//GPIOAODR &amp;= ~((1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4));</span></span><br><span class="line">		Delay(<span class="number">0xffff</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> nCount)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(nCount--)</span><br><span class="line">	&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>main.h</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RCC  									((RCC_Typedef *)0x40021000)</span></span><br><span class="line"><span class="comment">//#define RCC                 ((RCC_TypeDef *) RCC_BASE)</span></span><br><span class="line"><span class="comment">//RCC_BASE = AHBPERIPH_BASE + 0x1000 = PERIPH_BASE + 0x20000 + 0x1000 = 0x40000000+ 0x20000 + 0x1000 = 0x40021000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPIOA  								((GPIOA_Typedef *)0x40010800)</span></span><br><span class="line"><span class="comment">//#define GPIOA               ((GPIO_TypeDef *) GPIOA_BASE)</span></span><br></pre></td></tr></table></figure>



<h2 id="（六）使用STM32标准库函数"><a href="#（六）使用STM32标准库函数" class="headerlink" title="（六）使用STM32标准库函数"></a>（六）使用STM32标准库函数</h2><p>添加core_cm3.c和stm32f10x_it.c文件以及src全部.c 文件</p>
<img src="/2019/01/05/STM32/image-20220115160521683.png" alt="image-20220115160521683" style="zoom:50%;">

<p><img src="/2019/01/05/STM32/image-20220115160851899.png" alt="image-20220115160851899"></p>
<p><img src="/2019/01/05/STM32/image-20220115160909747.png" alt="image-20220115160909747"></p>
<p><img src="/2019/01/05/STM32/image-20220115161242093.png" alt="image-20220115161242093"></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stm32f10x.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> nCount)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;	 </span><br><span class="line">	GPIO_InitTypeDef GPIO_InitStructure;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//RCC-&gt;APB2ENR |= (1&lt;&lt;2);//RCCAPB2ENR |= (1&lt;&lt;2);	</span></span><br><span class="line">	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA, ENABLE);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//GPIOA-&gt;CRL &amp;= 0xFFF0000F;//GPIOACRL &amp;= 0xFFF0000F;</span></span><br><span class="line">	<span class="comment">//GPIOA-&gt;CRL |= 0x00033330;//GPIOACRL |= 0x00033330;	</span></span><br><span class="line">	<span class="comment">//GPIOA-&gt;ODR &amp;= ~((1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4)); //GPIOAODR &amp;= ~((1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4)); </span></span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4; <span class="comment">//管脚</span></span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;   <span class="comment">//速率</span></span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;    <span class="comment">//通用推挽输出</span></span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);    <span class="comment">//初始化</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//点亮LED1~LED4  PA1~PA4输出为高电平</span></span><br><span class="line">		<span class="comment">//GPIOA-&gt;ODR |= (1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4);//GPIOAODR |= (1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4);</span></span><br><span class="line">		GPIO_WriteBit(GPIOA, GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4, Bit_SET);</span><br><span class="line">		Delay(<span class="number">0xffff</span>);</span><br><span class="line">		<span class="comment">//熄灭LED1~LED4  PA1~PA4输出低电平</span></span><br><span class="line">		<span class="comment">//GPIOA-&gt;ODR &amp;= ~((1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4));//GPIOAODR &amp;= ~((1&lt;&lt;1)|(1&lt;&lt;2)|(1&lt;&lt;3)|(1&lt;&lt;4));</span></span><br><span class="line">		GPIO_WriteBit(GPIOA, GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4, Bit_RESET);</span><br><span class="line">		Delay(<span class="number">0xffff</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> nCount)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(nCount--)</span><br><span class="line">	&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="（七）按键KEY"><a href="#（七）按键KEY" class="headerlink" title="（七）按键KEY"></a>（七）按键KEY</h2><p><img src="/2019/01/05/STM32/image-20210910210946671.png" alt="image-20210910210946671"></p>
<p><img src="/2019/01/05/STM32/image-20210910211002864.png" alt="image-20210910211002864">浮空输入</p>
<p>​        此时PA0是输入电压，当输入为低电平，代表按键按下。</p>
<p>​        <strong>硬件消抖</strong>：0.1μF电容会将高电平变为低电平的抖动去除。</p>
<p>​        按键按下，PA0测试为低电平，PA1-4输出低电平，灯灭发生转换</p>
<p>​        因为浮空输入PA0无法检测输入高低电压，STM32可以通过编程在内部配置内部上拉功能，当输入为高电平经过上拉电阻，当按键按下，输入为低电平则跳过上拉电阻。</p>
<p><img src="/2019/01/05/STM32/image-20220115163453707.png" alt="image-20220115163453707"></p>
<p>#include “Led_Key.h”</p>
<p>int main(void)<br>{<br>    Led_Configuration();<br>    Key_Configuration();<br>    <strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Led_Key.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Led_Configuration();</span><br><span class="line">	Key_Configuration();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(Key_Scan(GPIOA, GPIO_Pin_0) == KEY_ON)</span><br><span class="line">			GPIOA-&gt;ODR ^= GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4; <span class="comment">//ODR寄存器  异或：相同为0，不同为1</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>Led_key.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Led_Key.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> nCount)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(nCount--)</span><br><span class="line">	&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Led_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	GPIO_InitTypeDef GPIO_InitStructure;</span><br><span class="line"></span><br><span class="line">	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA, ENABLE);</span><br><span class="line">	</span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4;</span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;</span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//PA0--KEY1  input</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Key_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	GPIO_InitTypeDef GPIO_InitStructure;</span><br><span class="line"></span><br><span class="line">	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA, ENABLE);</span><br><span class="line">	</span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_0;</span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU; <span class="comment">//修改的地方</span></span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Key_Scan</span><span class="params">(GPIO_TypeDef* GPIOx, <span class="keyword">unsigned</span> <span class="keyword">int</span> Pin)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(GPIO_ReadInputDataBit(GPIOA, GPIO_Pin_0) == <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		Delay(<span class="number">1000</span>);    <span class="comment">//延迟</span></span><br><span class="line">		<span class="keyword">if</span>(GPIO_ReadInputDataBit(GPIOA, GPIO_Pin_0) == <span class="number">0</span>)  <span class="comment">//按键被按下去</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">while</span>(GPIO_ReadInputDataBit(GPIOA, GPIO_Pin_0) == <span class="number">0</span>);<span class="comment">//只要手不离开就一直循环下去直至离开</span></span><br><span class="line">			<span class="keyword">return</span> KEY_ON;<span class="comment">//按键按下去一次</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> KEY_OFF;  <span class="comment">//抖动</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> KEY_OFF;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>Led_key.h</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __LED_KEY_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __LED_KEY_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stm32f10x.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> KEY_ON 	0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> KEY_OFF	1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Led_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Key_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Key_Scan</span><span class="params">(GPIO_TypeDef* GPIOx, <span class="keyword">unsigned</span> <span class="keyword">int</span> Pin)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="（八）呼吸灯"><a href="#（八）呼吸灯" class="headerlink" title="（八）呼吸灯"></a>（八）呼吸灯</h2><p>I=U/R,当I逐渐变大，灯逐渐变亮，方式：</p>
<p>1、单位时间内高电平的时间逐渐变长，低电平的时间逐渐变短，灯逐渐变亮，相反，灯逐渐变暗</p>
<p>2、PWM</p>
<p><img src="/2019/01/05/STM32/image-20220115165950358.png" alt="image-20220115165950358"></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Led_Key.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> nCount)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	</span><br><span class="line">	Led_Configuration();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">4000</span>; i++)  <span class="comment">//LED逐渐变亮</span></span><br><span class="line">		&#123;</span><br><span class="line">			GPIO_ResetBits(GPIOA, GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4);</span><br><span class="line">			Delay(<span class="number">4000</span> - i);</span><br><span class="line">			GPIO_SetBits(GPIOA, GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4);</span><br><span class="line">			Delay(i);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">4000</span>; i++) <span class="comment">//LED逐渐变暗</span></span><br><span class="line">		&#123;</span><br><span class="line">			GPIO_ResetBits(GPIOA, GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4);</span><br><span class="line">			Delay(i);</span><br><span class="line">			GPIO_SetBits(GPIOA, GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4);</span><br><span class="line">			Delay(<span class="number">4000</span> - i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="（九）中断"><a href="#（九）中断" class="headerlink" title="（九）中断"></a>（九）中断</h2><p>异常包括中断，异常不一定是中断。</p>
<p>当出现某一种异常，CPU会自动跳转到某一个地址（无法更改）</p>
<p><strong>异常向量表</strong></p>
<p><img src="/2019/01/05/STM32/image-20211011152832711.png" alt="image-20211011152832711"></p>
<p>灰色（-3~6）的是系统异常，arm公司</p>
<p>白色的是CPU异常，外设相关的中断异常</p>
<p>stm32f10x_it.c：中断返回函数</p>
<p>**NVIC: **   向量中断控制器，简称 NVIC，是 Cortex‐M3 不可分离的一部分，它与 CM3 内核的逻辑紧密耦合</p>
<p><img src="/2019/01/05/STM32/image-20220115230154365.png" alt="image-20220115230154365"></p>
<p><img src="/2019/01/05/STM32/image-20220115232742348.png" alt="image-20220115232742348"></p>
<p><strong>配置PA0外部中断的功能</strong></p>
<p>找到库函数中对应的当前中断代码的外部通道0</p>
 <img src="/2019/01/05/STM32/image-20220115225106099.png" alt="image-20220115225106099" style="zoom:50%;">

<p><img src="/2019/01/05/STM32/image-20220115230237614.png" alt="image-20220115230237614"></p>
<p><img src="/2019/01/05/STM32/image-20220115230546086.png" alt="image-20220115230546086"></p>
<p><img src="/2019/01/05/STM32/image-20220115230910524.png" alt="image-20220115230910524"></p>
<p>中断请求：当产生中断时立即去处理</p>
<p>事件请求：当产生中断后处理完当前任务后再处理中断</p>
<p><img src="/2019/01/05/STM32/image-20220116152538711.png" alt="image-20220116152538711"></p>
<p>中断正常初始化后，会跳转到EXTI0_IRQHandler处理函数 中断服务程序,产生中断会自动置位，但需手动清除</p>
<p><img src="/2019/01/05/STM32/image-20220116153120068.png" alt="image-20220116153120068"></p>
<p>处理完中断后，手动清除中断标志位，保证下次中断正常产生</p>
<p><strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Led_Key.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Led_Configuration();</span><br><span class="line">	PA0_EXTI0_Configuration();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>mai.h</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __MAIN_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __MAIN_H__</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CFGR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CIR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> APB2RSTR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> APB1RSTR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> AHBENR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> APB2ENR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> APB1ENR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> BDCR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CSR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> AHBRSTR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CFGR2;	</span><br><span class="line">&#125;RCC_Typedef;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CRL;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> CRH;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> IDR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> ODR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> BSRR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> BRR;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> LCKR;</span><br><span class="line">&#125;GPIOA_Typedef;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RCC  ((RCC_Typedef *)0x40021000)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GPIOA  ((GPIOA_Typedef *)0x40010800)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_exit.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PA0_EXTI0_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	NVIC_InitTypeDef NVIC_InitStructure;</span><br><span class="line">	GPIO_InitTypeDef GPIO_InitStructure;</span><br><span class="line">	EXTI_InitTypeDef EXTI_InitStructure;</span><br><span class="line">	</span><br><span class="line">	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA | RCC_APB2Periph_AFIO, ENABLE);  <span class="comment">//RCC_APB2Periph_AFIO功能复用时钟</span></span><br><span class="line"></span><br><span class="line">	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_1);	   <span class="comment">//优先级组</span></span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannel = EXTI0_IRQn;   <span class="comment">//通道PA0对应外部通道0</span></span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = <span class="number">0</span>;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelSubPriority = <span class="number">2</span>;   <span class="comment">//响应优先级</span></span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;   <span class="comment">//开启NVIC外设管理</span></span><br><span class="line">	NVIC_Init(&amp;NVIC_InitStructure);</span><br><span class="line">	</span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_0;</span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU; <span class="comment">//修改的地方</span></span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);</span><br><span class="line">	GPIO_EXTILineConfig(GPIO_PortSourceGPIOA, GPIO_PinSource0);</span><br><span class="line">	</span><br><span class="line">	EXTI_InitStructure.EXTI_Line = EXTI_Line0;</span><br><span class="line">	EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;      <span class="comment">//设置EXIT线路为中断请求</span></span><br><span class="line">	EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;  <span class="comment">//设置输入线路下降沿为中断请求</span></span><br><span class="line">	EXTI_InitStructure.EXTI_LineCmd = ENABLE;   <span class="comment">//使能中断请求</span></span><br><span class="line">	EXTI_Init(&amp;EXTI_InitStructure);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">EXTI0_IRQHandler</span><span class="params">(<span class="keyword">void</span>)</span>    <span class="comment">//中断服务程序</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(EXTI_GetITStatus(EXTI_Line0) != RESET)    <span class="comment">//当有按键按下时即外部中断产生了=SET</span></span><br><span class="line">	&#123;</span><br><span class="line">		GPIOA-&gt;ODR ^= GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4;   <span class="comment">//取反</span></span><br><span class="line"><span class="comment">//		wait(5000000);</span></span><br><span class="line">		EXTI_ClearITPendingBit(EXTI_Line0);  <span class="comment">//手动清除中断标志位</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_exti.h</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __BSP_EXTI_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __BSP_EXTI_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stm32f10x.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PA0_EXTI0_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="（十）SysTick定时器"><a href="#（十）SysTick定时器" class="headerlink" title="（十）SysTick定时器"></a>（十）SysTick定时器</h2><p>SysTick定时器被捆绑在NVIC中，用于产生SYSTICK异常（异常号：15）。在以前，大多操<br>作系统需要一个硬件定时器来产生操作系统需要的滴答中断，作为整个系统的时基。</p>
<p>The processor has a 24-bit system timer, SysTick, that counts down from the reload value to<br>zero, reloads (wraps to) the value in the LOAD register on the next clock edge, then counts<br>down on subsequent clocks.</p>
<p><img src="/2019/01/05/STM32/image-20220116162854390.png" alt="image-20220116162854390"></p>
<p>1/72000000*72=1微秒   从72递减1微秒产生一次中断</p>
<p><img src="/2019/01/05/STM32/image-20220116172135464.png" alt="image-20220116172135464"></p>
<p><img src="/2019/01/05/STM32/image-20220116172303113.png" alt="image-20220116172303113"></p>
<p><img src="/2019/01/05/STM32/image-20220116172331314.png" alt="image-20220116172331314"></p>
<p><img src="/2019/01/05/STM32/image-20220116172405803.png" alt="image-20220116172405803"></p>
<p><strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Led_Key.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_SysTick.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	SysTick_Configuration();</span><br><span class="line">	</span><br><span class="line">	Led_Configuration();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		GPIO_WriteBit(GPIOA, GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4, Bit_SET);</span><br><span class="line">		Delay_us(<span class="number">100000</span>);</span><br><span class="line">		GPIO_WriteBit(GPIOA, GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4, Bit_RESET);</span><br><span class="line">		Delay_us(<span class="number">100000</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_SysTick.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_SysTick.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> TimingDelay;   <span class="comment">//创建一个全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SysTick_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(SysTick_Config(<span class="number">72</span>));</span><br><span class="line">	</span><br><span class="line">	SysTick-&gt;CTRL &amp;= ~(<span class="number">1</span>&lt;&lt;<span class="number">0</span>);   <span class="comment">//暂时初始化后先关闭定时器，使用前开启</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay_us</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> n)</span>    <span class="comment">//n值递减，1us减1</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	TimingDelay = n;</span><br><span class="line">	SysTick-&gt;CTRL |= (<span class="number">1</span>&lt;&lt;<span class="number">0</span>);   <span class="comment">//开启Sys_Tick</span></span><br><span class="line">	<span class="keyword">while</span>(TimingDelay);</span><br><span class="line">	SysTick-&gt;CTRL &amp;= ~(<span class="number">1</span>&lt;&lt;<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_SysTick.h</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __BSP_SYSTICK_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __BSP_SYSTICK_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stm32f10x.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> TimingDelay;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SysTick_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delay_us</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在stm32f10x_it.c文件中添加</p>
<img src="/2019/01/05/STM32/image-20220116174927828.png" alt="image-20220116174927828" style="zoom: 67%;">

<img src="/2019/01/05/STM32/image-20220116174858486.png" alt="image-20220116174858486" style="zoom:50%;">

<h2 id="（十一）独立看门狗"><a href="#（十一）独立看门狗" class="headerlink" title="（十一）独立看门狗"></a>（十一）独立看门狗</h2><p>看门狗：帮助人们在设备没有人为复位的情况下，当他出现死机是可以让芯片自动复位，正常工作时周期性喂狗即可。</p>
<p>独立看门狗不依赖其他硬件</p>
<p><img src="/2019/01/05/STM32/Users\s\AppData\Roaming\Typora\typora-user-images\image-20220129162939327.png" alt="image-20220129162939327"></p>
<p>LSI（30-60kHz）</p>
<p><img src="/2019/01/05/STM32/image-20220129163224977.png" alt="image-20220129163224977"></p>
<p><img src="/2019/01/05/STM32/image-20220129164305879.png" alt="image-20220129164305879"></p>
<p>独立看门狗的复位时间：IWDG_RLR*减一个数需要的时间频率</p>
<p>设置IWDG_RLR=625，PR=4则约1s独立看门狗进行一次复位，对应预分频因子为64</p>
<p><img src="/2019/01/05/STM32/image-20220129165553710.png" alt="image-20220129165553710"></p>
<p><strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Led_Key.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_SysTick.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_iwdg.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	SysTick_Configuration();</span><br><span class="line">	</span><br><span class="line">	Led_Configuration();</span><br><span class="line">	Key_Configuration();</span><br><span class="line">    </span><br><span class="line">	IWDG_Configuration();</span><br><span class="line">	</span><br><span class="line">  <span class="comment">//写一段灯闪烁的代码</span></span><br><span class="line">	LED_TOGGLE;</span><br><span class="line">	Delay_us(<span class="number">100000</span>);</span><br><span class="line">	LED_TOGGLE;</span><br><span class="line">	Delay_us(<span class="number">100000</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">        <span class="keyword">if</span>(Key_Scan(GPIOA, GPIO_Pin_0) == KEY_ON)</span><br><span class="line">			IWDG_FeedDog();<span class="comment">//喂狗</span></span><br><span class="line">		Delay_us(<span class="number">1000</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_iwdg.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_iwdg.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使能IWDG，在40kHz LSI条件下，约等于每隔1s产生IWDG复位</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">IWDG_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	IWDG_WriteAccessCmd(IWDG_WriteAccess_Enable);</span><br><span class="line">	IWDG_SetPrescaler(IWDG_Prescaler_64);</span><br><span class="line">	IWDG_SetReload(<span class="number">625</span>);</span><br><span class="line">	IWDG_ReloadCounter();</span><br><span class="line">	IWDG_Enable();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">IWDG_FeedDog</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	IWDG_ReloadCounter();  <span class="comment">//喂狗</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_iwdg.h</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __BSP_IWDG_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __BSP_IWDG_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stm32f10x.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">IWDG_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">IWDG_FeedDog</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>Led_Key.h</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __LED_KEY_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __LED_KEY_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stm32f10x.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> KEY_ON 	0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> KEY_OFF	1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LED_TOGGLE  GPIOA-&gt;ODR ^= GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Led_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Key_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Key_Scan</span><span class="params">(GPIO_TypeDef* GPIOx, <span class="keyword">unsigned</span> <span class="keyword">int</span> Pin)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>灯一直闪烁说明看门狗一直在复位，如果频繁按下按键，会发生喂狗操作，灯熄灭</p>
<h2 id="（十二）窗口看门狗"><a href="#（十二）窗口看门狗" class="headerlink" title="（十二）窗口看门狗"></a>（十二）窗口看门狗</h2><p><img src="/2019/01/05/STM32/Users\s\AppData\Roaming\Typora\typora-user-images\image-20220129174831076.png" alt="image-20220129174831076"></p>
<img src="/2019/01/05/STM32/image-20220129192314688.png" alt="image-20220129192314688" style="zoom:50%;">

<p>1.当窗口看门狗的递减计数器T[6:0]大于上线窗口W[6:0]时，如果此时尝试去喂狗的话，将立刻产生CPU复位。</p>
<p>2.当递减计数器T[6:0]到达下线窗口0x3F的值时，会立刻触发CPU复位</p>
<img src="/2019/01/05/STM32/image-20220129192407856.png" alt="image-20220129192407856" style="zoom:50%;">

<p><img src="/2019/01/05/STM32/image-20220129192848113.png" alt="image-20220129192848113"></p>
<p><img src="/2019/01/05/STM32/image-20220129210851645.png" alt="image-20220129210851645"></p>
<p><img src="/2019/01/05/STM32/image-20220129211320446.png" alt="image-20220129211320446"></p>
<p><img src="/2019/01/05/STM32/image-20220129211500046.png" alt="image-20220129211500046"></p>
<p><img src="/2019/01/05/STM32/image-20220129211729009.png" alt="image-20220129211729009"></p>
<p><img src="/2019/01/05/STM32/image-20220201163903932.png" alt="image-20220201163903932"></p>
<p><img src="/2019/01/05/STM32/image-20220201163958011.png" alt="image-20220201163958011"></p>
<p><img src="/2019/01/05/STM32/image-20220201164126712.png" alt="image-20220201164126712"></p>
<p><strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Led_Key.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_SysTick.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_iwdg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_wwdg.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	SysTick_Configuration();</span><br><span class="line">	</span><br><span class="line">	Led_Configuration();</span><br><span class="line">	</span><br><span class="line">  <span class="comment">//写一段灯闪烁的代码</span></span><br><span class="line">	LED_TOGGLE;</span><br><span class="line">	Delay_us(<span class="number">100000</span>);</span><br><span class="line">	LED_TOGGLE;</span><br><span class="line">	Delay_us(<span class="number">100000</span>);</span><br><span class="line"></span><br><span class="line">	WWDG_Configuration(<span class="number">0x7F</span>, <span class="number">0x5F</span>, WWDG_Prescaler_8);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_wwdg.c</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &quot;bsp_wwdg.h&quot;</span><br><span class="line"></span><br><span class="line">unsigned char WWDG_CNT = 0x7F;</span><br><span class="line"></span><br><span class="line">void WWDG_NVIC_Init(void)</span><br><span class="line">&#123;</span><br><span class="line">	NVIC_InitTypeDef NVIC_InitStructure;</span><br><span class="line">	</span><br><span class="line">	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_1);	</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannel = WWDG_IRQn;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 2;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;</span><br><span class="line">	NVIC_Init(&amp;NVIC_InitStructure);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void WWDG_Configuration(unsigned char tr, unsigned char wr, unsigned int pr)</span><br><span class="line">&#123;</span><br><span class="line">	RCC_APB1PeriphClockCmd(RCC_APB1Periph_WWDG, ENABLE);</span><br><span class="line">	</span><br><span class="line">	WWDG_CNT = tr &amp; WWDG_CNT;</span><br><span class="line">	WWDG_SetPrescaler(pr);</span><br><span class="line">	WWDG_SetWindowValue(wr);</span><br><span class="line">	WWDG_Enable(WWDG_CNT);</span><br><span class="line"></span><br><span class="line">	WWDG_NVIC_Init();</span><br><span class="line">	WWDG_ClearFlag();</span><br><span class="line">	WWDG_EnableIT();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_wwdg.h</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __BSP_WWDG_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __BSP_WWDG_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;stm32f10x.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> WWDG_CNT;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">WWDG_Configuration</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">char</span> tr, <span class="keyword">unsigned</span> <span class="keyword">char</span> wr, <span class="keyword">unsigned</span> <span class="keyword">int</span> pr)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>补：<strong>stm32f10x_it.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">WWDG_IRQHandler</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	WWDG_SetCounter(WWDG_CNT);</span><br><span class="line">	WWDG_ClearFlag();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="（十三）USART初始化及单个字符发送代码"><a href="#（十三）USART初始化及单个字符发送代码" class="headerlink" title="（十三）USART初始化及单个字符发送代码"></a>（十三）USART初始化及单个字符发送代码</h2><p>UART应用：cpu和cpu之间，开发板和pc机之间，开发板和外围模块之间</p>
<p><img src="/2019/01/05/STM32/image-20220207210432924.png" alt="image-20220207210432924"></p>
<p><img src="/2019/01/05/STM32/image-20220207210512490.png" alt="image-20220207210512490"></p>
<p><img src="/2019/01/05/STM32/image-20220207210837834.png" alt="image-20220207210837834"></p>
<p><img src="/2019/01/05/STM32/image-20220207211035634.png" alt="image-20220207211035634"></p>
<p><strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Led_Key.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_SysTick.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_iwdg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_wwdg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_uart.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	SysTick_Configuration();</span><br><span class="line">	</span><br><span class="line">	Uart1_Configuration();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		USART_SendData(USART1, <span class="number">0x41</span>);</span><br><span class="line">		Delay_us(<span class="number">1000000</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_uart.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_uart.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Uart1_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	GPIO_InitTypeDef GPIO_InitStructure;</span><br><span class="line">	USART_InitTypeDef USART_InitStructure;</span><br><span class="line">	</span><br><span class="line">	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA | RCC_APB2Periph_USART1, ENABLE);</span><br><span class="line">	</span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9;   <span class="comment">//TX</span></span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;  <span class="comment">//复用推挽输出</span></span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);</span><br><span class="line">	</span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10;   <span class="comment">//TX</span></span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;</span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);</span><br><span class="line">	</span><br><span class="line">	USART_InitStructure.USART_BaudRate = <span class="number">115200</span>;</span><br><span class="line">	USART_InitStructure.USART_WordLength = USART_WordLength_8b;</span><br><span class="line">	USART_InitStructure.USART_StopBits = USART_StopBits_1;</span><br><span class="line">	USART_InitStructure.USART_Parity = USART_Parity_No;</span><br><span class="line">	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;</span><br><span class="line">	USART_InitStructure.USART_Mode = USART_Mode_Tx | USART_Mode_Rx;</span><br><span class="line">	USART_Init(USART1, &amp;USART_InitStructure);</span><br><span class="line">	USART_Cmd(USART1, ENABLE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_uart.h</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __BSP_UART_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __BSP_UART_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stm32f10x.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Uart1_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/2019/01/05/STM32/image-20220209111229426.png" alt="image-20220209111229426" style="zoom:50%;">

<h2 id="（十四）UART字符串发送和printf实现"><a href="#（十四）UART字符串发送和printf实现" class="headerlink" title="（十四）UART字符串发送和printf实现"></a>（十四）UART字符串发送和printf实现</h2><p><img src="/2019/01/05/STM32/image-20220209111609348.png" alt="image-20220209111609348"></p>
<p><img src="/2019/01/05/STM32/image-20220209111722385.png" alt="image-20220209111722385"></p>
<p><strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Led_Key.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_SysTick.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_iwdg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_wwdg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_uart.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	SysTick_Configuration();</span><br><span class="line">	</span><br><span class="line">	Uart1_Configuration();</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;Hello world\n&quot;</span>);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;i = %d\n&quot;</span>, i++);</span><br><span class="line">		Delay_us(<span class="number">1000000</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_uart.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_uart.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_SysTick.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Uart1_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	GPIO_InitTypeDef GPIO_InitStructure;</span><br><span class="line">	USART_InitTypeDef USART_InitStructure;</span><br><span class="line">	</span><br><span class="line">	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA | RCC_APB2Periph_USART1, ENABLE);</span><br><span class="line">	</span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9;   <span class="comment">//TX</span></span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;</span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);</span><br><span class="line">	</span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10;   <span class="comment">//TX</span></span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;</span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);</span><br><span class="line">	</span><br><span class="line">	USART_InitStructure.USART_BaudRate = <span class="number">115200</span>;</span><br><span class="line">	USART_InitStructure.USART_WordLength = USART_WordLength_8b;</span><br><span class="line">	USART_InitStructure.USART_StopBits = USART_StopBits_1;</span><br><span class="line">	USART_InitStructure.USART_Parity = USART_Parity_No;</span><br><span class="line">	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;</span><br><span class="line">	USART_InitStructure.USART_Mode = USART_Mode_Tx | USART_Mode_Rx;</span><br><span class="line">	USART_Init(USART1, &amp;USART_InitStructure);</span><br><span class="line">	USART_Cmd(USART1, ENABLE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">USART_SendString</span><span class="params">(<span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> *pt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(*pt)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(USART_GetFlagStatus(USART1, USART_FLAG_TXE) != SET);<span class="comment">//确保发送缓冲区为空，只有发送缓冲区为空才继续发送</span></span><br><span class="line">        <span class="comment">//Delay_us(1000000);//加上延时，否则速度过快，数据缓冲区来不及处理</span></span><br><span class="line">		USART_SendData(USART1, *pt);</span><br><span class="line">		<span class="keyword">while</span>(USART_GetFlagStatus(USART1, USART_FLAG_TC) != SET);<span class="comment">//等待发送完成</span></span><br><span class="line">        <span class="comment">//Delay_us(1000000);</span></span><br><span class="line">		pt++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fputc</span> <span class="params">(<span class="keyword">int</span> c, FILE *fp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(USART_GetFlagStatus(USART1, USART_FLAG_TXE) != SET);<span class="comment">//确保发送缓冲区为空，只有发送缓冲区为空才继续发送</span></span><br><span class="line">	USART_SendData(USART1, c);</span><br><span class="line">	<span class="keyword">while</span>(USART_GetFlagStatus(USART1, USART_FLAG_TC) != SET);<span class="comment">//等待发送完成</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_uart.h</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __BSP_UART_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __BSP_UART_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stm32f10x.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Uart1_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">USART_SendString</span><span class="params">(<span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> *pt)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="/2019/01/05/STM32/image-20220209120255539.png" alt="image-20220209120255539" style="zoom:50%;">

<h2 id="（十五）UART接收功能实现"><a href="#（十五）UART接收功能实现" class="headerlink" title="（十五）UART接收功能实现"></a>（十五）UART接收功能实现</h2><p><img src="/2019/01/05/STM32/image-20220209120631587.png" alt="image-20220209120631587"></p>
<p> <img src="/2019/01/05/STM32/image-20220209123951976.png" alt="image-20220209123951976"></p>
<p><img src="/2019/01/05/STM32/image-20220209124115869.png" alt="image-20220209124115869"></p>
<p><img src="/2019/01/05/STM32/image-20220209125912670.png" alt="image-20220209125912670"></p>
<img src="/2019/01/05/STM32/image-20220209133111180.png" alt="image-20220209133111180" style="zoom:50%;">

<p><strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Led_Key.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_SysTick.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_iwdg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_wwdg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_uart.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	SysTick_Configuration();</span><br><span class="line">	</span><br><span class="line">	Uart1_Configuration();</span><br><span class="line">	Uart1_NVIC_Init();</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_uart.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_uart.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_SysTick.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Uart1_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	GPIO_InitTypeDef GPIO_InitStructure;</span><br><span class="line">	USART_InitTypeDef USART_InitStructure;</span><br><span class="line">	</span><br><span class="line">	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA | RCC_APB2Periph_USART1, ENABLE);</span><br><span class="line">	</span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9;   <span class="comment">//TX</span></span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;</span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);</span><br><span class="line">	</span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10;   <span class="comment">//TX</span></span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;</span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);</span><br><span class="line">	</span><br><span class="line">	USART_InitStructure.USART_BaudRate = <span class="number">115200</span>;</span><br><span class="line">	USART_InitStructure.USART_WordLength = USART_WordLength_8b;</span><br><span class="line">	USART_InitStructure.USART_StopBits = USART_StopBits_1;</span><br><span class="line">	USART_InitStructure.USART_Parity = USART_Parity_No;</span><br><span class="line">	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;</span><br><span class="line">	USART_InitStructure.USART_Mode = USART_Mode_Tx | USART_Mode_Rx;</span><br><span class="line">	USART_Init(USART1, &amp;USART_InitStructure);</span><br><span class="line">	USART_ITConfig(USART1, USART_IT_RXNE, ENABLE);</span><br><span class="line">	USART_Cmd(USART1, ENABLE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Uart1_NVIC_Init</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	NVIC_InitTypeDef NVIC_InitStructure;</span><br><span class="line">	</span><br><span class="line">	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_1);	</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannel = USART1_IRQn;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = <span class="number">0</span>;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelSubPriority = <span class="number">1</span>;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;</span><br><span class="line">	NVIC_Init(&amp;NVIC_InitStructure);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">USART_SendString</span><span class="params">(<span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> *pt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(*pt)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(USART_GetFlagStatus(USART1, USART_FLAG_TXE) != SET);<span class="comment">//确保发送缓冲区为空，只有发送缓冲区为空才继续发送</span></span><br><span class="line">		USART_SendData(USART1, *pt);</span><br><span class="line">		<span class="keyword">while</span>(USART_GetFlagStatus(USART1, USART_FLAG_TC) != SET);<span class="comment">//等待发送完成</span></span><br><span class="line">		pt++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fputc</span> <span class="params">(<span class="keyword">int</span> c, FILE *fp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(USART_GetFlagStatus(USART1, USART_FLAG_TXE) != SET);<span class="comment">//确保发送缓冲区为空，只有发送缓冲区为空才继续发送</span></span><br><span class="line">	USART_SendData(USART1, c);</span><br><span class="line">	<span class="keyword">while</span>(USART_GetFlagStatus(USART1, USART_FLAG_TC) != SET);<span class="comment">//等待发送完成</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fgetc</span><span class="params">(FILE *fp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(USART_GetFlagStatus(USART1, USART_FLAG_RXNE) != SET);  <span class="comment">//等待直到接收缓冲区内非空</span></span><br><span class="line">	<span class="keyword">return</span> (<span class="keyword">int</span>)USART_ReceiveData(USART1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">USART1_IRQHandler</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">char</span> ch;</span><br><span class="line">	<span class="keyword">while</span>(USART_GetFlagStatus(USART1, USART_FLAG_RXNE) == SET)</span><br><span class="line">	&#123;</span><br><span class="line">		ch = USART_ReceiveData(USART1);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>, ch + <span class="number">1</span>);</span><br><span class="line">	&#125;			</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_uart.h</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __BSP_UART_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __BSP_UART_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stm32f10x.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Uart1_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Uart1_NVIC_Init</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">USART_SendString</span><span class="params">(<span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> *pt)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="（十六）睡眠模式"><a href="#（十六）睡眠模式" class="headerlink" title="（十六）睡眠模式"></a>（十六）睡眠模式</h2><img src="/2019/01/05/STM32/image-20220209171108253.png" alt="image-20220209171108253" style="zoom: 50%;">

<img src="/2019/01/05/STM32/image-20220209171130729.png" alt="image-20220209171130729" style="zoom:67%;">

<img src="/2019/01/05/STM32/image-20220209173602568.png" alt="image-20220209173602568" style="zoom:67%;">

<p><strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Led_Key.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_SysTick.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_iwdg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_wwdg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_uart.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	</span><br><span class="line">	SysTick_Configuration();</span><br><span class="line">	</span><br><span class="line">	Led_Configuration();</span><br><span class="line">	</span><br><span class="line">	PA0_EXTI0_Configuration();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			GPIO_WriteBit(GPIOA, GPIO_Pin_1 |  GPIO_Pin_2 |  GPIO_Pin_3 |  GPIO_Pin_4, Bit_SET);</span><br><span class="line">			Delay_us(<span class="number">200000</span>);</span><br><span class="line">			GPIO_WriteBit(GPIOA, GPIO_Pin_1 |  GPIO_Pin_2 |  GPIO_Pin_3 |  GPIO_Pin_4, Bit_RESET);</span><br><span class="line">			Delay_us(<span class="number">200000</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		__WFI();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_exti.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">wait</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> nCount)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(nCount--)</span><br><span class="line">	&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PA0_EXTI0_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	NVIC_InitTypeDef NVIC_InitStructure;</span><br><span class="line">	GPIO_InitTypeDef GPIO_InitStructure;</span><br><span class="line">	EXTI_InitTypeDef EXTI_InitStructure;</span><br><span class="line">	</span><br><span class="line">	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA | RCC_APB2Periph_AFIO, ENABLE);</span><br><span class="line"></span><br><span class="line">	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_1);	</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannel = EXTI0_IRQn;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = <span class="number">0</span>;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelSubPriority = <span class="number">2</span>;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;</span><br><span class="line">	NVIC_Init(&amp;NVIC_InitStructure);</span><br><span class="line">	</span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_0;</span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU; <span class="comment">//ÐÞ¸ÄµÄµØ·½</span></span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);</span><br><span class="line">	GPIO_EXTILineConfig(GPIO_PortSourceGPIOA, GPIO_PinSource0);</span><br><span class="line">	</span><br><span class="line">	EXTI_InitStructure.EXTI_Line = EXTI_Line0;</span><br><span class="line">	EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;</span><br><span class="line">	EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;</span><br><span class="line">	EXTI_InitStructure.EXTI_LineCmd = ENABLE;</span><br><span class="line">	EXTI_Init(&amp;EXTI_InitStructure);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">EXTI0_IRQHandler</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(EXTI_GetITStatus(EXTI_Line0) != RESET)</span><br><span class="line">	&#123;</span><br><span class="line"><span class="comment">//		GPIOA-&gt;ODR ^= GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4;</span></span><br><span class="line"><span class="comment">//		wait(5000000);</span></span><br><span class="line">		EXTI_ClearITPendingBit(EXTI_Line0);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="（十七）停止模式"><a href="#（十七）停止模式" class="headerlink" title="（十七）停止模式"></a>（十七）停止模式</h2><p><img src="/2019/01/05/STM32/image-20220222090209160.png" alt="image-20220222090209160"></p>
<img src="/2019/01/05/STM32/image-20220222090704600.png" alt="image-20220222090704600" style="zoom:50%;">

<p><strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Led_Key.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_SysTick.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_iwdg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_wwdg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_uart.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	</span><br><span class="line">	SysTick_Configuration();</span><br><span class="line">	</span><br><span class="line">	Led_Configuration();</span><br><span class="line">	</span><br><span class="line">	PA0_EXTI0_Configuration();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			GPIO_WriteBit(GPIOA, GPIO_Pin_1 |  GPIO_Pin_2 |  GPIO_Pin_3 |  GPIO_Pin_4, Bit_SET);</span><br><span class="line">			Delay_us(<span class="number">200000</span>);</span><br><span class="line">			GPIO_WriteBit(GPIOA, GPIO_Pin_1 |  GPIO_Pin_2 |  GPIO_Pin_3 |  GPIO_Pin_4, Bit_RESET);</span><br><span class="line">			Delay_us(<span class="number">200000</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		RCC_APB1PeriphClockCmd(RCC_APB1Periph_PWR, ENABLE);</span><br><span class="line">		PWR_EnterSTOPMode(PWR_Regulator_LowPower, PWR_STOPEntry_WFI);</span><br><span class="line">		<span class="comment">//唤醒后没有重新初始化HSI和HSE，高速内部和外部时钟还是处于关闭状态，40KHz与72MHz相差较大，导致灯闪烁频率明显变慢，在中断处理函数中重新让CPU工作频率变为HSI和HSE</span></span><br><span class="line">		<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			GPIO_WriteBit(GPIOA, GPIO_Pin_1 |  GPIO_Pin_2 |  GPIO_Pin_3 |  GPIO_Pin_4, Bit_SET);</span><br><span class="line">			Delay_us(<span class="number">200000</span>);</span><br><span class="line">			GPIO_WriteBit(GPIOA, GPIO_Pin_1 |  GPIO_Pin_2 |  GPIO_Pin_3 |  GPIO_Pin_4, Bit_RESET);</span><br><span class="line">			Delay_us(<span class="number">200000</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_exti.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">wait</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> nCount)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(nCount--)</span><br><span class="line">	&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PA0_EXTI0_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	NVIC_InitTypeDef NVIC_InitStructure;</span><br><span class="line">	GPIO_InitTypeDef GPIO_InitStructure;</span><br><span class="line">	EXTI_InitTypeDef EXTI_InitStructure;</span><br><span class="line">	</span><br><span class="line">	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA | RCC_APB2Periph_AFIO, ENABLE);</span><br><span class="line"></span><br><span class="line">	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_1);	</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannel = EXTI0_IRQn;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = <span class="number">0</span>;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelSubPriority = <span class="number">2</span>;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;</span><br><span class="line">	NVIC_Init(&amp;NVIC_InitStructure);</span><br><span class="line">	</span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_0;</span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU; <span class="comment">//?????</span></span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);</span><br><span class="line">	GPIO_EXTILineConfig(GPIO_PortSourceGPIOA, GPIO_PinSource0);</span><br><span class="line">	</span><br><span class="line">	EXTI_InitStructure.EXTI_Line = EXTI_Line0;</span><br><span class="line">	EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;</span><br><span class="line">	EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;</span><br><span class="line">	EXTI_InitStructure.EXTI_LineCmd = ENABLE;</span><br><span class="line">	EXTI_Init(&amp;EXTI_InitStructure);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SetSysClock_to_72MHZ</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  __IO <span class="keyword">uint32_t</span> StartUpCounter = <span class="number">0</span>, HSEStatus = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/</span>    </span><br><span class="line">  <span class="comment">/* Enable HSE */</span>    </span><br><span class="line">  RCC-&gt;CR |= ((<span class="keyword">uint32_t</span>)RCC_CR_HSEON);</span><br><span class="line"> </span><br><span class="line">  <span class="comment">/* Wait till HSE is ready and if Time out is reached exit */</span></span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">  &#123;</span><br><span class="line">    HSEStatus = RCC-&gt;CR &amp; RCC_CR_HSERDY;</span><br><span class="line">    StartUpCounter++;  </span><br><span class="line">  &#125; <span class="keyword">while</span>((HSEStatus == <span class="number">0</span>) &amp;&amp; (StartUpCounter != HSE_STARTUP_TIMEOUT));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ((RCC-&gt;CR &amp; RCC_CR_HSERDY) != RESET)</span><br><span class="line">  &#123;</span><br><span class="line">    HSEStatus = (<span class="keyword">uint32_t</span>)<span class="number">0x01</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    HSEStatus = (<span class="keyword">uint32_t</span>)<span class="number">0x00</span>;</span><br><span class="line">  &#125;  </span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (HSEStatus == (<span class="keyword">uint32_t</span>)<span class="number">0x01</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">/* Enable Prefetch Buffer */</span></span><br><span class="line">    FLASH-&gt;ACR |= FLASH_ACR_PRFTBE;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Flash 2 wait state */</span></span><br><span class="line">    FLASH-&gt;ACR &amp;= (<span class="keyword">uint32_t</span>)((<span class="keyword">uint32_t</span>)~FLASH_ACR_LATENCY);</span><br><span class="line">    FLASH-&gt;ACR |= (<span class="keyword">uint32_t</span>)FLASH_ACR_LATENCY_2;    </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    <span class="comment">/* HCLK = SYSCLK */</span></span><br><span class="line">    RCC-&gt;CFGR |= (<span class="keyword">uint32_t</span>)RCC_CFGR_HPRE_DIV1;</span><br><span class="line">      </span><br><span class="line">    <span class="comment">/* PCLK2 = HCLK */</span></span><br><span class="line">    RCC-&gt;CFGR |= (<span class="keyword">uint32_t</span>)RCC_CFGR_PPRE2_DIV1;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* PCLK1 = HCLK */</span></span><br><span class="line">    RCC-&gt;CFGR |= (<span class="keyword">uint32_t</span>)RCC_CFGR_PPRE1_DIV2;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> STM32F10X_CL</span></span><br><span class="line">    <span class="comment">/* Configure PLLs ------------------------------------------------------*/</span></span><br><span class="line">    <span class="comment">/* PLL2 configuration: PLL2CLK = (HSE / 5) * 8 = 40 MHz */</span></span><br><span class="line">    <span class="comment">/* PREDIV1 configuration: PREDIV1CLK = PLL2 / 5 = 8 MHz */</span></span><br><span class="line">        </span><br><span class="line">    RCC-&gt;CFGR2 &amp;= (<span class="keyword">uint32_t</span>)~(RCC_CFGR2_PREDIV2 | RCC_CFGR2_PLL2MUL |</span><br><span class="line">                              RCC_CFGR2_PREDIV1 | RCC_CFGR2_PREDIV1SRC);</span><br><span class="line">    RCC-&gt;CFGR2 |= (<span class="keyword">uint32_t</span>)(RCC_CFGR2_PREDIV2_DIV5 | RCC_CFGR2_PLL2MUL8 |</span><br><span class="line">                             RCC_CFGR2_PREDIV1SRC_PLL2 | RCC_CFGR2_PREDIV1_DIV5);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">/* Enable PLL2 */</span></span><br><span class="line">    RCC-&gt;CR |= RCC_CR_PLL2ON;</span><br><span class="line">    <span class="comment">/* Wait till PLL2 is ready */</span></span><br><span class="line">    <span class="keyword">while</span>((RCC-&gt;CR &amp; RCC_CR_PLL2RDY) == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">/* PLL configuration: PLLCLK = PREDIV1 * 9 = 72 MHz */</span> </span><br><span class="line">    RCC-&gt;CFGR &amp;= (<span class="keyword">uint32_t</span>)~(RCC_CFGR_PLLXTPRE | RCC_CFGR_PLLSRC | RCC_CFGR_PLLMULL);</span><br><span class="line">    RCC-&gt;CFGR |= (<span class="keyword">uint32_t</span>)(RCC_CFGR_PLLXTPRE_PREDIV1 | RCC_CFGR_PLLSRC_PREDIV1 | </span><br><span class="line">                            RCC_CFGR_PLLMULL9); </span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span>    </span></span><br><span class="line">    <span class="comment">/*  PLL configuration: PLLCLK = HSE * 9 = 72 MHz */</span></span><br><span class="line">    RCC-&gt;CFGR &amp;= (<span class="keyword">uint32_t</span>)((<span class="keyword">uint32_t</span>)~(RCC_CFGR_PLLSRC | RCC_CFGR_PLLXTPRE |</span><br><span class="line">                                        RCC_CFGR_PLLMULL));</span><br><span class="line">    RCC-&gt;CFGR |= (<span class="keyword">uint32_t</span>)(RCC_CFGR_PLLSRC_HSE | RCC_CFGR_PLLMULL9);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* STM32F10X_CL */</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Enable PLL */</span></span><br><span class="line">    RCC-&gt;CR |= RCC_CR_PLLON;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Wait till PLL is ready */</span></span><br><span class="line">    <span class="keyword">while</span>((RCC-&gt;CR &amp; RCC_CR_PLLRDY) == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* Select PLL as system clock source */</span></span><br><span class="line">    RCC-&gt;CFGR &amp;= (<span class="keyword">uint32_t</span>)((<span class="keyword">uint32_t</span>)~(RCC_CFGR_SW));</span><br><span class="line">    RCC-&gt;CFGR |= (<span class="keyword">uint32_t</span>)RCC_CFGR_SW_PLL;    </span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Wait till PLL is used as system clock source */</span></span><br><span class="line">    <span class="keyword">while</span> ((RCC-&gt;CFGR &amp; (<span class="keyword">uint32_t</span>)RCC_CFGR_SWS) != (<span class="keyword">uint32_t</span>)<span class="number">0x08</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123; <span class="comment">/* If HSE fails to start-up, the application will have wrong clock </span></span><br><span class="line"><span class="comment">         configuration. User can add here some code to deal with this error */</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> EXTI0_IRQHandler(<span class="keyword">void</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(EXTI_GetITStatus(EXTI_Line0) != RESET)</span><br><span class="line">	&#123;</span><br><span class="line"><span class="comment">//		GPIOA-&gt;ODR ^= GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4;</span></span><br><span class="line"><span class="comment">//		wait(5000000);</span></span><br><span class="line">		SetSysClock_to_72MHZ();</span><br><span class="line">		EXTI_ClearITPendingBit(EXTI_Line0);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="（十八）待机模式"><a href="#（十八）待机模式" class="headerlink" title="（十八）待机模式"></a>（十八）待机模式</h2><p>​        待机模式可实现系统的最低功耗。该模式是在Cortex-M3深睡眠模式时关闭电压调节器。整个1.8V供电区域被断电。PLL、HSI和HSE振荡器也被断电。SRAM和寄存器内容丢失。只有备份的寄存器和待机电路维持供电。</p>
<p><img src="/2019/01/05/STM32/image-20220222095315388.png" alt="image-20220222095315388"></p>
<p><strong>main.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;Led_Key.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_SysTick.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_iwdg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_wwdg.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_uart.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	SysTick_Configuration();</span><br><span class="line">	</span><br><span class="line">	Led_Configuration();</span><br><span class="line">	</span><br><span class="line">	PA5_EXTI5_Configuration();</span><br><span class="line">	</span><br><span class="line">	RCC_APB1PeriphClockCmd(RCC_APB1Periph_PWR, ENABLE);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		GPIO_WriteBit(GPIOA, GPIO_Pin_1 |  GPIO_Pin_2 |  GPIO_Pin_3 |  GPIO_Pin_4, Bit_SET);</span><br><span class="line">		Delay_us(<span class="number">200000</span>);</span><br><span class="line">		GPIO_WriteBit(GPIOA, GPIO_Pin_1 |  GPIO_Pin_2 |  GPIO_Pin_3 |  GPIO_Pin_4, Bit_RESET);</span><br><span class="line">		Delay_us(<span class="number">200000</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>bsp_exti.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;bsp_exti.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">wait</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> nCount)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(nCount--)</span><br><span class="line">	&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PA0_EXTI0_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	NVIC_InitTypeDef NVIC_InitStructure;</span><br><span class="line">	GPIO_InitTypeDef GPIO_InitStructure;</span><br><span class="line">	EXTI_InitTypeDef EXTI_InitStructure;</span><br><span class="line">	</span><br><span class="line">	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA | RCC_APB2Periph_AFIO, ENABLE);</span><br><span class="line"></span><br><span class="line">	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_1);	</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannel = EXTI0_IRQn;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = <span class="number">0</span>;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelSubPriority = <span class="number">2</span>;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;</span><br><span class="line">	NVIC_Init(&amp;NVIC_InitStructure);</span><br><span class="line">	</span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_0;</span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU; <span class="comment">//?????</span></span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);</span><br><span class="line">	GPIO_EXTILineConfig(GPIO_PortSourceGPIOA, GPIO_PinSource0);</span><br><span class="line">	</span><br><span class="line">	EXTI_InitStructure.EXTI_Line = EXTI_Line0;</span><br><span class="line">	EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;</span><br><span class="line">	EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;</span><br><span class="line">	EXTI_InitStructure.EXTI_LineCmd = ENABLE;</span><br><span class="line">	EXTI_Init(&amp;EXTI_InitStructure);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PA5_EXTI5_Configuration</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	NVIC_InitTypeDef NVIC_InitStructure;</span><br><span class="line">	GPIO_InitTypeDef GPIO_InitStructure;</span><br><span class="line">	EXTI_InitTypeDef EXTI_InitStructure;</span><br><span class="line">	</span><br><span class="line">	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA | RCC_APB2Periph_AFIO, ENABLE);</span><br><span class="line"></span><br><span class="line">	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_1);	</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannel = EXTI9_5_IRQn;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = <span class="number">0</span>;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelSubPriority = <span class="number">3</span>;</span><br><span class="line">	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;</span><br><span class="line">	NVIC_Init(&amp;NVIC_InitStructure);</span><br><span class="line">	</span><br><span class="line">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5;</span><br><span class="line">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU; <span class="comment">//?????</span></span><br><span class="line">	GPIO_Init(GPIOA, &amp;GPIO_InitStructure);</span><br><span class="line">	GPIO_EXTILineConfig(GPIO_PortSourceGPIOA, GPIO_PinSource5);</span><br><span class="line">	</span><br><span class="line">	EXTI_InitStructure.EXTI_Line = EXTI_Line5;</span><br><span class="line">	EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;</span><br><span class="line">	EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;</span><br><span class="line">	EXTI_InitStructure.EXTI_LineCmd = ENABLE;</span><br><span class="line">	EXTI_Init(&amp;EXTI_InitStructure);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SetSysClock_to_72MHZ</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  __IO <span class="keyword">uint32_t</span> StartUpCounter = <span class="number">0</span>, HSEStatus = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/</span>    </span><br><span class="line">  <span class="comment">/* Enable HSE */</span>    </span><br><span class="line">  RCC-&gt;CR |= ((<span class="keyword">uint32_t</span>)RCC_CR_HSEON);</span><br><span class="line"> </span><br><span class="line">  <span class="comment">/* Wait till HSE is ready and if Time out is reached exit */</span></span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">  &#123;</span><br><span class="line">    HSEStatus = RCC-&gt;CR &amp; RCC_CR_HSERDY;</span><br><span class="line">    StartUpCounter++;  </span><br><span class="line">  &#125; <span class="keyword">while</span>((HSEStatus == <span class="number">0</span>) &amp;&amp; (StartUpCounter != HSE_STARTUP_TIMEOUT));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ((RCC-&gt;CR &amp; RCC_CR_HSERDY) != RESET)</span><br><span class="line">  &#123;</span><br><span class="line">    HSEStatus = (<span class="keyword">uint32_t</span>)<span class="number">0x01</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    HSEStatus = (<span class="keyword">uint32_t</span>)<span class="number">0x00</span>;</span><br><span class="line">  &#125;  </span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (HSEStatus == (<span class="keyword">uint32_t</span>)<span class="number">0x01</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">/* Enable Prefetch Buffer */</span></span><br><span class="line">    FLASH-&gt;ACR |= FLASH_ACR_PRFTBE;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Flash 2 wait state */</span></span><br><span class="line">    FLASH-&gt;ACR &amp;= (<span class="keyword">uint32_t</span>)((<span class="keyword">uint32_t</span>)~FLASH_ACR_LATENCY);</span><br><span class="line">    FLASH-&gt;ACR |= (<span class="keyword">uint32_t</span>)FLASH_ACR_LATENCY_2;    </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    <span class="comment">/* HCLK = SYSCLK */</span></span><br><span class="line">    RCC-&gt;CFGR |= (<span class="keyword">uint32_t</span>)RCC_CFGR_HPRE_DIV1;</span><br><span class="line">      </span><br><span class="line">    <span class="comment">/* PCLK2 = HCLK */</span></span><br><span class="line">    RCC-&gt;CFGR |= (<span class="keyword">uint32_t</span>)RCC_CFGR_PPRE2_DIV1;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* PCLK1 = HCLK */</span></span><br><span class="line">    RCC-&gt;CFGR |= (<span class="keyword">uint32_t</span>)RCC_CFGR_PPRE1_DIV2;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> STM32F10X_CL</span></span><br><span class="line">    <span class="comment">/* Configure PLLs ------------------------------------------------------*/</span></span><br><span class="line">    <span class="comment">/* PLL2 configuration: PLL2CLK = (HSE / 5) * 8 = 40 MHz */</span></span><br><span class="line">    <span class="comment">/* PREDIV1 configuration: PREDIV1CLK = PLL2 / 5 = 8 MHz */</span></span><br><span class="line">        </span><br><span class="line">    RCC-&gt;CFGR2 &amp;= (<span class="keyword">uint32_t</span>)~(RCC_CFGR2_PREDIV2 | RCC_CFGR2_PLL2MUL |</span><br><span class="line">                              RCC_CFGR2_PREDIV1 | RCC_CFGR2_PREDIV1SRC);</span><br><span class="line">    RCC-&gt;CFGR2 |= (<span class="keyword">uint32_t</span>)(RCC_CFGR2_PREDIV2_DIV5 | RCC_CFGR2_PLL2MUL8 |</span><br><span class="line">                             RCC_CFGR2_PREDIV1SRC_PLL2 | RCC_CFGR2_PREDIV1_DIV5);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">/* Enable PLL2 */</span></span><br><span class="line">    RCC-&gt;CR |= RCC_CR_PLL2ON;</span><br><span class="line">    <span class="comment">/* Wait till PLL2 is ready */</span></span><br><span class="line">    <span class="keyword">while</span>((RCC-&gt;CR &amp; RCC_CR_PLL2RDY) == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">   </span><br><span class="line">    <span class="comment">/* PLL configuration: PLLCLK = PREDIV1 * 9 = 72 MHz */</span> </span><br><span class="line">    RCC-&gt;CFGR &amp;= (<span class="keyword">uint32_t</span>)~(RCC_CFGR_PLLXTPRE | RCC_CFGR_PLLSRC | RCC_CFGR_PLLMULL);</span><br><span class="line">    RCC-&gt;CFGR |= (<span class="keyword">uint32_t</span>)(RCC_CFGR_PLLXTPRE_PREDIV1 | RCC_CFGR_PLLSRC_PREDIV1 | </span><br><span class="line">                            RCC_CFGR_PLLMULL9); </span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span>    </span></span><br><span class="line">    <span class="comment">/*  PLL configuration: PLLCLK = HSE * 9 = 72 MHz */</span></span><br><span class="line">    RCC-&gt;CFGR &amp;= (<span class="keyword">uint32_t</span>)((<span class="keyword">uint32_t</span>)~(RCC_CFGR_PLLSRC | RCC_CFGR_PLLXTPRE |</span><br><span class="line">                                        RCC_CFGR_PLLMULL));</span><br><span class="line">    RCC-&gt;CFGR |= (<span class="keyword">uint32_t</span>)(RCC_CFGR_PLLSRC_HSE | RCC_CFGR_PLLMULL9);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* STM32F10X_CL */</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Enable PLL */</span></span><br><span class="line">    RCC-&gt;CR |= RCC_CR_PLLON;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Wait till PLL is ready */</span></span><br><span class="line">    <span class="keyword">while</span>((RCC-&gt;CR &amp; RCC_CR_PLLRDY) == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* Select PLL as system clock source */</span></span><br><span class="line">    RCC-&gt;CFGR &amp;= (<span class="keyword">uint32_t</span>)((<span class="keyword">uint32_t</span>)~(RCC_CFGR_SW));</span><br><span class="line">    RCC-&gt;CFGR |= (<span class="keyword">uint32_t</span>)RCC_CFGR_SW_PLL;    </span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Wait till PLL is used as system clock source */</span></span><br><span class="line">    <span class="keyword">while</span> ((RCC-&gt;CFGR &amp; (<span class="keyword">uint32_t</span>)RCC_CFGR_SWS) != (<span class="keyword">uint32_t</span>)<span class="number">0x08</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123; <span class="comment">/* If HSE fails to start-up, the application will have wrong clock </span></span><br><span class="line"><span class="comment">         configuration. User can add here some code to deal with this error */</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> EXTI0_IRQHandler(<span class="keyword">void</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span>(EXTI_GetITStatus(EXTI_Line0) != RESET)</span><br><span class="line">	&#123;</span><br><span class="line"><span class="comment">//		GPIOA-&gt;ODR ^= GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4;</span></span><br><span class="line"><span class="comment">//		wait(5000000);</span></span><br><span class="line">		SetSysClock_to_72MHZ();</span><br><span class="line">		EXTI_ClearITPendingBit(EXTI_Line0);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">EXTI9_5_IRQHandler</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(EXTI_GetITStatus(EXTI_Line5) != RESET)</span><br><span class="line">	&#123;</span><br><span class="line">		PWR_WakeUpPinCmd(ENABLE);</span><br><span class="line">		PWR_EnterSTANDBYMode();</span><br><span class="line">		EXTI_ClearITPendingBit(EXTI_Line5);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="（十九）DMA"><a href="#（十九）DMA" class="headerlink" title="（十九）DMA"></a>（十九）DMA</h2>]]></content>
      <categories>
        <category>嵌入式</category>
      </categories>
      <tags>
        <tag>导航</tag>
        <tag>分享</tag>
      </tags>
  </entry>
  <entry>
    <title>渗透测试相关术语</title>
    <url>/2019/10/20/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E7%9B%B8%E5%85%B3%E6%9C%AF%E8%AF%AD/</url>
    <content><![CDATA[<h1 id="渗透测试相关术语"><a href="#渗透测试相关术语" class="headerlink" title="渗透测试相关术语"></a>渗透测试相关术语</h1><span id="more"></span>

<h4 id="IP地址"><a href="#IP地址" class="headerlink" title="IP地址"></a><strong>IP地址</strong></h4><p>IP地址（Internet Protocol Address）是指互联⽹协议地址，⼜译为⽹际协议地址。IP地址是IP协议提供的⼀种统⼀的地址格式，它为互联⽹上的每⼀个⽹络和每⼀台主机分配⼀个逻辑地址，以此来屏蔽物理地址的差异。渗透测试中，IP地址⼀般出现在服务器、PC、路由交换等设备中，可以把IP地址理解成我们⽣活中的家庭地址。 </p>
<h4 id="VPS"><a href="#VPS" class="headerlink" title="VPS"></a><strong>VPS</strong></h4><p>Virtual Private Server 虚拟专⽤服务器技术，将⼀台服务器分割成多个虚拟专享服务器的优质服务。我 们⼀般⼈通常说的VPS就是⼀台⼈家虚拟出来的服务器，这台服务器有外⽹IP，我们可以装好系统并直接连 接。 </p>
<h4 id="端⼝"><a href="#端⼝" class="headerlink" title="端⼝"></a><strong>端⼝</strong></h4><p>“端⼝”是英⽂port的意译，可以认为是设备与外界通讯交流的进出⼝。 </p>
<h4 id="⼀句话⽊马"><a href="#⼀句话⽊马" class="headerlink" title="⼀句话⽊马"></a><strong>⼀句话⽊马</strong></h4><p>指的是那些代码长度很短的脚本⽊马，⼀般只有⼀⾏，跟平常的⼀句话长度差不多。例如asp的其 中⼀种⼀句话⽊马： &lt;%execute(request(“value”))%&gt; </p>
<h4 id="⼤马"><a href="#⼤马" class="headerlink" title="⼤马"></a><strong>⼤马</strong></h4><p>指的是那些功能很多的脚本⽊马，⼀般都包含但不限于⽂件管理、cmd执⾏、可读写⽬录查找，例如 redhat的⼤马还有提权难易程度检测功能。</p>
<h4 id="Webshell"><a href="#Webshell" class="headerlink" title="Webshell"></a><strong>Webshell</strong></h4><p>指的是已经在某个web植⼊脚本⽊马，且该⽊马能被解析成脚本⽂件，并能被访问到，能通过这个 ⽂件控制web。 </p>
<h4 id="URL"><a href="#URL" class="headerlink" title="URL"></a><strong>URL</strong></h4><p>专业⼀点就称为“统⼀资源定位符”。像我业余的，就把他理解成链接。更有专业的对⽐：⽹址和URL之间 的区别 </p>
<h4 id="提权"><a href="#提权" class="headerlink" title="提权"></a><strong>提权</strong></h4><p>也称权限提升，顾名思义，就是把我们⾃⼰的权限提起升⾼，提权都需要利⽤到漏洞。 </p>
<h4 id="POC"><a href="#POC" class="headerlink" title="POC"></a><strong>POC</strong></h4><p>全称proof of concept，译作“概念验证”，它可以是⼀段代码也可以是⼀个程序，⽤作验证某个漏洞是 存在的，没有破坏能⼒。 </p>
<h4 id="EXP"><a href="#EXP" class="headerlink" title="EXP"></a><strong>EXP</strong></h4><p>全称exploit，指的是漏洞利⽤程序，这种程序可以是任何语⾔编写的，具有破坏能⼒。 </p>
<h4 id="payload"><a href="#payload" class="headerlink" title="payload"></a><strong>payload</strong></h4><p>译作”有效载荷“，当exploit利⽤成功后将执⾏payload。</p>
<h4 id="shellcode"><a href="#shellcode" class="headerlink" title="shellcode"></a><strong>shellcode</strong></h4><p>漏洞利⽤的过程，就是把shellcode发送到⽬标服务器，其中shellcode包含payload，如果shellcode 被成功执⾏，那么才会执⾏有效载荷payload，这个载荷可以是⼀条os命令，可以是⼀段⼆进制代码。 </p>
<h4 id="CMS"><a href="#CMS" class="headerlink" title="CMS"></a><strong>CMS</strong></h4><p>内容管理系统，简单来说就是⼀种⽹站系统模板，很多⽹站都是⽤同⼀种模板改的。 </p>
<h4 id="反序列化"><a href="#反序列化" class="headerlink" title="反序列化"></a><strong>反序列化</strong></h4><p>只将字节序列转换成⽬标对象的过程。</p>
<h4 id="Fuzz测试"><a href="#Fuzz测试" class="headerlink" title="Fuzz测试"></a><strong>Fuzz测试</strong></h4><p>是⼀种安全测试⽅法，他介于完全的⼿⼯测试和完全的⾃动化测试之间。模糊测试（fuzz testing）是一种安全测试方法，他介于完全的手工测试和完全的自动化测试之间。（<a href="https://www.cnblogs.com/forwill/p/5756634.html%EF%BC%89">https://www.cnblogs.com/forwill/p/5756634.html）</a></p>
]]></content>
      <categories>
        <category>渗透测试相关术语</category>
      </categories>
      <tags>
        <tag>导航</tag>
        <tag>分享</tag>
      </tags>
  </entry>
  <entry>
    <title>C/C++答题笔记</title>
    <url>/2018/03/05/C&amp;C++%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h1 id="C-C-答题笔记"><a href="#C-C-答题笔记" class="headerlink" title="C/C++答题笔记"></a>C/C++答题笔记</h1><span id="more"></span>

<h3 id="1-char-const-next-请对这行代码进行一下解释？"><a href="#1-char-const-next-请对这行代码进行一下解释？" class="headerlink" title="1.char *const *(*next)();请对这行代码进行一下解释？"></a>1.<code>char *const *(*next)();</code>请对这行代码进行一下解释？</h3><p>1）函数指针</p>
<p>2）const和指针之间关系（指向常量的指针，以及指针常量）</p>
<p>1.<code>(*next)</code>  —-&gt;next是个指针</p>
<p>2.<code>(*next)()</code>—&gt;next是个函数指针</p>
<p>3.<code>char *const</code> —-&gt; 应该是一个指针，常量指针</p>
<p>4.<code>char *const *(*next)()</code> —-&gt; </p>
<p>next是个函数指针，它指向一个没有参数的函数，并且该函数的返回值是一个指针，该指针指向一个类型为char的常量指针。</p>
<h3 id="2-char-（-c-10-int-p"><a href="#2-char-（-c-10-int-p" class="headerlink" title="2.char *（*c[10])(int **p);  "></a>2.<code>char *（*c[10])(int **p);  </code></h3><p>char *pt[10];  pt先和后缀[]结合，表明pt是数组，数组内由10个元素组成，每个元素都是char *指针类型。</p>
<p><code>char (*pt)[10];  </code> 因为()的原因，pt优先和*结合，表明pt是个指针，指针pt是一个指向包含10个char元素的数组的指针，即pt是数组指针。</p>
<p>题中左侧圆括号中的内容<code>*c[10]  </code> 和上面的<code>char *pt[10]  </code>一样，那么可以看出c本身就是一个数组，数组内有10个元素，并且每个元素都是指针，可以得出结论c是指针数组。刨除*c[10]就剩下char *( )(int **p)，可以看出这个指针应该是指向函数的指针，即函数指针，指针指向的函数返回值是一个指向char的指针（也就是说函数的返回值是char *），函数要带一个参数，参数是指向指针的指针。</p>
<p>故综上所述，题中给出的语句表明C是一个函数指针数组。每个元素都是指向一个返回值是char指针，参数为指向指针的指针的函数。</p>
<h3 id="3-char-s-“AAA”"><a href="#3-char-s-“AAA”" class="headerlink" title="3.char *s = “AAA”;"></a>3.char *s = “AAA”;</h3><h3 id="printf-“-s”-s"><a href="#printf-“-s”-s" class="headerlink" title="printf(“%s”,s);"></a>printf(“%s”,s);</h3><h3 id="s-0-’B’"><a href="#s-0-’B’" class="headerlink" title="s[0]=’B’;"></a>s[0]=’B’;</h3><h3 id="printf-“-s”-s-是否有问题？"><a href="#printf-“-s”-s-是否有问题？" class="headerlink" title="printf(“%s”,s);        是否有问题？"></a>printf(“%s”,s);        是否有问题？</h3><p>上述的代码前两行没有问题，定义一个指针指向了字符串常量“AAA”，但是后两行却有问题，代码尝试通过指针去修改字符串常量，这就出问题了，因为字符串常量是只读的，放在了代码段部分，不允许被修改，当我们尝试用指针去修改时，编译有可能不会报错，但只要运行起来就会出现段错误，核心已转存的经典错误提示。</p>
<h3 id="4-嵌入式系统经常具有要求程序员去访问某特定的内存位置，要求读取地址的里面的内容或者向该地址写入新值，特别是在嵌入式处理器开发中操作寄存器时这种用法会经常出现。例如在某工程中，要求设置一绝对内存地址为0x40020800的位置，将该地址里面的内容设置为整型值0x3456。编写代码完成这一任务。"><a href="#4-嵌入式系统经常具有要求程序员去访问某特定的内存位置，要求读取地址的里面的内容或者向该地址写入新值，特别是在嵌入式处理器开发中操作寄存器时这种用法会经常出现。例如在某工程中，要求设置一绝对内存地址为0x40020800的位置，将该地址里面的内容设置为整型值0x3456。编写代码完成这一任务。" class="headerlink" title="4.嵌入式系统经常具有要求程序员去访问某特定的内存位置，要求读取地址的里面的内容或者向该地址写入新值，特别是在嵌入式处理器开发中操作寄存器时这种用法会经常出现。例如在某工程中，要求设置一绝对内存地址为0x40020800的位置，将该地址里面的内容设置为整型值0x3456。编写代码完成这一任务。"></a>4.嵌入式系统经常具有要求程序员去访问某特定的内存位置，要求读取地址的里面的内容或者向该地址写入新值，特别是在嵌入式处理器开发中操作寄存器时这种用法会经常出现。例如在某工程中，要求设置一绝对内存地址为0x40020800的位置，将该地址里面的内容设置为整型值0x3456。编写代码完成这一任务。</h3><p>解析：这道题实际是考察我们是否知道为了访问一绝对地址，把一个整型数强制类型转换为一个指针是否合法。</p>
<p>#define ADDR      ( *(volatile unsigned long *)0x40020800)</p>
<p> ADDR = 0x3456;</p>
<h3 id="5-define-dPS-struct-s"><a href="#5-define-dPS-struct-s" class="headerlink" title="5.#define dPS struct s *"></a>5.#define dPS struct s *</h3><h3 id="typedef-struct-s-tPS"><a href="#typedef-struct-s-tPS" class="headerlink" title="typedef struct s * tPS;"></a>typedef struct s * tPS;</h3><p>以上两种情况的意图都是要定义dPS 和tPS 作为一个指向结构s指针。哪种方法更好呢？</p>
<p>解析：</p>
<p>如果只定义一个变量的话，例如：</p>
<p>dPs p1;             </p>
<p>tPs p2;             </p>
<p>#define和typedef起到的作用是一样的，都将p1和p2定义为结构体s类型的指针。</p>
<p>但如果定义两个变量的话。例如：</p>
<p>dPS p1, p2;         </p>
<p>tPS p3, p4;        </p>
<p>则在这种情况下对于p1和p2来说，只有p1是结构体指针，p2是结构体的对象，而p3和p4都是结构体类型的指针。故可见，对于想定义数据类型别名的时候，要使用typedef的方法，而不是用预处理#define。</p>
<h3 id="6-下列代码是否有问题，如果有问题，那么编译运行后的结果是什么，并说明问题的原因是什么，那该如何修改。"><a href="#6-下列代码是否有问题，如果有问题，那么编译运行后的结果是什么，并说明问题的原因是什么，那该如何修改。" class="headerlink" title="6.下列代码是否有问题，如果有问题，那么编译运行后的结果是什么，并说明问题的原因是什么，那该如何修改。"></a>6.下列代码是否有问题，如果有问题，那么编译运行后的结果是什么，并说明问题的原因是什么，那该如何修改。</h3><p>#include &lt;stdio.h&gt;         </p>
<p>char *get_str(void);          </p>
<p>int main(void)              </p>
<p>{                        </p>
<p>  char *p = get_str();        </p>
<p>  printf(“%s\n”, p);         </p>
<p>  return 0;                </p>
<p>}                        </p>
<p>char *get_str(void)          </p>
<p>{                        </p>
<p>  char str[] = {“abcd”};       </p>
<p>  return str;               </p>
<p>}     </p>
<p>get_str函数返回的是局部变量的地址，str随着函数get_str运行结束而消失掉，不会有地址了，实际上main函数里返回给指针p的是个空指针。此时p指针成为一个野指针。</p>
<p>将 char str[] = {“abcd”};   修改为 char *str[] = {“abcd”};   </p>
<h3 id="7-下面所示的代码运行的结果是什么？"><a href="#7-下面所示的代码运行的结果是什么？" class="headerlink" title="7.下面所示的代码运行的结果是什么？"></a>7.下面所示的代码运行的结果是什么？</h3><p>#include &lt;stdio.h&gt;                    </p>
<p>int main(void)                        </p>
<p>{                                   </p>
<p>unsigned int a = 6;                    </p>
<p>int b = -20;       </p>
<p>(a+b &gt; 6) ? puts(“&gt;6”) : puts(“&lt;=6”);      </p>
<p>return 0;                             </p>
<p>} </p>
<p>结果是: &gt;6                                  </p>
<p>知识点：</p>
<p>当表达式中存在有符号类型和无符号类型时所有的操作数都自动转换为无符号类型。</p>
<p>数字在内存中以补码的形式存储。</p>
<p>printf中%d和%ud的含义。</p>
<p>6:</p>
<p>0000 0000 0000 0000 0000 0000 0000 0110</p>
<p>-20:</p>
<p>原码：1000 0000 0000 0000 0000 0000 0001 0100</p>
<p>反码：1111 1111 1111 1111 1111 1111 1110 1011</p>
<p>补码：1111 1111 1111 1111 1111 1111 1110 1100</p>
<p>0000 0000 0000 0000 0000 0000 0000 0110</p>
<p>1111 1111 1111 1111 1111 1111 1110 1100    +</p>
<p>1111 1111 1111 1111 1111 1111 1111 0010=4294967182</p>
<h3 id="8-什么是大端模式，什么是小端模式，编写段代码测试你的计算机是大端模式还是小端模式？"><a href="#8-什么是大端模式，什么是小端模式，编写段代码测试你的计算机是大端模式还是小端模式？" class="headerlink" title="8. 什么是大端模式，什么是小端模式，编写段代码测试你的计算机是大端模式还是小端模式？"></a>8. 什么是大端模式，什么是小端模式，编写段代码测试你的计算机是大端模式还是小端模式？</h3><p>解析：这道题涉及如下知识点：</p>
<p>计算机存储模式：大端模式，小端模式的含义。</p>
<p>大端模式：数据的低位放在内存高地址中，数据的高位放在内存的低地址中。</p>
<p>小端模式：数据的高位放在内存高地址中，数据的低位放在内存的低地址中。</p>
<p>我们经常使用的英特尔处理器就是属于小端模式。</p>
<p>理解联合体union。联合体内的成员共享内存空间。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="class"><span class="keyword">union</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class">    &#123;</span></span><br><span class="line">         <span class="keyword">unsigned</span> <span class="keyword">int</span> n;</span><br><span class="line">         <span class="keyword">char</span> arr[<span class="number">4</span>];</span><br><span class="line">    &#125;;</span><br><span class="line">     </span><br><span class="line">    <span class="class"><span class="keyword">union</span> <span class="title">Test</span> <span class="title">num</span>;</span></span><br><span class="line">    num.n = <span class="number">0x12345678</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">4</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;&amp;arr[%d] = %p, arr[%d] = %#x\n&quot;</span>, i, &amp;num.arr[i]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-想取出当前计算机系统下无符号整数int类型的0值和其最大值，评价下面的代码片断："><a href="#9-想取出当前计算机系统下无符号整数int类型的0值和其最大值，评价下面的代码片断：" class="headerlink" title="9.想取出当前计算机系统下无符号整数int类型的0值和其最大值，评价下面的代码片断："></a>9.想取出当前计算机系统下无符号整数int类型的0值和其最大值，评价下面的代码片断：</h3><p>unsigned int zero = 0;                </p>
<p>unsigned int compzero = 0xFFFF;       </p>
<p>解析：</p>
<p>这道题想取出unsigned int类型的最小值0和最大值，需要特别指出的是在题中并没有说明当前计算机系统和所使用的环境是8位，16位，32位还是64位系统，故这样也就没有办法确定当前unsigned int类型的最大值是多少位的1，题中给出的0xFFFF表明最大的是16位都为1，那么这样就出问题了，因为题中并没有指明当前unsigned int类型是多少位。所以代码片段给出的结果是不正确的。</p>
<p>应改为unsigned int compzero = ~0;       </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;i=%ud\n&quot;</span>, i);</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> j = ~<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;j=%ud\n&quot;</span>, j);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="10-考虑下面的代码，其作用是在数组中查找一个特定的元素："><a href="#10-考虑下面的代码，其作用是在数组中查找一个特定的元素：" class="headerlink" title="10.考虑下面的代码，其作用是在数组中查找一个特定的元素："></a>10.考虑下面的代码，其作用是在数组中查找一个特定的元素：</h3><p>i = 0;                          </p>
<p>while(i &lt; arrsize &amp;&amp; arr[i] != x)     </p>
<p>​    i++;                       </p>
<p>假如无意中我们用位操作运算符&amp;代替了上面的逻辑运算符&amp;&amp;，如下所示：</p>
<p>i = 0;                          </p>
<p>while(i &lt; arrsize &amp; arr[i] != x)       </p>
<p>  i++;                         </p>
<p>则当前的语句是否还能实现上面的元素查找功能？</p>
<p>解析：</p>
<p>&amp;&amp;是逻辑与运算符：倘若数组越界编译器不会读取</p>
<p>&amp;是按位操作算符：倘若数组越界编译器可能会报错</p>
<h3 id="11-下面这个程序的输出结果是什么？"><a href="#11-下面这个程序的输出结果是什么？" class="headerlink" title="11.下面这个程序的输出结果是什么？"></a>11.下面这个程序的输出结果是什么？</h3><p>#include&lt;stdio.h&gt;                        </p>
<p>int main(void)                            </p>
<p>{                                       </p>
<p>   int i = 43;  </p>
<p>  printf(“%d\n”, printf(“%d”, printf(“%d”, i)));   </p>
<p>   return 0;                              </p>
<p>}</p>
<p>解析：</p>
<p>结果：4321</p>
<p>这道题关键是要搞清楚，printf()函数的返回值是什么？</p>
<p>printf()函数是有返回值的，只是平时我们一般直接用printf进行输出打印了，没有使用到printf()函数的返回值，实际上该函数的返回值是输出字符的个数。</p>
<h3 id="12-举例说明，通过-运算符，利用宏参数创建字符串。"><a href="#12-举例说明，通过-运算符，利用宏参数创建字符串。" class="headerlink" title="12.举例说明，通过#运算符，利用宏参数创建字符串。"></a>12.举例说明，通过#运算符，利用宏参数创建字符串。</h3><p>解析：</p>
<p>假设希望在字符串中包含宏参数，ANSI C允许这样做。在类函数宏的替换部分中，#符号用做一个预处理运算符，它可以把语言符号转换为字符串。例如，如果x是一个宏参量，那么#x可以把参数转换为相应的字符串。该过程称为字符串化。</p>
<h3 id="13-举例说明，“-”运算符的作用。"><a href="#13-举例说明，“-”运算符的作用。" class="headerlink" title="13.举例说明，“##”运算符的作用。"></a>13.举例说明，“##”运算符的作用。</h3><p>解析：</p>
<p>##运算符：预处理的粘合剂，用它把两个语言符号合并成一个语言符号.</p>
<p>x##n</p>
<h3 id="14-阅读下面代码，看这段代码是否有问题，如果有问题请指出问题。"><a href="#14-阅读下面代码，看这段代码是否有问题，如果有问题请指出问题。" class="headerlink" title="14.阅读下面代码，看这段代码是否有问题，如果有问题请指出问题。"></a>14.阅读下面代码，看这段代码是否有问题，如果有问题请指出问题。</h3><p>#include &lt;stdio.h&gt;                </p>
<p>#include &lt;string.h&gt;                </p>
<p>struct std                        </p>
<p>{                               </p>
<p>  unsigned int id;                 </p>
<p>  char *name;        //char name[SIZE];            </p>
<p>  unsigned int age;                </p>
<p>}per;                            </p>
<p>int main(void)<br>{                               </p>
<p>  per.id = 0001;                   </p>
<p>  strcpy(per.name, “Micheal Jackson”); //指针开辟的内存空间不足够   per.name = “Micheal Jackson”;</p>
<p>  per.age = 20;                   </p>
<p>  printf(“%s\n”, per.name);          </p>
<p>  return 0;                       </p>
<p>}<br>解析：</p>
<p>在结构体中使用字符数组还是字符指针来存放字符串：推荐优先使用字符数组。</p>
<h3 id="15-阅读下面代码，看这段代码是否有问题，如果有问题请指出问题。"><a href="#15-阅读下面代码，看这段代码是否有问题，如果有问题请指出问题。" class="headerlink" title="15.阅读下面代码，看这段代码是否有问题，如果有问题请指出问题。"></a>15.阅读下面代码，看这段代码是否有问题，如果有问题请指出问题。</h3><p>char *p1 = “ABCABC”;</p>
<p>char *p2 = (char *)malloc(strlen(p1));    //char *p2 = (char *)malloc(strlen(p1)+1);</p>
<p>strcpy(p2, p1);</p>
<p>解析：</p>
<p>内存越界就是成功的分配了内存，并且已经初始化了，但是操作过程中超过了内存的边界，内存越界通常出现在数组和指针的操作中。</p>
<p>此外，需要注意的是，strlen计算字符串长度时是不包括结尾标志空字符’\0’的，而strcpy在拷贝字符串是将’\0’也一并拷贝的。</p>
<h3 id="16-free和delete怎样处理指针？"><a href="#16-free和delete怎样处理指针？" class="headerlink" title="16.free和delete怎样处理指针？"></a>16.free和delete怎样处理指针？</h3><p>解析：</p>
<p>free和delete起到的作用只是将指针所指向的内存释放掉，但并没有把指针本身彻底删除掉。</p>
<p>指向释放内存后的指针就变成了野指针，为了避免造成不必要的麻烦，在free和delete释放掉内存后，要将指针设置为空指针。</p>
<h3 id="17-用字符数组和指针两种方式定义的字符串有什么不同？"><a href="#17-用字符数组和指针两种方式定义的字符串有什么不同？" class="headerlink" title="17.用字符数组和指针两种方式定义的字符串有什么不同？"></a>17.用字符数组和指针两种方式定义的字符串有什么不同？</h3><p>解析：</p>
<p>  以下面几个语句为例：</p>
<p>  char a[] = “abcd”;</p>
<p>  char *b = “abcd”;</p>
<p>  char *p = “xyz”;</p>
<p>  我们可以执行如下操作：b = p，但是a = p就不可以。</p>
<p>字符数组的数组名是一个常量，不能被重新赋值</p>
<p>指向字符串的指针是一个变量，可以被重新赋值</p>
<h3 id="18-您是否了解编程中的“哨兵”思想？请简述下这种思想的含义以及主要应用场合。"><a href="#18-您是否了解编程中的“哨兵”思想？请简述下这种思想的含义以及主要应用场合。" class="headerlink" title="18.您是否了解编程中的“哨兵”思想？请简述下这种思想的含义以及主要应用场合。"></a>18.您是否了解编程中的“哨兵”思想？请简述下这种思想的含义以及主要应用场合。</h3><p>解析：</p>
<p>哨兵的思想多用在线性搜索等算法中。线性搜索的基本过程是将若干个数据从头到尾，依次逐个比对，直到找到目标数据。</p>
<p>哨兵的思想就是添加一个你要查找的数据项放置到这个查找目标对象的最后，这样就一定能够找到数据，只需在找到数据后比较编号看是否超出范围。</p>
<p>使用哨兵思想代码的执行效率提高，执行时间也大幅度缩减了。</p>
<h3 id="19-在Linux内核代码-版本2-6-22-中有如下定义："><a href="#19-在Linux内核代码-版本2-6-22-中有如下定义：" class="headerlink" title="19.在Linux内核代码(版本2.6.22)中有如下定义："></a>19.在Linux内核代码(版本2.6.22)中有如下定义：</h3><p>#define offsetof(TYPE, MEMBER) ((size_t) &amp;((TYPE *)0)-&gt;MEMBER)</p>
<p>请尝试解释下上面这行语句的含义。</p>
<p>解析：</p>
<p>1）(TYPE *)0：将0强制类型转换为TPYE类型的指针， p = (TYPE *)0</p>
<p>2）((TYPE *)0)-&gt;MEMBER —》 p-&gt;MEMBER—&gt;访问MEMBER成员变量</p>
<p>3）&amp;((TYPE *)0)-&gt;MEMBER: 取出MEMBER成员变量的地址</p>
<p>4）(size_t) &amp;((TYPE *)0)-&gt;MEMBER：size_t相当于类型转换，将MEMBER成员变量的地址转换为size_t类型的数据，size_t== int<br>总结：该宏的作用就是求出MEMBER成员变量在TYPE中的偏移量</p>
<h3 id="20-查看如下代码，写出程序运行的结果："><a href="#20-查看如下代码，写出程序运行的结果：" class="headerlink" title="20.查看如下代码，写出程序运行的结果："></a>20.查看如下代码，写出程序运行的结果：</h3><p>#include &lt;stdio.h&gt;</p>
<p>#define offsetof(TYPE, MEMBER) ((size_t) &amp;((TYPE *)0)-&gt;MEMBER)</p>
<p>typedef struct s</p>
<p>{</p>
<p>  union</p>
<p>  {</p>
<p>​    int a;</p>
<p>​    char str[10];</p>
<p>  };</p>
<p>  struct s* next;</p>
<p>}S;</p>
<p>int main()</p>
<p>{</p>
<p>  printf(“%d\n”,offsetof(S, next));</p>
<p>  return 0;</p>
<p>}</p>
<p>结果：16（64位）</p>
<p>&amp;((TYPE *)0)-&gt;MEMBER: 取出MEMBER成员变量的偏移地址</p>
<p>64位的Linux系统默认是8字节对齐</p>
<p>32位的Linux系统默认是4字节对齐</p>
<p>联合体里面的成员变量共用内存空间</p>
<p>使用uname -a指令查看Ubuntu系统是32位还是64位</p>
<p>在程序中使用#pragma pack(n)指令修改Linux系统的对齐方式</p>
<h3 id="21-请介绍C语言中const-指针与指向const的指针的用法。"><a href="#21-请介绍C语言中const-指针与指向const的指针的用法。" class="headerlink" title="21.请介绍C语言中const 指针与指向const的指针的用法。"></a>21.请介绍C语言中const 指针与指向const的指针的用法。</h3><p>解析：</p>
<p>const关键字的作用：</p>
<p>1.const定义一个常量，这个常量在定义是必须进行初始化，否则以后就没有机会了</p>
<p>2.实际上const定义的变量并不是一个真正的常量（指针，数组两种方式来验证）</p>
<p>3.const和指针的用法</p>
<p>const char * value</p>
<p>指针的值可以改变，但是指针指向的值不允许改变；即value指针可以指向任意对象，但不能通过value指针修改指向的对象。</p>
<p>char *const value;</p>
<p>指针的值不允许改变，但是指针指向的变量的值允许改变</p>
<p>const char *const variable;</p>
<p>指向常量的常指针</p>
<p>总结：</p>
<p>一个简单的判断方法：const在<code>*</code>的左边，则指针指向的变量的值不可变；在*的右边，则指针的指向不可变。</p>
<h3 id="22-下面这段代码："><a href="#22-下面这段代码：" class="headerlink" title="22.下面这段代码："></a>22.下面这段代码：</h3><p>int main(){fork()||fork();}</p>
<p>共创建几个进程？</p>
<p>解析：3个</p>
<p>fork()函数用于进程产生子进程，实现并发操作。</p>
<p>父进程返回子进程的ID号（大于0的正整数）可以判断为真，子进程返回0，因此子进程会继续调用fork()从而产生第三个进程.</p>
<p>对于逻辑或表达式，如果逻辑或运算符左侧的值是真值则不需要再计算运算符右侧的表达式。</p>
<h3 id="23-下面这段代码的输出结果为："><a href="#23-下面这段代码的输出结果为：" class="headerlink" title="23.下面这段代码的输出结果为："></a>23.下面这段代码的输出结果为：</h3><p>#include &lt;stdio.h&gt;</p>
<p>void change(int *a, int &amp;b, int c)</p>
<p>{</p>
<p>​    c=*a;</p>
<p>​    b=30;</p>
<p>​    *a=20;</p>
<p>}</p>
<p>int main ( )</p>
<p>{</p>
<p> int a = 10, b = 20, c = 30;</p>
<p>​    change(&amp;a,b,c);</p>
<p>​    printf(“%d,%d,%d,”,a,b,c);</p>
<p>​    return 0;</p>
<p>}</p>
<p>A 20，30，30</p>
<p>B 10，20，30</p>
<p>C 20,30，10</p>
<p>D 10,30，30</p>
<p>解析：A</p>
<p>按指针传递，按引用传递可以改变实参的值。</p>
<p>按值传递无法改变实参的值，改变的只是实参的拷贝，修改的是实参的复本.</p>
<h3 id="24-若MyClass为一个类，执行“MyClass-a-4-，-p-5-；”语句时会自动调用该类构造函数的次数是"><a href="#24-若MyClass为一个类，执行“MyClass-a-4-，-p-5-；”语句时会自动调用该类构造函数的次数是" class="headerlink" title="24.若MyClass为一个类，执行“MyClass a[4]，*p[5]；”语句时会自动调用该类构造函数的次数是()"></a>24.若MyClass为一个类，执行“MyClass a[4]，*p[5]；”语句时会自动调用该类构造函数的次数是()</h3><p>A: 2 </p>
<p>B: 5 </p>
<p>C: 4 </p>
<p>D: 9</p>
<p>解析：C</p>
<p>当创建类的对象时会自动调用构造函数</p>
<p>创建类对象的数组会调用构造函数</p>
<p>创建指向类对象的指针不会调用构造函数</p>
<h3 id="25-求下面函数的返回值"><a href="#25-求下面函数的返回值" class="headerlink" title="25.求下面函数的返回值"></a>25.求下面函数的返回值</h3><p>int func(int x)</p>
<p>{</p>
<p>​      int countx = 0;</p>
<p>​      while(x)</p>
<p>​    {    </p>
<p>​         countx++;</p>
<p>​          x=x&amp;(x-1);</p>
<p>​     } </p>
<p>​       return countx;</p>
<p>}</p>
<p>解析：</p>
<p>x-1:将二进制数从右往左数，遇到的第一个1变成0，右边的所有0变成1，左边的所有数保持不变</p>
<p>x&amp;(x-1):将二进制数从右往左数，遇到的第一个1变成0，右边的所有0变成1，左边的所有数保持不变</p>
<p>func函数返回二进制数中1的个数</p>
<h3 id="26-编写代码，判断一个数是否是2的n次方"><a href="#26-编写代码，判断一个数是否是2的n次方" class="headerlink" title="26.编写代码，判断一个数是否是2的n次方"></a>26.编写代码，判断一个数是否是2的n次方</h3><p>解析：</p>
<p>2—-10                  10&amp;01=00</p>
<p>4—-100                100&amp;011=000</p>
<p>8—-1000              1000&amp;0111=0000</p>
<p>如果一个数是2的n次方，那么这个数用二进制表示时其最高位为1，其余位为0</p>
<p>利用上题的x&amp;(x-1)的思想</p>
<p>还需要特别注意一个问题，就是运算的优先级问题。==的优先级要高于&amp;</p>
<p>#define ISPOWER_OF_TWO   ((x&amp;(x-1)) == 0)</p>
<h3 id="27-有一名为Student的类，该类中有两个-运算符重载函数的声明-如下所示："><a href="#27-有一名为Student的类，该类中有两个-运算符重载函数的声明-如下所示：" class="headerlink" title="27.有一名为Student的类，该类中有两个[]运算符重载函数的声明,如下所示："></a>27.有一名为Student的类，该类中有两个[]运算符重载函数的声明,如下所示：</h3><p>double &amp;operator[](int i);</p>
<p>double operator[](int i) const;</p>
<p>这两个运算符重载函数的定义如下所示：</p>
<p>double &amp;Student::operator[](int i)</p>
<p>{</p>
<p>​    return scores[i];    </p>
<p>}</p>
<p>double Student::operator[](int i) const</p>
<p>{</p>
<p>​    return scores[i];</p>
<p>}</p>
<p>请问这两个函数之前有何区别，为什么定义的功能都是一样的，都返回的是数组中指定下标的元素，应如何理解和使用？</p>
<p>解析：</p>
<p>double &amp;operator[](int i);其操作的数组元素可以作为赋值运算符的左值，因为该函数的返回值是double类型的引用，直接操作的就是数组中的元素。如果要操作数组中的元素，应该使用这个运算符重载函数。</p>
<p>double operator[](int i) const;其操作的数组元素只能用作赋值运算符的右值，因为返回值是double类型，返回的是数组的拷贝，且有const存在不允许类中的内容被修改。如果要用数组的元素内容给一个变量赋值，应该使用这个函数。</p>
<h3 id="28-仿照字符串库函数strcpy-自己编写一个字符串拷贝函数，不允许使用C库函数，要求两个参数，第一个参数是要拷贝的目的地址，第二个参数是拷贝字符串的来源。"><a href="#28-仿照字符串库函数strcpy-自己编写一个字符串拷贝函数，不允许使用C库函数，要求两个参数，第一个参数是要拷贝的目的地址，第二个参数是拷贝字符串的来源。" class="headerlink" title="28.仿照字符串库函数strcpy,自己编写一个字符串拷贝函数，不允许使用C库函数，要求两个参数，第一个参数是要拷贝的目的地址，第二个参数是拷贝字符串的来源。"></a>28.仿照字符串库函数strcpy,自己编写一个字符串拷贝函数，不允许使用C库函数，要求两个参数，第一个参数是要拷贝的目的地址，第二个参数是拷贝字符串的来源。</h3><p>解析：</p>
<p>方法一：</p>
<p>char *mystrcpy(char *dest, const char *src)</p>
<p>{</p>
<p>​    char *pt = dest;</p>
<p>​    if(dest == NULL || src == NULL)</p>
<p>​        return NULL;</p>
<p>​    if(dest == src)</p>
<p>​        return dest;</p>
<p>​    while(*dest++ = *src++);</p>
<p>​    return pt;</p>
<p>}</p>
<p>方法二：</p>
<p>char *mystrcpy_1(char *dest, const char *src)</p>
<p>{</p>
<p>​    int delta = dest - src;</p>
<p>​    if(dest == NULL || src == NULL)</p>
<p>​        return NULL;</p>
<p>​    if(dest == src)</p>
<p>​        return dest;</p>
<p>​    while(*(src+delta) = *src++);</p>
<p>​    return dest;<br>｝</p>
<h3 id="29-给定一个整型变量a，写两段代码，第一个设置a的bit3，第二个清除a的bit3。"><a href="#29-给定一个整型变量a，写两段代码，第一个设置a的bit3，第二个清除a的bit3。" class="headerlink" title="29.给定一个整型变量a，写两段代码，第一个设置a的bit3，第二个清除a的bit3。"></a>29.给定一个整型变量a，写两段代码，第一个设置a的bit3，第二个清除a的bit3。</h3><p>解析：</p>
<p>C语言中的逻辑运算符和位操作知识点</p>
<p>只要有置1操作就要用到或“|”运算符</p>
<p>只要有清0操作就要用到与“&amp;”运算符</p>
<p>移位操作： 左移：&lt;&lt;  右移：&gt;&gt;</p>
<p>a = a |= (1&lt;&lt;3);</p>
<p>a = a&amp;~(1&lt;&lt;3); </p>
<h3 id="30-请说明下面代码的运行结果："><a href="#30-请说明下面代码的运行结果：" class="headerlink" title="30.请说明下面代码的运行结果："></a>30.请说明下面代码的运行结果：</h3><p>#include &lt;stdio.h&gt;</p>
<p>int main(void)</p>
<p>{</p>
<p>  int i;</p>
<p>   i = 10;</p>
<p>   printf(“%d\n”, i);</p>
<p>   printf(“%ld\n”, sizeof(i++));</p>
<p>   printf(“%d\n”, i);</p>
<p>   return 0;</p>
<p>}</p>
<p>解析：</p>
<p>10</p>
<p>4</p>
<p>10</p>
<p>sizeof返回以字节为单位的变量或者数据类型占用内存空间的大小</p>
<p>sizeof不是函数，是运算符</p>
<p>sizeof不会执行表达式中的内容，只判断表达式结果的数据类型</p>
<h3 id="31-请说明下面代码的运行结果："><a href="#31-请说明下面代码的运行结果：" class="headerlink" title="31.请说明下面代码的运行结果："></a>31.请说明下面代码的运行结果：</h3><p>unsigned char *p1;</p>
<p>unsigned long *p2;</p>
<p>p1 = (unsigned char *)0x801000;</p>
<p>p2 = (unsigend long *)0x801000;</p>
<p>请问：</p>
<p>p1 + 5 = ? </p>
<p>p2 + 5 = ? </p>
<p>解析：</p>
<p>指针+1，不是地址+1，所增加的地址值为这个指针所指向的数据类型占用内存大小的值。</p>
<p>指针+1，地址偏移多少与指针所指向的数据的类型有关，实际上偏移一个sizeof(数据类型)大小</p>
<p>p1 + 1=  0x801000 + sizeof(unsigned char) = 0x801000 + 1 = 0x801001</p>
<p>p2 + 1 = 0x801000  + sizeof(unsigned long) = 0x801000 + 4 = 0x801004 </p>
<p>p1 + 5=  0x801000 + sizeof(unsigned char) *5= 0x801000 + 5 = 0x801005</p>
<p>p2 + 1 = 0x801000  + sizeof(unsigned long)*5 = 0x801000 + 20 = 0x801014</p>
<h3 id="32-下面的函数有什么错误："><a href="#32-下面的函数有什么错误：" class="headerlink" title="32.下面的函数有什么错误："></a>32.下面的函数有什么错误：</h3><p>int square(volatile int *pt)</p>
<p>{</p>
<p>​    return (*pt) * (*pt);</p>
<p>}</p>
<p>解析：</p>
<p>volatile这个关键字出现的场合在操作系统编程、硬件开发、嵌入式系统或者是其他的线程遇到的概率会大一些。这个关键字本身的意思是它所修饰的变量是不稳定的，在运行过程中有可能会被改变成新的值。</p>
<p>理解volatile关键字的作用，直接从内存取值而不允许编译器对代码进行优化。</p>
<p>正确的写法是：</p>
<p>int square(volatile int *pt)</p>
<p>{</p>
<p>​    int a;  </p>
<p>​    a = *pt;</p>
<p>​    return a * a;</p>
<p>}</p>
<h3 id="33-定义一个空的类，里面没有任何成员变量和成员函数，对该类求sizeof，得到的结果是多少？"><a href="#33-定义一个空的类，里面没有任何成员变量和成员函数，对该类求sizeof，得到的结果是多少？" class="headerlink" title="33.定义一个空的类，里面没有任何成员变量和成员函数，对该类求sizeof，得到的结果是多少？"></a>33.定义一个空的类，里面没有任何成员变量和成员函数，对该类求sizeof，得到的结果是多少？</h3><p>解析：</p>
<p>C++的类都可以被实例化，即使是空类也能够被实例化</p>
<p>每个实例化在内存中都有独一无二的地址</p>
<p>所谓实例化就是在内存中分配一块地址</p>
<p>编译器往往会给空类隐含的添加一个字节，这样sizeof后得到的结果是1</p>
<h3 id="34-指出下面代码的输出，并解释为什么？"><a href="#34-指出下面代码的输出，并解释为什么？" class="headerlink" title="34.指出下面代码的输出，并解释为什么？"></a>34.指出下面代码的输出，并解释为什么？</h3><p>#include &lt;stdio.h&gt;</p>
<p>int main(void)</p>
<p>{</p>
<p>​    int a[5] = {1, 2, 3, 4, 5};</p>
<p>​    int *pt = (int *)(&amp;a + 1);</p>
<p>​    printf(“%d, %d\n”, *(a + 1), *(pt - 1));</p>
<p>​    return 0;</p>
<p>}</p>
<p>解析：</p>
<p>a:数组名，表示数组中第一个元素的地址</p>
<p>&amp;a:整个数组作为一个单元在内存中的起始地址</p>
<p>a和&amp;a的值是一样的，但是所代表的含义是不同的</p>
<p>a+1 不同于 &amp;a + 1</p>
<h3 id="35-假设有a-b两个变量，在不使用第三个变量的情况下，交换a-b两个变量的值。"><a href="#35-假设有a-b两个变量，在不使用第三个变量的情况下，交换a-b两个变量的值。" class="headerlink" title="35.假设有a,b两个变量，在不使用第三个变量的情况下，交换a,b两个变量的值。"></a>35.假设有a,b两个变量，在不使用第三个变量的情况下，交换a,b两个变量的值。</h3><p>解析：</p>
<p>比较传统的解决方式，如下所示：</p>
<p>int temp;</p>
<p>temp = a;</p>
<p>a = b;</p>
<p>b = temp;</p>
<p>在不使用第三个变量的情况下，交换a,b两个变量的值</p>
<p>a = a + b;</p>
<p>b = a - b;</p>
<p>a = a - b;</p>
<h3 id="36-下列程序输出结果是什么？"><a href="#36-下列程序输出结果是什么？" class="headerlink" title="36.下列程序输出结果是什么？"></a>36.下列程序输出结果是什么？</h3><p>#include <iostream></iostream></p>
<p>using namespace std;</p>
<p>void max_out(int val1, int val2);</p>
<p>int main(void)</p>
<p>{</p>
<p>​    int i = 10, j = 20;</p>
<p>​    cout &lt;&lt; “The larger of “ &lt;&lt; i &lt;&lt; “ and “ &lt;&lt; j &lt;&lt; “ is “;</p>
<p>​    max_out(i, j);</p>
<p>​    cout &lt;&lt; endl;</p>
<p>​    return 0;</p>
<p>}</p>
<p>void max_out(int val1, int val2)</p>
<p>{</p>
<p>​    cout &lt;&lt; (val1 &gt; val2) ? val1 : val2;</p>
<p>}</p>
<p>解析：</p>
<p>算符运算符的优先级关系</p>
<p>&lt;&lt;的优先级高于条件表达式运算符，因此表达式（val1&gt;val2）优先和cout结合。</p>
<p>运算符优先级不受运算符重载影响</p>
<p>cout &lt;&lt; ((val1 &gt; val2) ? val1 : val2);</p>
<h3 id="37-字符指针，浮点数指针，以及函数指针这三种类型的变量，哪个占用的内存最大，为什么？"><a href="#37-字符指针，浮点数指针，以及函数指针这三种类型的变量，哪个占用的内存最大，为什么？" class="headerlink" title="37.字符指针，浮点数指针，以及函数指针这三种类型的变量，哪个占用的内存最大，为什么？"></a>37.字符指针，浮点数指针，以及函数指针这三种类型的变量，哪个占用的内存最大，为什么？</h3><p>解析：</p>
<p> 字符变量，浮点数变量，函数占用的内存空间大小肯定不同。  </p>
<p>指针变量也占用内存单元，而且所有指针变量占用内存单元的数量都是相同的。就是说，不管是指向何种对象的指针变量，它们占用内存的字节数都是一样的。</p>
<h3 id="38-编写一个C函数，将一个8位的整数高4位和低4位互换。例如，输入0x2C，则将其改为0xC2。"><a href="#38-编写一个C函数，将一个8位的整数高4位和低4位互换。例如，输入0x2C，则将其改为0xC2。" class="headerlink" title="38.编写一个C函数，将一个8位的整数高4位和低4位互换。例如，输入0x2C，则将其改为0xC2。"></a>38.编写一个C函数，将一个8位的整数高4位和低4位互换。例如，输入0x2C，则将其改为0xC2。</h3><p>涉及的知识点：</p>
<p>以指针作为函数参数的意义</p>
<p>C语言位操作，左移，右移</p>
<p>逻辑与，逻辑或操作的作用</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">convert</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> *pt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">unsigned</span> <span class="keyword">int</span> temp;</span><br><span class="line">     temp = *pt &amp; <span class="number">0x0f</span>;<span class="comment">//get low 4bit</span></span><br><span class="line">     *pt &amp;= <span class="number">0xf0</span>;<span class="comment">//get high 4bit</span></span><br><span class="line">     *pt = (temp &lt;&lt; <span class="number">4</span>) | (*pt&gt;&gt;<span class="number">4</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="39-阅读如下代码后，以下说法正确的是："><a href="#39-阅读如下代码后，以下说法正确的是：" class="headerlink" title="39.阅读如下代码后，以下说法正确的是："></a>39.阅读如下代码后，以下说法正确的是：</h3><p>#include &lt;stdio.h&gt;</p>
<p>int main(void)</p>
<p>{</p>
<p>​    char aChar;</p>
<p>​    int aInt;</p>
<p>​    aInt = aChar = -120;</p>
<p>​    printf(“%d\n”, aInt);</p>
<p>​    return 0;</p>
<p>}<br>A:一定输出-120</p>
<p>B:一定不能输出-120</p>
<p>C:可能输出-120</p>
<p>D:输出%d</p>
<p>解析：</p>
<p>C</p>
<p>char类型的存储范围以及溢出</p>
<p>大端模式和小端模式</p>
<h3 id="40-假如有如下定义："><a href="#40-假如有如下定义：" class="headerlink" title="40.假如有如下定义："></a>40.假如有如下定义：</h3><p>char *str[4] = {“ABCD”, “EFGH”, “IJKL”, “MNOP”};</p>
<p>如何定义一个指针指向str？</p>
<p>解析：</p>
<p>str是一个存放有4个元素的数组，数组中每个元素都是字符串指针（或者理解为数组中的每个元素都是地址）</p>
<p>一级指针：</p>
<p>char *pt; –&gt; pt指针指向的地址里面存放的是char类型的数据</p>
<p>二级指针：</p>
<p>char **pt; –&gt; pt指针指向的地址里面存放的是一个指向字符型变量的地址（也可以理解为 pt指针指向的地址里面存放的是一个指针）</p>
<p>char **pt=str[];</p>
<h3 id="41-如果从数组x复制50个字节到数组y，最简单的方式是什么？"><a href="#41-如果从数组x复制50个字节到数组y，最简单的方式是什么？" class="headerlink" title="41.如果从数组x复制50个字节到数组y，最简单的方式是什么？"></a>41.如果从数组x复制50个字节到数组y，最简单的方式是什么？</h3><p>解析：</p>
<p>数组名的含义</p>
<p>memcpy函数</p>
<p>memcpy(y, x, 50);</p>
<h3 id="42-为下面这个函数原型编写函数定义："><a href="#42-为下面这个函数原型编写函数定义：" class="headerlink" title="42.为下面这个函数原型编写函数定义："></a>42.为下面这个函数原型编写函数定义：</h3><p>int ascii_to_integer(char *string);</p>
<p>这个字符串参数必须包含一个或多个数字，函数应该把这些数字字符转换为整数并返回这个整数，如何字符串参数包含了任何非数字字符，函数就返回0。 </p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ascii_to_integer</span><span class="params">(<span class="keyword">char</span> *string)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;value = %d\n&quot;</span>,<span class="built_in">asci_to_integer</span>(argv[<span class="number">1</span>]));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ascii_to_integer</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *string)</span></span>;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> value = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(*string &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; *string &lt;= <span class="string">&#x27;9&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        value *= <span class="number">10</span>;</span><br><span class="line">        value = *string - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        string++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(*string == <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="43-百钱买百鸡问题："><a href="#43-百钱买百鸡问题：" class="headerlink" title="43.百钱买百鸡问题："></a>43.百钱买百鸡问题：</h3><p>古代数学家张丘建提出了一个著名的“百钱买百鸡问题”，即：鸡翁一，值钱五，鸡母一，值钱三，鸡雏三，值钱一，百钱买百鸡，问翁、母、雏各几何？</p>
<p>编写一段代码，求公鸡，母鸡，小鸡的只数。</p>
<p>解析：</p>
<p>最容易想到也是最浪费时间的方式就是穷举法，利用计算机计算的优势挨个尝试可能性</p>
<p>先做一定的数学分析，尝试看是否可以通过分析得出一些简化优化的方式，降低算法的时间复杂度。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x, y, z;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="keyword">for</span>(t=<span class="number">0</span>; t&lt;<span class="number">4</span>; t++)</span><br><span class="line">    &#123;</span><br><span class="line">        x = <span class="number">4</span>*t;</span><br><span class="line">        y=<span class="number">25</span><span class="number">-7</span>*t;</span><br><span class="line">        z=<span class="number">75</span>+<span class="number">3</span>*t</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;cock = %d, hen = %d, chicken = %d\n&quot;</span>, x, y, z);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="44-如何理解下述表达式的含义？"><a href="#44-如何理解下述表达式的含义？" class="headerlink" title="44.如何理解下述表达式的含义？"></a>44.如何理解下述表达式的含义？</h3><p><code>*pt++，*++pt，(*pt)++，*(pt++)</code></p>
<p>解析：</p>
<p>优先级：取值运算符和自增加运算符优先级相同，结合性上从右到左。</p>
<p><code>*pt++</code>意味着++应用于pt，而不是应用于<code>*pt</code>，也就是说是指针自增加1，而不是指针所指向的数据自增加1。后缀形式（pt++，而不是++pt）表示先把指针指向的数据加到pt，然后指针再自增加1。</p>
<p>如果程序使用<code>*++pt</code>，则顺序就变为指针先自增加1，然后再使用其指向的值。然而如果程序使用(*pt)++，那么会使用pt所指向的数据，然后再使该数据自增加1，而不是使指针自增加1。这样，指针所指向的地址不变，但其中的元素却变成了一个新数据。<code>*pt++</code>和(<code>*pt++</code>)的含义是一样的。</p>
<h3 id="45-请问如下语句是什么意思？"><a href="#45-请问如下语句是什么意思？" class="headerlink" title="45.请问如下语句是什么意思？"></a>45.请问如下语句是什么意思？</h3><p>typedef int (*funcptr)();</p>
<p>解析：</p>
<p>(1) int (*funcptr)();</p>
<p>funcptr:函数指针，指向的函数无参数，并且返回值类型是int类型的函数。</p>
<p>(2) typedef int (*funcptr)();</p>
<p>funcptr:类型，函数指针类型</p>
<p>定义函数指针类型的作用：</p>
<p>funcptr fp1, fp2;</p>
<p>等价于：</p>
<p>int (*fp1)();</p>
<p>int (*fp2)();</p>
<h3 id="46-为什么不能在初始化和数组维度中使用const值？例如："><a href="#46-为什么不能在初始化和数组维度中使用const值？例如：" class="headerlink" title="46.为什么不能在初始化和数组维度中使用const值？例如："></a>46.为什么不能在初始化和数组维度中使用const值？例如：</h3><p>const int n = 5;</p>
<p>int a[n];</p>
<p>解析：</p>
<p>  const限定字真正的含义是只读，它限定的变量仍然变量，而不会真正的编程常量，也就是const限定的对象的值并不是一个真正的常量，是不能用于数组维度，case行标等只能用常量的地方，如果在C语言中真的想使用常量，则还是应该使用预处理宏#define和枚举类型enum。另外，在这点上C和C++不一样，同样的代码，C语言编译会报错，而C++就没有问题，在C++语言中，可以用const限定符定义一个真正的常量。</p>
<h3 id="47-如何对一个浮点数，进行四舍五入的方式取整？"><a href="#47-如何对一个浮点数，进行四舍五入的方式取整？" class="headerlink" title="47.如何对一个浮点数，进行四舍五入的方式取整？"></a>47.如何对一个浮点数，进行四舍五入的方式取整？</h3><p>解析：</p>
<p>强制类型转换只会对浮点数进行截取，取出其中的整数部分，不会实现四舍五入。</p>
<p>可以在原有浮点数的基础上增加0.5实现四舍五入，但这样只对正数有效。</p>
<p>负数减去0.5，正数增加0.5即可。</p>
<h3 id="48-下面程序的输出结果是？"><a href="#48-下面程序的输出结果是？" class="headerlink" title="48.下面程序的输出结果是？"></a>48.下面程序的输出结果是？</h3><p>char str1[] = “abc”; </p>
<p>char str2[] = “abc”; </p>
<p>const char str3[] = “abc”;</p>
<p>const char str4[] = “abc”; </p>
<p>const char *str5 = “abc”;</p>
<p>const char *str6 = “abc”; </p>
<p>char *str7 = “abc”; （warning / erro）</p>
<p>char *str8 = “abc”; （warning / erro）</p>
<p>cout &lt;&lt; ( str1 == str2 ) &lt;&lt; endl; </p>
<p>cout &lt;&lt; ( str3 == str4 ) &lt;&lt; endl; </p>
<p>cout &lt;&lt; ( str5 == str6 ) &lt;&lt; endl; </p>
<p>cout &lt;&lt; ( str7 == str8 ) &lt;&lt; endl;</p>
<p>解析：</p>
<p>str1和str2都是字符数组，显然它们在内存中的地址是不一样的，只是恰巧里面存的内容是一样的，都是字符串“abc”</p>
<p>str3和str4同理，只不过是字符常量数组</p>
<p>str5和str6都指向字符串常量”abc“的内存地址，所以str5和str6的值是一样的，前面加了个const，表示不允许通过str5和str6修改字符串常量。</p>
<p>str7和str8同理，只不过编译器在编译到str7和str8的话会报警告或者错误，存在通过str7和str8修改字符串常量”abc“的风险。</p>
<p>0</p>
<p>0</p>
<p>1</p>
<p>1</p>
<h3 id="49-类中公有成员函数的调用，一定要通过类的对象来实现-（-×）"><a href="#49-类中公有成员函数的调用，一定要通过类的对象来实现-（-×）" class="headerlink" title="49.类中公有成员函数的调用，一定要通过类的对象来实现 （ ×）"></a>49.类中公有成员函数的调用，一定要通过类的对象来实现 （ ×）</h3><p>解析：</p>
<p>类中的构造函数，是不需要通过类的对象调用的，因为构造函数就是用于创建类的对象。此时尚无类的对象，如何通过类对象调用构造函数。</p>
<p>除构造函数外其他成员函数的调用需要通过类的对象来实现。</p>
]]></content>
      <categories>
        <category>C&amp;C++</category>
      </categories>
      <tags>
        <tag>导航</tag>
        <tag>分享</tag>
      </tags>
  </entry>
  <entry>
    <title>深度学习</title>
    <url>/2020/01/08/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/</url>
    <content><![CDATA[<h1 id="深度学习"><a href="#深度学习" class="headerlink" title="深度学习"></a>深度学习</h1><h1 id="人工智能"><a href="#人工智能" class="headerlink" title="人工智能"></a>人工智能</h1><p>1.人工智能包括机器学习包括深度学习</p>
<p>2.人工智能领域最近几年发展原因：</p>
<p>（1）硬件的快速发展，例如自动驾驶车变道加速减速，依赖计算机性能的提升，网络传输速度</p>
<p>（2）大数据发展 作出智能的判断和预测</p>
<p>3.人脸识别、视频监控、工业产品瑕疵、图片的识别（目标检测）、自动驾驶、医疗医疗影像的诊断、文字识别、图像视频生成设计</p>
<p>传统的目标检测：数学、编程，缺点精度高、训练和学习的时间太长，资金投入大，周期长</p>
<p>收集图片——&gt;图片标准化——&gt;配置训练模型——&gt;导出模型——&gt;预测</p>
<p>一流标准二流品牌三流产品 </p>
<h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><h3 id="1-list-basic"><a href="#1-list-basic" class="headerlink" title="1_list_basic"></a>1_list_basic</h3><p>python常用的数据结构：列表、数组、元组、集合、字典</p>
<p>1.列表：list []</p>
<p>元组tuple()  </p>
<p>集合 set{}</p>
<p>字典 dic   key:键    value:值      key:value</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">列表本身长度可变，并且可以容纳任意类型的数据，很多时候，列表用于代替数组来使用</span><br><span class="line"></span><br><span class="line">a = []</span><br><span class="line">b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">c = [<span class="number">1</span>, <span class="number">12</span>, <span class="number">4</span>, <span class="string">&quot;This is a book&quot;</span>, a]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a = &quot;</span>, a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;b = &quot;</span>, b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;c = &quot;</span>, c)</span><br><span class="line">a =  []</span><br><span class="line">b =  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">c =  [<span class="number">1</span>, <span class="number">12</span>, <span class="number">4</span>, <span class="string">&#x27;This is a book&#x27;</span>, []]</span><br><span class="line">c = [<span class="number">1</span>, <span class="number">12.4</span>, <span class="string">&quot;This is a book&quot;</span>, b]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;c = &quot;</span>, c)</span><br><span class="line">c =  [<span class="number">1</span>, <span class="number">12.4</span>, <span class="string">&#x27;This is a book&#x27;</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="built_in">print</span>(b[<span class="number">0</span>], b[<span class="number">1</span>])</span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line">Python的列表支持负数索引用于表示逆向索引（从后向前索引）</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(c[-<span class="number">1</span>])</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="built_in">print</span>(c[-<span class="number">2</span>][<span class="number">0</span>])</span><br><span class="line">T</span><br><span class="line"><span class="number">0</span>:起始位置的索引 <span class="number">2</span>：标识结束的位置，<span class="number">2</span>-<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(b[<span class="number">0</span>:<span class="number">2</span>])</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span>(b[<span class="number">1</span>:<span class="number">2</span>])</span><br><span class="line">[<span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span>(b[<span class="number">1</span>:])</span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="number">1</span>:代表起始位置 <span class="number">2</span>：代表步长</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(c[<span class="number">1</span>::<span class="number">2</span>])</span><br><span class="line">[<span class="number">12.4</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="built_in">print</span>(b[<span class="number">0</span>::<span class="number">2</span>]) <span class="comment">#表示选择b中索引为偶数的元素</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(b[::<span class="number">2</span>])</span><br><span class="line">[<span class="number">1</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(b[:<span class="number">2</span>])</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">b_dup = b[:]</span><br><span class="line"><span class="built_in">print</span>(b_dup)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">b_rev = b[::-<span class="number">1</span>]  <span class="comment">#-1表示逆序操作，即从末尾置前端，步长为1，实际效果就是逆序去除列表的b元素</span></span><br><span class="line"><span class="built_in">print</span>(b_rev)</span><br><span class="line">[<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(b <span class="keyword">is</span> b_dup) <span class="comment">#is运算符，判断两个不同的变量所指的是否是同一个对象</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(b), <span class="built_in">id</span>(b_dup))</span><br><span class="line"><span class="number">1444843733896</span> <span class="number">1444845149704</span></span><br><span class="line"><span class="built_in">print</span>(b == b_dup)  <span class="comment"># == 运算符用于比较b和b_dup里面内容是否相等</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line">列表追加和插入元素</span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">a.append(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">b = [<span class="string">&quot;1 in b&quot;</span>, <span class="string">&quot;2 in b&quot;</span>, <span class="string">&quot;3 in b&quot;</span>]</span><br><span class="line">a.append(b)   <span class="comment">#append将参数b作为一个整体添加到a的末尾</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, [<span class="string">&#x27;1 in b&#x27;</span>, <span class="string">&#x27;2 in b&#x27;</span>, <span class="string">&#x27;3 in b&#x27;</span>]]</span><br><span class="line">a.extend(b) <span class="comment">#extend以元素的方式追加a的末尾</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, [<span class="string">&#x27;1 in b&#x27;</span>, <span class="string">&#x27;2 in b&#x27;</span>, <span class="string">&#x27;3 in b&#x27;</span>], <span class="string">&#x27;1 in b&#x27;</span>, <span class="string">&#x27;2 in b&#x27;</span>, <span class="string">&#x27;3 in b&#x27;</span>]</span><br><span class="line">c = b + b  <span class="comment">#  +运算符和extend是一样的</span></span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line">[<span class="string">&#x27;1 in b&#x27;</span>, <span class="string">&#x27;2 in b&#x27;</span>, <span class="string">&#x27;3 in b&#x27;</span>, <span class="string">&#x27;1 in b&#x27;</span>, <span class="string">&#x27;2 in b&#x27;</span>, <span class="string">&#x27;3 in b&#x27;</span>]</span><br><span class="line">c.insert(<span class="number">1</span>, <span class="number">0</span>)  <span class="comment">#  i:插入索引的为止  0：插入元素的内容 其余的元素整体后移</span></span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line">[<span class="string">&#x27;1 in b&#x27;</span>, <span class="number">0</span>, <span class="string">&#x27;2 in b&#x27;</span>, <span class="string">&#x27;3 in b&#x27;</span>, <span class="string">&#x27;1 in b&#x27;</span>, <span class="string">&#x27;2 in b&#x27;</span>, <span class="string">&#x27;3 in b&#x27;</span>]</span><br><span class="line">清空和删除操作</span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;original a = &quot;</span>, a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;original b = &quot;</span>, b)</span><br><span class="line">original a =  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">original b =  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">a.clear()</span><br><span class="line">b=[]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;cleared a = &quot;</span>, a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;cleared b = &quot;</span>, b)</span><br><span class="line">cleared a =  []</span><br><span class="line">cleared b =  []</span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">pop_value = a.pop()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;pop_value = &quot;</span>, pop_value)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">pop_value =  <span class="number">3</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">a = [<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">a.remove(<span class="number">2</span>)   <span class="comment">#2表示的并不是索引号，而是元素内容（元素的值），删除元素内容为2且第一次出现的索引</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">a.remove(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[<span class="number">1</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>

<h3 id="2-list-basic"><a href="#2-list-basic" class="headerlink" title="2_list_basic"></a>2_list_basic</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">查找列表内容对应的索引</span><br><span class="line"></span><br><span class="line">a = [<span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(a.index(<span class="number">2</span>))      <span class="comment">#index()方法里的参数表示想要寻找的列表元素对应的编号，且是第一次出现的索引</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">a = [<span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">2</span>]</span><br><span class="line">cnt=  a.count(<span class="number">2</span>)  <span class="comment">#count()用于统计值为2元素出现的次数</span></span><br><span class="line"><span class="built_in">print</span>(cnt)</span><br><span class="line"><span class="number">4</span></span><br><span class="line">a = [<span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">b = a[::-<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line">a.reverse()</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>]</span><br><span class="line">[<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>]</span><br><span class="line">​</span><br></pre></td></tr></table></figure>

<h3 id="3-array"><a href="#3-array" class="headerlink" title="3_array"></a>3_array</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">当我们创建array的类型的数组时，需要引用数组类型的库</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> array <span class="keyword">import</span> array</span><br><span class="line">array_a = array(<span class="string">&#x27;i&#x27;</span>, a)</span><br><span class="line"><span class="built_in">print</span>(array_a)</span><br><span class="line">array(<span class="string">&#x27;i&#x27;</span>, [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">数组相比列表更加节省内存空间，并且访问效率更高</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="built_in">print</span>(sys.getsizeof(array_a), sys.getsizeof(a))</span><br><span class="line"><span class="number">80</span> <span class="number">96</span></span><br><span class="line">array类型的对象也具有像列表一样所描述的一些操作方法：增加、删除、统计、翻转、查找、索引</span><br></pre></td></tr></table></figure>

<h3 id="4-tuple"><a href="#4-tuple" class="headerlink" title="4_tuple"></a>4_tuple</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">元组和列表一样，都可以容纳多个元素，本质的区别：元组的元素是不会被修改的 python中元组最常用的用途就是同时传递多个参数，在python作为返回值时，可以返回任意个数的参数</span><br><span class="line"></span><br><span class="line">a = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="string">&quot;First&quot;</span>, <span class="string">&quot;Second&quot;</span>])   <span class="comment">#创建一个元组</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">tuple</span>&#x27;&gt;</span></span><br><span class="line"><span class="class">#<span class="title">a</span>[0] = 2</span></span><br><span class="line"><span class="class">---------------------------------------------------------------------------</span></span><br><span class="line"><span class="class"><span class="title">TypeError</span>                                 <span class="title">Traceback</span> (<span class="params">most recent call last</span>)</span></span><br><span class="line"><span class="class">&lt;<span class="title">ipython</span>-<span class="title">input</span>-3-48<span class="title">f8c1dbf98d</span>&gt; <span class="title">in</span> &lt;<span class="title">module</span>&gt;()</span></span><br><span class="line"><span class="class">----&gt; 1 a[0] = 2</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">TypeError:</span> <span class="string">&#x27;tuple&#x27;</span> <span class="built_in">object</span> does <span class="keyword">not</span> support item assignment</span><br><span class="line"></span><br><span class="line">对于元组而言列表内部的变化并未影响到元组本身，列表内部元素的变化仅仅与列表有关，而与元组无关，因此元组的元素不可变性并未受到影响</span><br><span class="line"></span><br><span class="line">a[<span class="number">3</span>][<span class="number">0</span>], a[<span class="number">3</span>][<span class="number">1</span>] = <span class="number">4</span>, <span class="number">5</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>])</span><br></pre></td></tr></table></figure>

<h3 id="5-set"><a href="#5-set" class="headerlink" title="5_set"></a>5_set</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">集合的特点是所有的元素是去重复的</span><br><span class="line"></span><br><span class="line">a = &#123;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;456&#x27;</span>, <span class="string">&#x27;123&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">&#123;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;456&#x27;</span>&#125;</span><br><span class="line">a = &#123;<span class="string">&#x27;123&#x27;</span>&#125;</span><br><span class="line">sup_a = &#123;<span class="string">&#x27;123&#x27;</span>,<span class="string">&#x27;456&#x27;</span>, <span class="string">&#x27;789&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(a.issubset(sup_a))     <span class="comment">#判断a是否是sup_a的子集</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="comment">#in操作符  </span></span><br><span class="line">find_res = <span class="string">&#x27;123&#x27;</span> <span class="keyword">in</span> a, <span class="string">&#x27;456&#x27;</span> <span class="keyword">in</span> a</span><br><span class="line"><span class="built_in">print</span>(find_res)</span><br><span class="line">(<span class="literal">True</span>, <span class="literal">False</span>)</span><br><span class="line"><span class="built_in">print</span>(sup_a.issuperset(a))  <span class="comment">#判断sup_a是否是a的超集</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="built_in">print</span>(a.isdisjoint(sup_a))   <span class="comment">#isdisjoint用于判断a和sup_a是否是不相交集</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line">a = &#123;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;456&#x27;</span>&#125;</span><br><span class="line">b = &#123;<span class="string">&#x27;123&#x27;</span>,<span class="string">&#x27;456&#x27;</span>, <span class="string">&#x27;789&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(a &lt;= b)</span><br><span class="line"><span class="built_in">print</span>(b &gt;= a)</span><br><span class="line"><span class="built_in">print</span>(b - a)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line">&#123;<span class="string">&#x27;789&#x27;</span>&#125;</span><br><span class="line">a = <span class="built_in">set</span>([<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;456&#x27;</span>, <span class="string">&#x27;123&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">&#123;<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;456&#x27;</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="6-dic"><a href="#6-dic" class="headerlink" title="6_dic"></a>6_dic</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = &#123;<span class="number">1</span>:<span class="string">&#x27;123&#x27;</span>, <span class="number">2</span>:<span class="string">&#x27;456&#x27;</span>, <span class="number">3</span>:<span class="string">&#x27;789&#x27;</span>&#125;  <span class="comment">#1,2,3用于查找的key键，&#x27;123&#x27;, &#x27;456&#x27;, &#x27;789&#x27; ：目标value值</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">1</span>], a[<span class="number">2</span>], a[<span class="number">3</span>])  <span class="comment">#通过key来获取value</span></span><br><span class="line"><span class="number">123</span> <span class="number">456</span> <span class="number">789</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;123&#x27;</span> <span class="keyword">in</span> a)    <span class="comment">#查找只是搜索键而不是搜索值</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">1</span> <span class="keyword">in</span> a)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">4</span>])  <span class="comment">#当访问的键不在字典key的范围内，则直接报错</span></span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line">KeyError                                  Traceback (most recent call last)</span><br><span class="line">&lt;ipython-<span class="built_in">input</span>-<span class="number">4</span>-3789e28aa08f&gt; <span class="keyword">in</span> &lt;module&gt;()</span><br><span class="line">----&gt; <span class="number">1</span> <span class="built_in">print</span>(a[<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">KeyError: <span class="number">4</span></span><br><span class="line"></span><br><span class="line">a.get(<span class="number">4</span>, <span class="string">&quot;The dic does not contain this key&quot;</span>)</span><br><span class="line"><span class="string">&#x27;The dic does not contain this key&#x27;</span></span><br></pre></td></tr></table></figure>

<p>2.编程的目的是操作硬件，硬件会被分配到地址空间且地址唯一，编程去访问地址</p>
<p>哪种语言可以访问地址，那么就能操作硬件</p>
<p>指针</p>
<p>3.遍历数据结构  for   while   range</p>
<p>4.python中自定义函数，自定义函数的结构</p>
<p>5.</p>
<p>numpy： 数学库，C++, </p>
<p>matplotlib ：绘图的工具</p>
<p>pandas: 基于Numpy库的工具，常见于大型数据的挖掘（分析），Matplotlib</p>
<p>数据集：波士顿房价（housing.data, housing.names）</p>
<p>housing.data-&gt;  重命名：data.csv</p>
<p>housing.</p>
<h3 id="7-traverse-for"><a href="#7-traverse-for" class="headerlink" title="7_traverse_for"></a>7_traverse_for</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a= [<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Hello world!&quot;</span>)</span><br><span class="line">x</span><br><span class="line">Hello world!</span><br><span class="line">y</span><br><span class="line">Hello world!</span><br><span class="line">z</span><br><span class="line">Hello world!</span><br><span class="line">b = &#123;<span class="number">1</span>:<span class="string">&#x27;123&#x27;</span>, <span class="number">2</span>:<span class="string">&#x27;456&#x27;</span>, <span class="number">4</span>:<span class="string">&#x27;789&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> b:         <span class="comment">#遍历的实际上是key键</span></span><br><span class="line">    <span class="built_in">print</span>(j)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line">c = &#123;<span class="string">&#x27;This is a book&#x27;</span>, <span class="string">&#x27;小明&#x27;</span>, <span class="string">&#x27;小红&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>&#125;    <span class="comment">#遍历集合乱序是因为哈希</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> c:</span><br><span class="line">    <span class="built_in">print</span>(k)</span><br><span class="line">小红</span><br><span class="line">This <span class="keyword">is</span> a book</span><br><span class="line">小明</span><br><span class="line">李四</span><br><span class="line">张三</span><br><span class="line">c = &#123;<span class="string">&#x27;This is a book&#x27;</span>, <span class="string">&#x27;小明&#x27;</span>, <span class="string">&#x27;小红&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;Rick&#x27;</span>&#125; </span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(c):    <span class="comment">#enumerate:表示在遍历元素的同时还可以遍历索引号</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;id = &quot;</span>, i, <span class="string">&quot;value = &quot;</span>, j)</span><br><span class="line"><span class="built_in">id</span> =  <span class="number">0</span> value =  小红</span><br><span class="line"><span class="built_in">id</span> =  <span class="number">1</span> value =  This <span class="keyword">is</span> a book</span><br><span class="line"><span class="built_in">id</span> =  <span class="number">2</span> value =  Rick</span><br><span class="line"><span class="built_in">id</span> =  <span class="number">3</span> value =  小明</span><br><span class="line"><span class="built_in">id</span> =  <span class="number">4</span> value =  李四</span><br><span class="line"><span class="built_in">id</span> =  <span class="number">5</span> value =  张三</span><br><span class="line">b = &#123;<span class="number">1</span>:<span class="string">&#x27;123&#x27;</span>, <span class="number">2</span>:<span class="string">&#x27;456&#x27;</span>, <span class="number">4</span>:<span class="string">&#x27;789&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> b:    <span class="comment">#遍历的实际上是key键</span></span><br><span class="line">    <span class="built_in">print</span>(j)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> b.values():</span><br><span class="line">    <span class="built_in">print</span>(j)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> b.items():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;key = &#x27;</span>, k, <span class="string">&#x27;value = &#x27;</span>, v)</span><br><span class="line"><span class="keyword">for</span> l, (k, v) <span class="keyword">in</span> <span class="built_in">enumerate</span>(b.items()):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;id = &#x27;</span>, l, <span class="string">&#x27;key = &#x27;</span>, k, <span class="string">&#x27;value = &#x27;</span>, v)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">123</span></span><br><span class="line"><span class="number">456</span></span><br><span class="line"><span class="number">789</span></span><br><span class="line">key =  <span class="number">1</span> value =  <span class="number">123</span></span><br><span class="line">key =  <span class="number">2</span> value =  <span class="number">456</span></span><br><span class="line">key =  <span class="number">4</span> value =  <span class="number">789</span></span><br><span class="line"><span class="built_in">id</span> =  <span class="number">0</span> key =  <span class="number">1</span> value =  <span class="number">123</span></span><br><span class="line"><span class="built_in">id</span> =  <span class="number">1</span> key =  <span class="number">2</span> value =  <span class="number">456</span></span><br><span class="line"><span class="built_in">id</span> =  <span class="number">2</span> key =  <span class="number">4</span> value =  <span class="number">789</span></span><br></pre></td></tr></table></figure>

<h3 id="8-traverse-while"><a href="#8-traverse-while" class="headerlink" title="8_traverse_while"></a>8_traverse_while</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">i, n = <span class="number">0</span>, <span class="number">10</span></span><br><span class="line">a, b = <span class="number">1</span>, <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> i &lt; n:</span><br><span class="line">    <span class="built_in">print</span>(a, end = <span class="string">&#x27;,&#x27;</span>)  <span class="comment">#end:用于控制输出的结尾， end 在默认情况下为换行操作符</span></span><br><span class="line">    a, b, i = b, a + b, i+<span class="number">1</span></span><br><span class="line"><span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">13</span>,<span class="number">21</span>,<span class="number">34</span>,<span class="number">55</span>,</span><br></pre></td></tr></table></figure>

<h3 id="9-range"><a href="#9-range" class="headerlink" title="9_range"></a>9_range</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>)  <span class="comment">#range 根据里面的参数生成一个1-10的数列</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line">a_set = <span class="built_in">set</span>(a)</span><br><span class="line"><span class="built_in">print</span>(a_set)</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="10-user-define-function"><a href="#10-user-define-function" class="headerlink" title="10_user_define_function"></a>10_user_define_function</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">square</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x * x</span><br><span class="line"><span class="built_in">print</span>(square(<span class="number">3</span>))</span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cube</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;return the cube of input&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> x * x *x</span><br><span class="line"><span class="built_in">help</span>(cube)</span><br><span class="line">Help on function cube <span class="keyword">in</span> module __main__:</span><br><span class="line"></span><br><span class="line">cube(x)</span><br><span class="line">    <span class="keyword">return</span> the cube of <span class="built_in">input</span></span><br></pre></td></tr></table></figure>

<h3 id="11-user-defined-function-2"><a href="#11-user-defined-function-2" class="headerlink" title="11_user_defined_function_2"></a>11_user_defined_function_2</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = <span class="number">2</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>():</span></span><br><span class="line">    x = <span class="number">3</span></span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(x);</span><br><span class="line"><span class="built_in">print</span>(f1())</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line">python中定义函数是支持函数嵌套的</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pow</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    z = <span class="number">100</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span>():</span></span><br><span class="line">        a, b = <span class="number">12</span>, <span class="number">24</span></span><br><span class="line">        <span class="keyword">return</span> a + b + z    <span class="comment">#add()是内层函数，是可以记忆外层函数里的变量的</span></span><br><span class="line">    <span class="keyword">return</span> x**y + add()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">pow</span>(<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line"><span class="number">144</span></span><br><span class="line">定义可变参数的函数</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">*args</span>):</span>      <span class="comment">#通过*的方式指明函数的参数的大小和长度是可变的</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> args:</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line">func(<span class="number">1</span>)</span><br><span class="line"><span class="number">1</span></span><br><span class="line">func(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">**args</span>):</span></span><br><span class="line">    <span class="keyword">for</span> key, value <span class="keyword">in</span> args.items():</span><br><span class="line">        <span class="built_in">print</span>(key, <span class="string">&#x27;:&#x27;</span>, value)</span><br><span class="line">func(name = <span class="string">&#x27;小明&#x27;</span>, home = <span class="string">&#x27;中国&#x27;</span>, color = <span class="string">&#x27;红色&#x27;</span>)</span><br><span class="line">name : 小明</span><br><span class="line">home : 中国</span><br><span class="line">color : 红色</span><br></pre></td></tr></table></figure>

<h3 id="12-Numpy-broadcast"><a href="#12-Numpy-broadcast" class="headerlink" title="12_Numpy_broadcast"></a>12_Numpy_broadcast</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np   <span class="comment">#导入numpy库并起一个别名np</span></span><br><span class="line">one = np.ones(shape=(<span class="number">2</span>, <span class="number">4</span>), dtype=<span class="built_in">int</span>)  <span class="comment">#创建一个2行4列的数组，元素都是interesting类型，并且值全为1</span></span><br><span class="line"><span class="built_in">print</span>(one)</span><br><span class="line">[[<span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span>]</span><br><span class="line"> [<span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span>]]</span><br><span class="line">six = one + <span class="number">5</span>    <span class="comment">#加法广播，将数组里面的所有元素都增加5</span></span><br><span class="line"><span class="built_in">print</span>(six)</span><br><span class="line">[[<span class="number">6</span> <span class="number">6</span> <span class="number">6</span> <span class="number">6</span>]</span><br><span class="line"> [<span class="number">6</span> <span class="number">6</span> <span class="number">6</span> <span class="number">6</span>]]</span><br><span class="line">four = six - <span class="number">2</span>    <span class="comment">#减法广播</span></span><br><span class="line"><span class="built_in">print</span>(four)</span><br><span class="line">[[<span class="number">4</span> <span class="number">4</span> <span class="number">4</span> <span class="number">4</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">4</span> <span class="number">4</span> <span class="number">4</span>]]</span><br><span class="line">ten = four * <span class="number">2.5</span>   <span class="comment">#乘法广播</span></span><br><span class="line"><span class="built_in">print</span>(ten)</span><br><span class="line">[[<span class="number">10.</span> <span class="number">10.</span> <span class="number">10.</span> <span class="number">10.</span>]</span><br><span class="line"> [<span class="number">10.</span> <span class="number">10.</span> <span class="number">10.</span> <span class="number">10.</span>]]</span><br><span class="line">one = ten / <span class="number">10</span>   <span class="comment">#除法广播</span></span><br><span class="line"><span class="built_in">print</span>(one)</span><br><span class="line">[[<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]]</span><br><span class="line"><span class="comment">#产生一个三维数组，(2, 3, 4)    理解为两个平面，每个平面都是3行4列</span></span><br><span class="line">a = np.arange(<span class="number">24</span>).reshape(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)               <span class="comment">#arrange(24) 表示产生24个整数，范围0-23</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line">  [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line">  [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line"></span><br><span class="line"> [[<span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span>]</span><br><span class="line">  [<span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>]</span><br><span class="line">  [<span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]]]</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>])</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line"> [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">1</span>])</span><br><span class="line">[[<span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span>]</span><br><span class="line"> [<span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>]</span><br><span class="line"> [<span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]]</span><br><span class="line"><span class="built_in">print</span>(a.shape)</span><br><span class="line">(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">weight = np.random.random(size=(<span class="number">3</span>,<span class="number">4</span>))      <span class="comment">#np库中的random模块里面的random方法，该函数用于产生随机的浮点数，且浮点数的取值范围是0.0-1.0</span></span><br><span class="line"><span class="built_in">print</span>(weight)</span><br><span class="line">[[<span class="number">0.38097823</span> <span class="number">0.69053936</span> <span class="number">0.62817818</span> <span class="number">0.87686175</span>]</span><br><span class="line"> [<span class="number">0.96450416</span> <span class="number">0.27261278</span> <span class="number">0.67801668</span> <span class="number">0.67632949</span>]</span><br><span class="line"> [<span class="number">0.18334816</span> <span class="number">0.78466491</span> <span class="number">0.29593649</span> <span class="number">0.6810566</span> ]]</span><br><span class="line">weight_a = a * weight </span><br><span class="line"><span class="built_in">print</span>(weight_a)</span><br><span class="line">[[[ <span class="number">0.</span>          <span class="number">0.69053936</span>  <span class="number">1.25635636</span>  <span class="number">2.63058526</span>]</span><br><span class="line">  [ <span class="number">3.85801663</span>  <span class="number">1.3630639</span>   <span class="number">4.06810007</span>  <span class="number">4.7343064</span> ]</span><br><span class="line">  [ <span class="number">1.4667853</span>   <span class="number">7.06198419</span>  <span class="number">2.95936485</span>  <span class="number">7.49162258</span>]]</span><br><span class="line"></span><br><span class="line"> [[ <span class="number">4.57173871</span>  <span class="number">8.97701162</span>  <span class="number">8.79449454</span> <span class="number">13.1529263</span> ]</span><br><span class="line">  [<span class="number">15.43206652</span>  <span class="number">4.63441726</span> <span class="number">12.20430021</span> <span class="number">12.85026024</span>]</span><br><span class="line">  [ <span class="number">3.66696324</span> <span class="number">16.4779631</span>   <span class="number">6.51060268</span> <span class="number">15.66430177</span>]]]</span><br></pre></td></tr></table></figure>

<h3 id="13-Numpy-index"><a href="#13-Numpy-index" class="headerlink" title="13_Numpy_index"></a>13_Numpy_index</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line"> [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line"> [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line"><span class="comment">#相当于图片裁剪</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">1</span> : <span class="number">3</span> , :])      <span class="comment"># 逗号，前面你的部分用于检索行，逗号，后面的部分用于检索列, 代表去除数组中的第一行和第二行的全部内容</span></span><br><span class="line">[[ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line"> [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span> , : ])    <span class="comment">#取出第0行的全部内容</span></span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(a[ :, <span class="number">1</span>])          <span class="comment">#取出第一列</span></span><br><span class="line">[<span class="number">1</span> <span class="number">5</span> <span class="number">9</span>]</span><br><span class="line"> <span class="built_in">print</span>(a[:<span class="number">2</span>, ::<span class="number">2</span>])    <span class="comment">#取出第0行和第一行的偶数列，相当于图片压缩</span></span><br><span class="line">[[<span class="number">0</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">4</span> <span class="number">6</span>]]</span><br><span class="line"> <span class="built_in">print</span>(a[<span class="number">1</span>:<span class="number">3</span>, ::<span class="number">2</span>])    <span class="comment">#取出第一行和第二行的偶数列，相当于图片压缩</span></span><br><span class="line">[[ <span class="number">4</span>  <span class="number">6</span>]</span><br><span class="line"> [ <span class="number">8</span> <span class="number">10</span>]]</span><br><span class="line"><span class="built_in">print</span>(a[:, ::-<span class="number">1</span>])    <span class="comment">#反序打印数组，相当于图片左右翻转</span></span><br><span class="line">[[ <span class="number">3</span>  <span class="number">2</span>  <span class="number">1</span>  <span class="number">0</span>]</span><br><span class="line"> [ <span class="number">7</span>  <span class="number">6</span>  <span class="number">5</span>  <span class="number">4</span>]</span><br><span class="line"> [<span class="number">11</span> <span class="number">10</span>  <span class="number">9</span>  <span class="number">8</span>]]</span><br><span class="line">a = np.arange(<span class="number">36</span>).reshape(<span class="number">6</span>, <span class="number">6</span>) - <span class="number">18</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[[-<span class="number">18</span> -<span class="number">17</span> -<span class="number">16</span> -<span class="number">15</span> -<span class="number">14</span> -<span class="number">13</span>]</span><br><span class="line"> [-<span class="number">12</span> -<span class="number">11</span> -<span class="number">10</span>  -<span class="number">9</span>  -<span class="number">8</span>  -<span class="number">7</span>]</span><br><span class="line"> [ -<span class="number">6</span>  -<span class="number">5</span>  -<span class="number">4</span>  -<span class="number">3</span>  -<span class="number">2</span>  -<span class="number">1</span>]</span><br><span class="line"> [  <span class="number">0</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>]</span><br><span class="line"> [  <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>]</span><br><span class="line"> [ <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>]]</span><br><span class="line">a = a.astype(<span class="built_in">float</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[[-<span class="number">18.</span> -<span class="number">17.</span> -<span class="number">16.</span> -<span class="number">15.</span> -<span class="number">14.</span> -<span class="number">13.</span>]</span><br><span class="line"> [-<span class="number">12.</span> -<span class="number">11.</span> -<span class="number">10.</span>  -<span class="number">9.</span>  -<span class="number">8.</span>  -<span class="number">7.</span>]</span><br><span class="line"> [ -<span class="number">6.</span>  -<span class="number">5.</span>  -<span class="number">4.</span>  -<span class="number">3.</span>  -<span class="number">2.</span>  -<span class="number">1.</span>]</span><br><span class="line"> [  <span class="number">0.</span>   <span class="number">1.</span>   <span class="number">2.</span>   <span class="number">3.</span>   <span class="number">4.</span>   <span class="number">5.</span>]</span><br><span class="line"> [  <span class="number">6.</span>   <span class="number">7.</span>   <span class="number">8.</span>   <span class="number">9.</span>  <span class="number">10.</span>  <span class="number">11.</span>]</span><br><span class="line"> [ <span class="number">12.</span>  <span class="number">13.</span>  <span class="number">14.</span>  <span class="number">15.</span>  <span class="number">16.</span>  <span class="number">17.</span>]]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">        <span class="keyword">if</span> a[i][j] &gt; <span class="number">0</span>:      <span class="comment">#分支语句if的写法</span></span><br><span class="line">            a[i][j] = np.log(a[i][j])</span><br><span class="line">        <span class="keyword">elif</span> a[i][j] &lt; <span class="number">0</span>:</span><br><span class="line">            a[i][j] = np.<span class="built_in">abs</span>(a[i][j])</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[[<span class="number">18.</span>         <span class="number">17.</span>         <span class="number">16.</span>         <span class="number">15.</span>         <span class="number">14.</span>         <span class="number">13.</span>        ]</span><br><span class="line"> [<span class="number">12.</span>         <span class="number">11.</span>         <span class="number">10.</span>          <span class="number">9.</span>          <span class="number">8.</span>          <span class="number">7.</span>        ]</span><br><span class="line"> [ <span class="number">6.</span>          <span class="number">5.</span>          <span class="number">4.</span>          <span class="number">3.</span>          <span class="number">2.</span>          <span class="number">1.</span>        ]</span><br><span class="line"> [ <span class="number">0.</span>          <span class="number">0.</span>          <span class="number">0.69314718</span>  <span class="number">1.09861229</span>  <span class="number">1.38629436</span>  <span class="number">1.60943791</span>]</span><br><span class="line"> [ <span class="number">1.79175947</span>  <span class="number">1.94591015</span>  <span class="number">2.07944154</span>  <span class="number">2.19722458</span>  <span class="number">2.30258509</span>  <span class="number">2.39789527</span>]</span><br><span class="line"> [ <span class="number">2.48490665</span>  <span class="number">2.56494936</span>  <span class="number">2.63905733</span>  <span class="number">2.7080502</span>   <span class="number">2.77258872</span>  <span class="number">2.83321334</span>]]</span><br><span class="line">将以上内容换成更具Python风格的代码,这段代码很Python</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">36</span>).reshape(<span class="number">6</span>, <span class="number">6</span>) - <span class="number">18</span></span><br><span class="line">a = a.astype(<span class="built_in">float</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[[-<span class="number">18.</span> -<span class="number">17.</span> -<span class="number">16.</span> -<span class="number">15.</span> -<span class="number">14.</span> -<span class="number">13.</span>]</span><br><span class="line"> [-<span class="number">12.</span> -<span class="number">11.</span> -<span class="number">10.</span>  -<span class="number">9.</span>  -<span class="number">8.</span>  -<span class="number">7.</span>]</span><br><span class="line"> [ -<span class="number">6.</span>  -<span class="number">5.</span>  -<span class="number">4.</span>  -<span class="number">3.</span>  -<span class="number">2.</span>  -<span class="number">1.</span>]</span><br><span class="line"> [  <span class="number">0.</span>   <span class="number">1.</span>   <span class="number">2.</span>   <span class="number">3.</span>   <span class="number">4.</span>   <span class="number">5.</span>]</span><br><span class="line"> [  <span class="number">6.</span>   <span class="number">7.</span>   <span class="number">8.</span>   <span class="number">9.</span>  <span class="number">10.</span>  <span class="number">11.</span>]</span><br><span class="line"> [ <span class="number">12.</span>  <span class="number">13.</span>  <span class="number">14.</span>  <span class="number">15.</span>  <span class="number">16.</span>  <span class="number">17.</span>]]</span><br><span class="line">a[a &gt; <span class="number">0</span>] = np.log(a[a &gt; <span class="number">0</span>])    <span class="comment">#a[a &gt; 0]表明选中数组a中所有大于0的部分</span></span><br><span class="line">a[a &lt; <span class="number">0</span>] = np.<span class="built_in">abs</span>(a[a &lt; <span class="number">0</span>])     <span class="comment">#a[a &lt; 0]表明数组a中所有小于0的部分</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[[<span class="number">18.</span>         <span class="number">17.</span>         <span class="number">16.</span>         <span class="number">15.</span>         <span class="number">14.</span>         <span class="number">13.</span>        ]</span><br><span class="line"> [<span class="number">12.</span>         <span class="number">11.</span>         <span class="number">10.</span>          <span class="number">9.</span>          <span class="number">8.</span>          <span class="number">7.</span>        ]</span><br><span class="line"> [ <span class="number">6.</span>          <span class="number">5.</span>          <span class="number">4.</span>          <span class="number">3.</span>          <span class="number">2.</span>          <span class="number">1.</span>        ]</span><br><span class="line"> [ <span class="number">0.</span>          <span class="number">0.</span>          <span class="number">0.69314718</span>  <span class="number">1.09861229</span>  <span class="number">1.38629436</span>  <span class="number">1.60943791</span>]</span><br><span class="line"> [ <span class="number">1.79175947</span>  <span class="number">1.94591015</span>  <span class="number">2.07944154</span>  <span class="number">2.19722458</span>  <span class="number">2.30258509</span>  <span class="number">2.39789527</span>]</span><br><span class="line"> [ <span class="number">2.48490665</span>  <span class="number">2.56494936</span>  <span class="number">2.63905733</span>  <span class="number">2.7080502</span>   <span class="number">2.77258872</span>  <span class="number">2.83321334</span>]]</span><br></pre></td></tr></table></figure>

<h3 id="14-Numpy-bool-mask-choice"><a href="#14-Numpy-bool-mask-choice" class="headerlink" title="14_Numpy_bool_mask_choice"></a>14_Numpy_bool_mask_choice</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">6</span> <span class="number">7</span> <span class="number">8</span>]]</span><br><span class="line">mask = np.array([[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>]], dtype = <span class="built_in">bool</span>)</span><br><span class="line"><span class="built_in">print</span>(mask)</span><br><span class="line">[[<span class="literal">False</span>  <span class="literal">True</span> <span class="literal">False</span>]</span><br><span class="line"> [ <span class="literal">True</span>  <span class="literal">True</span>  <span class="literal">True</span>]</span><br><span class="line"> [<span class="literal">False</span>  <span class="literal">True</span> <span class="literal">False</span>]]</span><br><span class="line">zero = np.zeros(shape=(<span class="number">3</span>,<span class="number">3</span>), dtype = <span class="built_in">int</span>)</span><br><span class="line"><span class="built_in">print</span>(zero)</span><br><span class="line">[[<span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line"> [<span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line"> [<span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]]</span><br><span class="line">zero[mask] = a[mask]</span><br><span class="line"><span class="built_in">print</span>(zero)</span><br><span class="line">[[<span class="number">0</span> <span class="number">1</span> <span class="number">0</span>]</span><br><span class="line"> [<span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"> [<span class="number">0</span> <span class="number">7</span> <span class="number">0</span>]]</span><br></pre></td></tr></table></figure>

<h3 id="15-Numpy-max-index"><a href="#15-Numpy-max-index" class="headerlink" title="15_Numpy_max_index"></a>15_Numpy_max_index</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.random.random(size=(<span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[<span class="number">0.98698565</span> <span class="number">0.14635243</span> <span class="number">0.19398302</span> <span class="number">0.34062085</span>]</span><br><span class="line"><span class="built_in">max</span> = np.<span class="built_in">max</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">max</span>)</span><br><span class="line"><span class="number">0.9869856450141692</span></span><br><span class="line">index = np.argmax(a)    <span class="comment">#找到最大值所对应的索引号</span></span><br><span class="line"><span class="built_in">print</span>(index)</span><br><span class="line"><span class="number">0</span></span><br><span class="line">a = np.random.random(size=(<span class="number">4</span>,<span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">[[<span class="number">0.56045705</span> <span class="number">0.96053804</span> <span class="number">0.98944767</span> <span class="number">0.59361697</span>]</span><br><span class="line"> [<span class="number">0.39033313</span> <span class="number">0.48608931</span> <span class="number">0.9395197</span>  <span class="number">0.41583442</span>]</span><br><span class="line"> [<span class="number">0.92528905</span> <span class="number">0.10797826</span> <span class="number">0.46196354</span> <span class="number">0.37016366</span>]</span><br><span class="line"> [<span class="number">0.46079661</span> <span class="number">0.40057397</span> <span class="number">0.4570824</span>  <span class="number">0.94022017</span>]]</span><br><span class="line">max_row = np.<span class="built_in">max</span>(a, axis = <span class="number">1</span>)     <span class="comment">#求解每一行的最大值</span></span><br><span class="line"><span class="built_in">print</span>(max_row)</span><br><span class="line">[<span class="number">0.98944767</span> <span class="number">0.9395197</span>  <span class="number">0.92528905</span> <span class="number">0.94022017</span>]</span><br><span class="line">max_col = np.<span class="built_in">max</span>(a, axis = <span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(max_col)</span><br><span class="line">[<span class="number">0.92528905</span> <span class="number">0.96053804</span> <span class="number">0.98944767</span> <span class="number">0.94022017</span>]</span><br><span class="line"><span class="built_in">max</span> = np.<span class="built_in">max</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">max</span>)</span><br><span class="line"><span class="number">0.9894476681859445</span></span><br><span class="line"><span class="built_in">max</span> = np.<span class="built_in">max</span>(a, axis=(<span class="number">0</span>, <span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">max</span>)</span><br><span class="line"><span class="number">0.9894476681859445</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="16-Numpy-accum"><a href="#16-Numpy-accum" class="headerlink" title="16_Numpy_accum"></a>16_Numpy_accum</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.random.random(size = <span class="number">5</span>)</span><br><span class="line">b = np.random.random(size = (<span class="number">2</span>, <span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line">[<span class="number">0.85749277</span> <span class="number">0.55312126</span> <span class="number">0.4063168</span>  <span class="number">0.8101051</span>  <span class="number">0.48978984</span>]</span><br><span class="line">[[<span class="number">0.12658613</span> <span class="number">0.78513823</span> <span class="number">0.74885478</span> <span class="number">0.56460027</span>]</span><br><span class="line"> [<span class="number">0.32852262</span> <span class="number">0.13435646</span> <span class="number">0.65849387</span> <span class="number">0.3759153</span> ]]</span><br><span class="line"><span class="built_in">print</span>(np.maximum.accumulate(a))      <span class="comment">#accumulate作用 求累计最大值和最小值</span></span><br><span class="line">[<span class="number">0.85749277</span> <span class="number">0.85749277</span> <span class="number">0.85749277</span> <span class="number">0.85749277</span> <span class="number">0.85749277</span>]</span><br><span class="line"><span class="built_in">print</span>(np.minimum.accumulate(a))</span><br><span class="line">[<span class="number">0.85749277</span> <span class="number">0.55312126</span> <span class="number">0.4063168</span>  <span class="number">0.4063168</span>  <span class="number">0.4063168</span> ]</span><br><span class="line"><span class="built_in">print</span>(np.maximum.accumulate(b, axis = <span class="number">1</span>))</span><br><span class="line">[[<span class="number">0.12658613</span> <span class="number">0.78513823</span> <span class="number">0.78513823</span> <span class="number">0.78513823</span>]</span><br><span class="line"> [<span class="number">0.32852262</span> <span class="number">0.32852262</span> <span class="number">0.65849387</span> <span class="number">0.65849387</span>]]</span><br><span class="line"><span class="built_in">print</span>(np.minimum.accumulate(b, axis = <span class="number">1</span>))</span><br><span class="line">[[<span class="number">0.12658613</span> <span class="number">0.12658613</span> <span class="number">0.12658613</span> <span class="number">0.12658613</span>]</span><br><span class="line"> [<span class="number">0.32852262</span> <span class="number">0.13435646</span> <span class="number">0.13435646</span> <span class="number">0.13435646</span>]]</span><br></pre></td></tr></table></figure>

<h3 id="17-matplotlib-simple"><a href="#17-matplotlib-simple" class="headerlink" title="17_matplotlib_simple"></a>17_matplotlib_simple</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">y = np.random.random(size = <span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line">[<span class="number">0.7346846</span>  <span class="number">0.589071</span>   <span class="number">0.44946544</span> <span class="number">0.67566599</span> <span class="number">0.54735044</span>]</span><br><span class="line">x = <span class="built_in">range</span>(<span class="number">5</span>)</span><br><span class="line">plt.show(plt.plot(x))</span><br><span class="line"></span><br><span class="line">plt.show(plt.plot(y))</span><br><span class="line"></span><br><span class="line">plt.show(plt.plot(x, y))</span><br><span class="line"></span><br><span class="line">在一个图表内绘制两条曲线</span><br><span class="line"></span><br><span class="line">y1 = np.random.random(size = <span class="number">10</span>)</span><br><span class="line">y2 = y1 + <span class="number">3</span></span><br><span class="line">​</span><br><span class="line"><span class="built_in">print</span>(y1)</span><br><span class="line"><span class="built_in">print</span>(y2)</span><br><span class="line">[<span class="number">0.72174174</span> <span class="number">0.8321387</span>  <span class="number">0.54382706</span> <span class="number">0.73858041</span> <span class="number">0.57598888</span> <span class="number">0.20071005</span></span><br><span class="line"> <span class="number">0.49959473</span> <span class="number">0.90083109</span> <span class="number">0.32678956</span> <span class="number">0.19899707</span>]</span><br><span class="line">[<span class="number">3.72174174</span> <span class="number">3.8321387</span>  <span class="number">3.54382706</span> <span class="number">3.73858041</span> <span class="number">3.57598888</span> <span class="number">3.20071005</span></span><br><span class="line"> <span class="number">3.49959473</span> <span class="number">3.90083109</span> <span class="number">3.32678956</span> <span class="number">3.19899707</span>]</span><br><span class="line">x1 = <span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line">x2 = <span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line">​</span><br><span class="line">plt.plot(x1,y1)</span><br><span class="line">plt.plot(x2, y2)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="18-matplotlib-width-color-linetype"><a href="#18-matplotlib-width-color-linetype" class="headerlink" title="18_matplotlib_width_color_linetype"></a>18_matplotlib_width_color_linetype</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]</span><br><span class="line">y1 = x + <span class="number">2000</span></span><br><span class="line">y2 = x ** <span class="number">4</span></span><br><span class="line">y3 = np.exp(x)</span><br><span class="line">plt.plot(x, y1, linewidth = <span class="number">1</span>)</span><br><span class="line">plt.plot(x, y2, linewidth = <span class="number">4</span>)</span><br><span class="line">plt.plot(x, y3, linewidth = <span class="number">8</span>)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">plt.plot(x, y1, <span class="string">&#x27;r&#x27;</span>, linewidth = <span class="number">1</span>)</span><br><span class="line">plt.plot(x, y2, <span class="string">&#x27;y&#x27;</span>, linewidth = <span class="number">2</span>)</span><br><span class="line">plt.plot(x, y3, <span class="string">&#x27;b&#x27;</span>, linewidth = <span class="number">4</span>)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">plt.plot(x, y1, <span class="string">&#x27;ro--&#x27;</span>, linewidth = <span class="number">1</span>)</span><br><span class="line">plt.plot(x, y2, <span class="string">&#x27;y^-&#x27;</span>, linewidth = <span class="number">1</span>)</span><br><span class="line">plt.plot(x, y3, <span class="string">&#x27;b-.&#x27;</span>, linewidth = <span class="number">1</span>)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">plt.plot(x, y1, <span class="string">&#x27;--&#x27;</span>, linewidth = <span class="number">1</span>)</span><br><span class="line">plt.plot(x, y2, <span class="string">&#x27;s&#x27;</span>, linewidth = <span class="number">1</span>)</span><br><span class="line">plt.plot(x, y3, <span class="string">&#x27;*&#x27;</span>, linewidth = <span class="number">1</span>)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="19-matplotlib-subplot"><a href="#19-matplotlib-subplot" class="headerlink" title="19_matplotlib_subplot"></a>19_matplotlib_subplot</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x = np.arange(<span class="number">10</span>)</span><br><span class="line">y1 = x + <span class="number">0.5</span></span><br><span class="line">y2 = x ** <span class="number">2</span></span><br><span class="line">y3 = np.log(<span class="number">2</span> * x + <span class="number">1</span>)</span><br><span class="line">y4= (<span class="number">1</span>/(x+<span class="number">1</span>)) * np.sin(x)</span><br><span class="line"><span class="comment">#subplot: arg1:子图的函数  arg2:子图的列数  arg3:当前子图的编号id</span></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line"><span class="comment">#plt.subplot(221)</span></span><br><span class="line">plt.plot(x, y1, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"><span class="comment">#plt.subplot(222)</span></span><br><span class="line">plt.plot(x, y2, <span class="string">&#x27;y&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment">#plt.subplot(223)</span></span><br><span class="line">plt.plot(x, y3, <span class="string">&#x27;g&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line"><span class="comment">#plt.subplot(2, 2, 4)</span></span><br><span class="line">plt.plot(x, y4, <span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h3 id="20-matplotlib-legend"><a href="#20-matplotlib-legend" class="headerlink" title="20_matplotlib_legend"></a>20_matplotlib_legend</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x = np.arange(<span class="number">10</span>)</span><br><span class="line">y1 = np.log(<span class="number">2</span>*x + <span class="number">1</span>)</span><br><span class="line">y2 = <span class="number">1</span>/(x+<span class="number">1</span>)*np.sin(x)</span><br><span class="line">plt.plot(x, y1, <span class="string">&#x27;ro--&#x27;</span>, label=<span class="string">&#x27;log(2x+1)&#x27;</span>)   <span class="comment">#label ：表示要在图表中备注的信息</span></span><br><span class="line">plt.plot(x, y2, <span class="string">&#x27;bo--&#x27;</span>, label=<span class="string">&#x27;sinx/(x+1)&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.legend(loc=<span class="string">&#x27;upper left&#x27;</span>)    <span class="comment">#通过legend方法来显示图表的说明   upper left:表示备注信息显示在左上角</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h3 id="21-matplotlib-annotate"><a href="#21-matplotlib-annotate" class="headerlink" title="21_matplotlib_annotate"></a>21_matplotlib_annotate</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x = np.arange(<span class="number">10</span>)</span><br><span class="line">y = <span class="number">1</span>/(x+<span class="number">1</span>)*np.sin(x)</span><br><span class="line">plt.plot(x, y, <span class="string">&#x27;bo--&#x27;</span>, label=<span class="string">&#x27;sinx/(x+1)&#x27;</span>)</span><br><span class="line">plt.legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line"><span class="comment">#annotate: arg1:显示的内容   arg2: xy箭头所指向的坐标位置  arg3：xytext表示标注文本的位置  arg4：标注字体的大小  arg5:箭头的属性</span></span><br><span class="line">plt.annotate(<span class="string">&#x27;max_value&#x27;</span>, xy=(<span class="number">1</span>, <span class="number">0.42</span>), xytext=(<span class="number">2</span>, <span class="number">0.4</span>), fontsize = <span class="number">20</span>, arrowprops=<span class="built_in">dict</span>(facecolor=<span class="string">&#x27;red&#x27;</span>, width=<span class="number">5</span>))</span><br><span class="line">plt.show()</span><br><span class="line"><span class="built_in">print</span>(np.sin(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<h3 id="22-matplotlib-grid-xylabel-title"><a href="#22-matplotlib-grid-xylabel-title" class="headerlink" title="22_matplotlib_grid_xylabel_title"></a>22_matplotlib_grid_xylabel_title</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x = np.arange(<span class="number">10</span>)</span><br><span class="line">y = np.sin(x)</span><br><span class="line">plt.plot(x, y, <span class="string">&#x27;bo--&#x27;</span>, label=<span class="string">&#x27;sinx&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xticks(np.arange(<span class="number">10</span>))</span><br><span class="line">plt.grid(<span class="literal">True</span>)    <span class="comment">#grid方法用于设置是否开始辅助网格线</span></span><br><span class="line">plt.xlabel(<span class="string">&#x27;x axis&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;y axis&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;The sin(x) figure&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h3 id="23-pandas-read-csv"><a href="#23-pandas-read-csv" class="headerlink" title="23_pandas_read_csv"></a>23_pandas_read_csv</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">col_names = [<span class="string">&#x27;CRIN&#x27;</span>, <span class="string">&#x27;ZN&#x27;</span>, <span class="string">&#x27;INDUS&#x27;</span>, <span class="string">&#x27;CHAS&#x27;</span>, <span class="string">&#x27;NOX&#x27;</span>, <span class="string">&#x27;RM&#x27;</span>, <span class="string">&#x27;AGE&#x27;</span>, <span class="string">&#x27;DIS&#x27;</span>, <span class="string">&#x27;RAD&#x27;</span>, <span class="string">&#x27;TAX&#x27;</span>, <span class="string">&#x27;PTRATIO&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;LSTAT&#x27;</span>, <span class="string">&#x27;MEDV&#x27;</span>]</span><br><span class="line"><span class="comment">#read_csv()   arg1: 要读取的文件路径及名称  arg2:列名称   arg3:列和列的间隔  arg4:添加的列信息</span></span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;data.csv&#x27;</span>, header=<span class="literal">None</span>, sep=<span class="string">r&#x27;\s+&#x27;</span>, names = col_names)</span><br><span class="line">data</span><br><span class="line">	CRIN	ZN	INDUS	CHAS	NOX	RM	AGE	DIS	RAD	TAX	PTRATIO	B	LSTAT	MEDV</span><br><span class="line"><span class="number">0</span>	<span class="number">0.00632</span>	<span class="number">18.0</span>	<span class="number">2.31</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.575</span>	<span class="number">65.2</span>	<span class="number">4.0900</span>	<span class="number">1</span>	<span class="number">296.0</span>	<span class="number">15.3</span>	<span class="number">396.90</span>	<span class="number">4.98</span>	<span class="number">24.0</span></span><br><span class="line"><span class="number">1</span>	<span class="number">0.02731</span>	<span class="number">0.0</span>	<span class="number">7.07</span>	<span class="number">0</span>	<span class="number">0.469</span>	<span class="number">6.421</span>	<span class="number">78.9</span>	<span class="number">4.9671</span>	<span class="number">2</span>	<span class="number">242.0</span>	<span class="number">17.8</span>	<span class="number">396.90</span>	<span class="number">9.14</span>	<span class="number">21.6</span></span><br><span class="line"><span class="number">2</span>	<span class="number">0.02729</span>	<span class="number">0.0</span>	<span class="number">7.07</span>	<span class="number">0</span>	<span class="number">0.469</span>	<span class="number">7.185</span>	<span class="number">61.1</span>	<span class="number">4.9671</span>	<span class="number">2</span>	<span class="number">242.0</span>	<span class="number">17.8</span>	<span class="number">392.83</span>	<span class="number">4.03</span>	<span class="number">34.7</span></span><br><span class="line"><span class="number">3</span>	<span class="number">0.03237</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">6.998</span>	<span class="number">45.8</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">394.63</span>	<span class="number">2.94</span>	<span class="number">33.4</span></span><br><span class="line"><span class="number">4</span>	<span class="number">0.06905</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">7.147</span>	<span class="number">54.2</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">396.90</span>	<span class="number">5.33</span>	<span class="number">36.2</span></span><br><span class="line"><span class="number">5</span>	<span class="number">0.02985</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">6.430</span>	<span class="number">58.7</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">394.12</span>	<span class="number">5.21</span>	<span class="number">28.7</span></span><br><span class="line"><span class="number">6</span>	<span class="number">0.08829</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.012</span>	<span class="number">66.6</span>	<span class="number">5.5605</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">395.60</span>	<span class="number">12.43</span>	<span class="number">22.9</span></span><br><span class="line"><span class="number">7</span>	<span class="number">0.14455</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.172</span>	<span class="number">96.1</span>	<span class="number">5.9505</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">396.90</span>	<span class="number">19.15</span>	<span class="number">27.1</span></span><br><span class="line"><span class="number">8</span>	<span class="number">0.21124</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">5.631</span>	<span class="number">100.0</span>	<span class="number">6.0821</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">386.63</span>	<span class="number">29.93</span>	<span class="number">16.5</span></span><br><span class="line"><span class="number">9</span>	<span class="number">0.17004</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.004</span>	<span class="number">85.9</span>	<span class="number">6.5921</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">386.71</span>	<span class="number">17.10</span>	<span class="number">18.9</span></span><br><span class="line"><span class="number">10</span>	<span class="number">0.22489</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.377</span>	<span class="number">94.3</span>	<span class="number">6.3467</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">392.52</span>	<span class="number">20.45</span>	<span class="number">15.0</span></span><br><span class="line"><span class="number">11</span>	<span class="number">0.11747</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.009</span>	<span class="number">82.9</span>	<span class="number">6.2267</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">396.90</span>	<span class="number">13.27</span>	<span class="number">18.9</span></span><br><span class="line"><span class="number">12</span>	<span class="number">0.09378</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">5.889</span>	<span class="number">39.0</span>	<span class="number">5.4509</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">390.50</span>	<span class="number">15.71</span>	<span class="number">21.7</span></span><br><span class="line"><span class="number">13</span>	<span class="number">0.62976</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.949</span>	<span class="number">61.8</span>	<span class="number">4.7075</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">8.26</span>	<span class="number">20.4</span></span><br><span class="line"><span class="number">14</span>	<span class="number">0.63796</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.096</span>	<span class="number">84.5</span>	<span class="number">4.4619</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">380.02</span>	<span class="number">10.26</span>	<span class="number">18.2</span></span><br><span class="line"><span class="number">15</span>	<span class="number">0.62739</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.834</span>	<span class="number">56.5</span>	<span class="number">4.4986</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">395.62</span>	<span class="number">8.47</span>	<span class="number">19.9</span></span><br><span class="line"><span class="number">16</span>	<span class="number">1.05393</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.935</span>	<span class="number">29.3</span>	<span class="number">4.4986</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">386.85</span>	<span class="number">6.58</span>	<span class="number">23.1</span></span><br><span class="line"><span class="number">17</span>	<span class="number">0.78420</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.990</span>	<span class="number">81.7</span>	<span class="number">4.2579</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">386.75</span>	<span class="number">14.67</span>	<span class="number">17.5</span></span><br><span class="line"><span class="number">18</span>	<span class="number">0.80271</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.456</span>	<span class="number">36.6</span>	<span class="number">3.7965</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">288.99</span>	<span class="number">11.69</span>	<span class="number">20.2</span></span><br><span class="line"><span class="number">19</span>	<span class="number">0.72580</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.727</span>	<span class="number">69.5</span>	<span class="number">3.7965</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">390.95</span>	<span class="number">11.28</span>	<span class="number">18.2</span></span><br><span class="line"><span class="number">20</span>	<span class="number">1.25179</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.570</span>	<span class="number">98.1</span>	<span class="number">3.7979</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">376.57</span>	<span class="number">21.02</span>	<span class="number">13.6</span></span><br><span class="line"><span class="number">21</span>	<span class="number">0.85204</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.965</span>	<span class="number">89.2</span>	<span class="number">4.0123</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">392.53</span>	<span class="number">13.83</span>	<span class="number">19.6</span></span><br><span class="line"><span class="number">22</span>	<span class="number">1.23247</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.142</span>	<span class="number">91.7</span>	<span class="number">3.9769</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">18.72</span>	<span class="number">15.2</span></span><br><span class="line"><span class="number">23</span>	<span class="number">0.98843</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.813</span>	<span class="number">100.0</span>	<span class="number">4.0952</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">394.54</span>	<span class="number">19.88</span>	<span class="number">14.5</span></span><br><span class="line"><span class="number">24</span>	<span class="number">0.75026</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.924</span>	<span class="number">94.1</span>	<span class="number">4.3996</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">394.33</span>	<span class="number">16.30</span>	<span class="number">15.6</span></span><br><span class="line"><span class="number">25</span>	<span class="number">0.84054</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.599</span>	<span class="number">85.7</span>	<span class="number">4.4546</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">303.42</span>	<span class="number">16.51</span>	<span class="number">13.9</span></span><br><span class="line"><span class="number">26</span>	<span class="number">0.67191</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.813</span>	<span class="number">90.3</span>	<span class="number">4.6820</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">376.88</span>	<span class="number">14.81</span>	<span class="number">16.6</span></span><br><span class="line"><span class="number">27</span>	<span class="number">0.95577</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.047</span>	<span class="number">88.8</span>	<span class="number">4.4534</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">306.38</span>	<span class="number">17.28</span>	<span class="number">14.8</span></span><br><span class="line"><span class="number">28</span>	<span class="number">0.77299</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.495</span>	<span class="number">94.4</span>	<span class="number">4.4547</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">387.94</span>	<span class="number">12.80</span>	<span class="number">18.4</span></span><br><span class="line"><span class="number">29</span>	<span class="number">1.00245</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.674</span>	<span class="number">87.3</span>	<span class="number">4.2390</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">380.23</span>	<span class="number">11.98</span>	<span class="number">21.0</span></span><br><span class="line">...	...	...	...	...	...	...	...	...	...	...	...	...	...	...</span><br><span class="line"><span class="number">476</span>	<span class="number">4.87141</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.614</span>	<span class="number">6.484</span>	<span class="number">93.6</span>	<span class="number">2.3053</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">396.21</span>	<span class="number">18.68</span>	<span class="number">16.7</span></span><br><span class="line"><span class="number">477</span>	<span class="number">15.02340</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.614</span>	<span class="number">5.304</span>	<span class="number">97.3</span>	<span class="number">2.1007</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">349.48</span>	<span class="number">24.91</span>	<span class="number">12.0</span></span><br><span class="line"><span class="number">478</span>	<span class="number">10.23300</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.614</span>	<span class="number">6.185</span>	<span class="number">96.7</span>	<span class="number">2.1705</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">379.70</span>	<span class="number">18.03</span>	<span class="number">14.6</span></span><br><span class="line"><span class="number">479</span>	<span class="number">14.33370</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.614</span>	<span class="number">6.229</span>	<span class="number">88.0</span>	<span class="number">1.9512</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">383.32</span>	<span class="number">13.11</span>	<span class="number">21.4</span></span><br><span class="line"><span class="number">480</span>	<span class="number">5.82401</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.532</span>	<span class="number">6.242</span>	<span class="number">64.7</span>	<span class="number">3.4242</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">396.90</span>	<span class="number">10.74</span>	<span class="number">23.0</span></span><br><span class="line"><span class="number">481</span>	<span class="number">5.70818</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.532</span>	<span class="number">6.750</span>	<span class="number">74.9</span>	<span class="number">3.3317</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">393.07</span>	<span class="number">7.74</span>	<span class="number">23.7</span></span><br><span class="line"><span class="number">482</span>	<span class="number">5.73116</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.532</span>	<span class="number">7.061</span>	<span class="number">77.0</span>	<span class="number">3.4106</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">395.28</span>	<span class="number">7.01</span>	<span class="number">25.0</span></span><br><span class="line"><span class="number">483</span>	<span class="number">2.81838</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.532</span>	<span class="number">5.762</span>	<span class="number">40.3</span>	<span class="number">4.0983</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">392.92</span>	<span class="number">10.42</span>	<span class="number">21.8</span></span><br><span class="line"><span class="number">484</span>	<span class="number">2.37857</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.583</span>	<span class="number">5.871</span>	<span class="number">41.9</span>	<span class="number">3.7240</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">370.73</span>	<span class="number">13.34</span>	<span class="number">20.6</span></span><br><span class="line"><span class="number">485</span>	<span class="number">3.67367</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.583</span>	<span class="number">6.312</span>	<span class="number">51.9</span>	<span class="number">3.9917</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">388.62</span>	<span class="number">10.58</span>	<span class="number">21.2</span></span><br><span class="line"><span class="number">486</span>	<span class="number">5.69175</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.583</span>	<span class="number">6.114</span>	<span class="number">79.8</span>	<span class="number">3.5459</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">392.68</span>	<span class="number">14.98</span>	<span class="number">19.1</span></span><br><span class="line"><span class="number">487</span>	<span class="number">4.83567</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.583</span>	<span class="number">5.905</span>	<span class="number">53.2</span>	<span class="number">3.1523</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">388.22</span>	<span class="number">11.45</span>	<span class="number">20.6</span></span><br><span class="line"><span class="number">488</span>	<span class="number">0.15086</span>	<span class="number">0.0</span>	<span class="number">27.74</span>	<span class="number">0</span>	<span class="number">0.609</span>	<span class="number">5.454</span>	<span class="number">92.7</span>	<span class="number">1.8209</span>	<span class="number">4</span>	<span class="number">711.0</span>	<span class="number">20.1</span>	<span class="number">395.09</span>	<span class="number">18.06</span>	<span class="number">15.2</span></span><br><span class="line"><span class="number">489</span>	<span class="number">0.18337</span>	<span class="number">0.0</span>	<span class="number">27.74</span>	<span class="number">0</span>	<span class="number">0.609</span>	<span class="number">5.414</span>	<span class="number">98.3</span>	<span class="number">1.7554</span>	<span class="number">4</span>	<span class="number">711.0</span>	<span class="number">20.1</span>	<span class="number">344.05</span>	<span class="number">23.97</span>	<span class="number">7.0</span></span><br><span class="line"><span class="number">490</span>	<span class="number">0.20746</span>	<span class="number">0.0</span>	<span class="number">27.74</span>	<span class="number">0</span>	<span class="number">0.609</span>	<span class="number">5.093</span>	<span class="number">98.0</span>	<span class="number">1.8226</span>	<span class="number">4</span>	<span class="number">711.0</span>	<span class="number">20.1</span>	<span class="number">318.43</span>	<span class="number">29.68</span>	<span class="number">8.1</span></span><br><span class="line"><span class="number">491</span>	<span class="number">0.10574</span>	<span class="number">0.0</span>	<span class="number">27.74</span>	<span class="number">0</span>	<span class="number">0.609</span>	<span class="number">5.983</span>	<span class="number">98.8</span>	<span class="number">1.8681</span>	<span class="number">4</span>	<span class="number">711.0</span>	<span class="number">20.1</span>	<span class="number">390.11</span>	<span class="number">18.07</span>	<span class="number">13.6</span></span><br><span class="line"><span class="number">492</span>	<span class="number">0.11132</span>	<span class="number">0.0</span>	<span class="number">27.74</span>	<span class="number">0</span>	<span class="number">0.609</span>	<span class="number">5.983</span>	<span class="number">83.5</span>	<span class="number">2.1099</span>	<span class="number">4</span>	<span class="number">711.0</span>	<span class="number">20.1</span>	<span class="number">396.90</span>	<span class="number">13.35</span>	<span class="number">20.1</span></span><br><span class="line"><span class="number">493</span>	<span class="number">0.17331</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.707</span>	<span class="number">54.0</span>	<span class="number">2.3817</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">12.01</span>	<span class="number">21.8</span></span><br><span class="line"><span class="number">494</span>	<span class="number">0.27957</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.926</span>	<span class="number">42.6</span>	<span class="number">2.3817</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">13.59</span>	<span class="number">24.5</span></span><br><span class="line"><span class="number">495</span>	<span class="number">0.17899</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.670</span>	<span class="number">28.8</span>	<span class="number">2.7986</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">393.29</span>	<span class="number">17.60</span>	<span class="number">23.1</span></span><br><span class="line"><span class="number">496</span>	<span class="number">0.28960</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.390</span>	<span class="number">72.9</span>	<span class="number">2.7986</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">21.14</span>	<span class="number">19.7</span></span><br><span class="line"><span class="number">497</span>	<span class="number">0.26838</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.794</span>	<span class="number">70.6</span>	<span class="number">2.8927</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">14.10</span>	<span class="number">18.3</span></span><br><span class="line"><span class="number">498</span>	<span class="number">0.23912</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">6.019</span>	<span class="number">65.3</span>	<span class="number">2.4091</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">12.92</span>	<span class="number">21.2</span></span><br><span class="line"><span class="number">499</span>	<span class="number">0.17783</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.569</span>	<span class="number">73.5</span>	<span class="number">2.3999</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">395.77</span>	<span class="number">15.10</span>	<span class="number">17.5</span></span><br><span class="line"><span class="number">500</span>	<span class="number">0.22438</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">6.027</span>	<span class="number">79.7</span>	<span class="number">2.4982</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">14.33</span>	<span class="number">16.8</span></span><br><span class="line"><span class="number">501</span>	<span class="number">0.06263</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.593</span>	<span class="number">69.1</span>	<span class="number">2.4786</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">391.99</span>	<span class="number">9.67</span>	<span class="number">22.4</span></span><br><span class="line"><span class="number">502</span>	<span class="number">0.04527</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.120</span>	<span class="number">76.7</span>	<span class="number">2.2875</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">9.08</span>	<span class="number">20.6</span></span><br><span class="line"><span class="number">503</span>	<span class="number">0.06076</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.976</span>	<span class="number">91.0</span>	<span class="number">2.1675</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">5.64</span>	<span class="number">23.9</span></span><br><span class="line"><span class="number">504</span>	<span class="number">0.10959</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.794</span>	<span class="number">89.3</span>	<span class="number">2.3889</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">393.45</span>	<span class="number">6.48</span>	<span class="number">22.0</span></span><br><span class="line"><span class="number">505</span>	<span class="number">0.04741</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.030</span>	<span class="number">80.8</span>	<span class="number">2.5050</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">7.88</span>	<span class="number">11.9</span></span><br><span class="line"><span class="number">506</span> rows × <span class="number">14</span> columns</span><br><span class="line"></span><br><span class="line">first_5=data.head()  <span class="comment">#head默认查看前五项数据</span></span><br><span class="line">first_5</span><br><span class="line">CRIN	ZN	INDUS	CHAS	NOX	RM	AGE	DIS	RAD	TAX	PTRATIO	B	LSTAT	MEDV</span><br><span class="line"><span class="number">0</span>	<span class="number">0.00632</span>	<span class="number">18.0</span>	<span class="number">2.31</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.575</span>	<span class="number">65.2</span>	<span class="number">4.0900</span>	<span class="number">1</span>	<span class="number">296.0</span>	<span class="number">15.3</span>	<span class="number">396.90</span>	<span class="number">4.98</span>	<span class="number">24.0</span></span><br><span class="line"><span class="number">1</span>	<span class="number">0.02731</span>	<span class="number">0.0</span>	<span class="number">7.07</span>	<span class="number">0</span>	<span class="number">0.469</span>	<span class="number">6.421</span>	<span class="number">78.9</span>	<span class="number">4.9671</span>	<span class="number">2</span>	<span class="number">242.0</span>	<span class="number">17.8</span>	<span class="number">396.90</span>	<span class="number">9.14</span>	<span class="number">21.6</span></span><br><span class="line"><span class="number">2</span>	<span class="number">0.02729</span>	<span class="number">0.0</span>	<span class="number">7.07</span>	<span class="number">0</span>	<span class="number">0.469</span>	<span class="number">7.185</span>	<span class="number">61.1</span>	<span class="number">4.9671</span>	<span class="number">2</span>	<span class="number">242.0</span>	<span class="number">17.8</span>	<span class="number">392.83</span>	<span class="number">4.03</span>	<span class="number">34.7</span></span><br><span class="line"><span class="number">3</span>	<span class="number">0.03237</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">6.998</span>	<span class="number">45.8</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">394.63</span>	<span class="number">2.94</span>	<span class="number">33.4</span></span><br><span class="line"><span class="number">4</span>	<span class="number">0.06905</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">7.147</span>	<span class="number">54.2</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">396.90</span>	<span class="number">5.33</span>	<span class="number">36.2</span></span><br><span class="line">first_10=data.head(<span class="number">10</span>)  <span class="comment">#head默认查看前10项数据</span></span><br><span class="line">first_10</span><br><span class="line">CRIN	ZN	INDUS	CHAS	NOX	RM	AGE	DIS	RAD	TAX	PTRATIO	B	LSTAT	MEDV</span><br><span class="line"><span class="number">0</span>	<span class="number">0.00632</span>	<span class="number">18.0</span>	<span class="number">2.31</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.575</span>	<span class="number">65.2</span>	<span class="number">4.0900</span>	<span class="number">1</span>	<span class="number">296.0</span>	<span class="number">15.3</span>	<span class="number">396.90</span>	<span class="number">4.98</span>	<span class="number">24.0</span></span><br><span class="line"><span class="number">1</span>	<span class="number">0.02731</span>	<span class="number">0.0</span>	<span class="number">7.07</span>	<span class="number">0</span>	<span class="number">0.469</span>	<span class="number">6.421</span>	<span class="number">78.9</span>	<span class="number">4.9671</span>	<span class="number">2</span>	<span class="number">242.0</span>	<span class="number">17.8</span>	<span class="number">396.90</span>	<span class="number">9.14</span>	<span class="number">21.6</span></span><br><span class="line"><span class="number">2</span>	<span class="number">0.02729</span>	<span class="number">0.0</span>	<span class="number">7.07</span>	<span class="number">0</span>	<span class="number">0.469</span>	<span class="number">7.185</span>	<span class="number">61.1</span>	<span class="number">4.9671</span>	<span class="number">2</span>	<span class="number">242.0</span>	<span class="number">17.8</span>	<span class="number">392.83</span>	<span class="number">4.03</span>	<span class="number">34.7</span></span><br><span class="line"><span class="number">3</span>	<span class="number">0.03237</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">6.998</span>	<span class="number">45.8</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">394.63</span>	<span class="number">2.94</span>	<span class="number">33.4</span></span><br><span class="line"><span class="number">4</span>	<span class="number">0.06905</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">7.147</span>	<span class="number">54.2</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">396.90</span>	<span class="number">5.33</span>	<span class="number">36.2</span></span><br><span class="line"><span class="number">5</span>	<span class="number">0.02985</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">6.430</span>	<span class="number">58.7</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">394.12</span>	<span class="number">5.21</span>	<span class="number">28.7</span></span><br><span class="line"><span class="number">6</span>	<span class="number">0.08829</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.012</span>	<span class="number">66.6</span>	<span class="number">5.5605</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">395.60</span>	<span class="number">12.43</span>	<span class="number">22.9</span></span><br><span class="line"><span class="number">7</span>	<span class="number">0.14455</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.172</span>	<span class="number">96.1</span>	<span class="number">5.9505</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">396.90</span>	<span class="number">19.15</span>	<span class="number">27.1</span></span><br><span class="line"><span class="number">8</span>	<span class="number">0.21124</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">5.631</span>	<span class="number">100.0</span>	<span class="number">6.0821</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">386.63</span>	<span class="number">29.93</span>	<span class="number">16.5</span></span><br><span class="line"><span class="number">9</span>	<span class="number">0.17004</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.004</span>	<span class="number">85.9</span>	<span class="number">6.5921</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">386.71</span>	<span class="number">17.10</span>	<span class="number">18.9</span></span><br><span class="line">last_5=data.tail()     <span class="comment">#tail默认查看最后五项</span></span><br><span class="line">last_5</span><br><span class="line">CRIN	ZN	INDUS	CHAS	NOX	RM	AGE	DIS	RAD	TAX	PTRATIO	B	LSTAT	MEDV</span><br><span class="line"><span class="number">501</span>	<span class="number">0.06263</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.593</span>	<span class="number">69.1</span>	<span class="number">2.4786</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">391.99</span>	<span class="number">9.67</span>	<span class="number">22.4</span></span><br><span class="line"><span class="number">502</span>	<span class="number">0.04527</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.120</span>	<span class="number">76.7</span>	<span class="number">2.2875</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">9.08</span>	<span class="number">20.6</span></span><br><span class="line"><span class="number">503</span>	<span class="number">0.06076</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.976</span>	<span class="number">91.0</span>	<span class="number">2.1675</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">5.64</span>	<span class="number">23.9</span></span><br><span class="line"><span class="number">504</span>	<span class="number">0.10959</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.794</span>	<span class="number">89.3</span>	<span class="number">2.3889</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">393.45</span>	<span class="number">6.48</span>	<span class="number">22.0</span></span><br><span class="line"><span class="number">505</span>	<span class="number">0.04741</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.030</span>	<span class="number">80.8</span>	<span class="number">2.5050</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">7.88</span>	<span class="number">11.9</span></span><br><span class="line">last_10=data.tail(<span class="number">10</span>)     <span class="comment">#tail默认查看最后10项</span></span><br><span class="line">last_10</span><br><span class="line">CRIN	ZN	INDUS	CHAS	NOX	RM	AGE	DIS	RAD	TAX	PTRATIO	B	LSTAT	MEDV</span><br><span class="line"><span class="number">496</span>	<span class="number">0.28960</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.390</span>	<span class="number">72.9</span>	<span class="number">2.7986</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">21.14</span>	<span class="number">19.7</span></span><br><span class="line"><span class="number">497</span>	<span class="number">0.26838</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.794</span>	<span class="number">70.6</span>	<span class="number">2.8927</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">14.10</span>	<span class="number">18.3</span></span><br><span class="line"><span class="number">498</span>	<span class="number">0.23912</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">6.019</span>	<span class="number">65.3</span>	<span class="number">2.4091</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">12.92</span>	<span class="number">21.2</span></span><br><span class="line"><span class="number">499</span>	<span class="number">0.17783</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.569</span>	<span class="number">73.5</span>	<span class="number">2.3999</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">395.77</span>	<span class="number">15.10</span>	<span class="number">17.5</span></span><br><span class="line"><span class="number">500</span>	<span class="number">0.22438</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">6.027</span>	<span class="number">79.7</span>	<span class="number">2.4982</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">14.33</span>	<span class="number">16.8</span></span><br><span class="line"><span class="number">501</span>	<span class="number">0.06263</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.593</span>	<span class="number">69.1</span>	<span class="number">2.4786</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">391.99</span>	<span class="number">9.67</span>	<span class="number">22.4</span></span><br><span class="line"><span class="number">502</span>	<span class="number">0.04527</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.120</span>	<span class="number">76.7</span>	<span class="number">2.2875</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">9.08</span>	<span class="number">20.6</span></span><br><span class="line"><span class="number">503</span>	<span class="number">0.06076</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.976</span>	<span class="number">91.0</span>	<span class="number">2.1675</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">5.64</span>	<span class="number">23.9</span></span><br><span class="line"><span class="number">504</span>	<span class="number">0.10959</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.794</span>	<span class="number">89.3</span>	<span class="number">2.3889</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">393.45</span>	<span class="number">6.48</span>	<span class="number">22.0</span></span><br><span class="line"><span class="number">505</span>	<span class="number">0.04741</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.030</span>	<span class="number">80.8</span>	<span class="number">2.5050</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">7.88</span>	<span class="number">11.9</span></span><br><span class="line">pandas提供给我们一个describe的方法，这个方法可以粗略的获得数据集中的统计信息</span><br><span class="line"></span><br><span class="line">data.describe()</span><br><span class="line">CRIN	ZN	INDUS	CHAS	NOX	RM	AGE	DIS	RAD	TAX	PTRATIO	B	LSTAT	MEDV</span><br><span class="line">count	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span></span><br><span class="line">mean	<span class="number">3.613524</span>	<span class="number">11.363636</span>	<span class="number">11.136779</span>	<span class="number">0.069170</span>	<span class="number">0.554695</span>	<span class="number">6.284634</span>	<span class="number">68.574901</span>	<span class="number">3.795043</span>	<span class="number">9.549407</span>	<span class="number">408.237154</span>	<span class="number">18.455534</span>	<span class="number">356.674032</span>	<span class="number">12.653063</span>	<span class="number">22.532806</span></span><br><span class="line">std	<span class="number">8.601545</span>	<span class="number">23.322453</span>	<span class="number">6.860353</span>	<span class="number">0.253994</span>	<span class="number">0.115878</span>	<span class="number">0.702617</span>	<span class="number">28.148861</span>	<span class="number">2.105710</span>	<span class="number">8.707259</span>	<span class="number">168.537116</span>	<span class="number">2.164946</span>	<span class="number">91.294864</span>	<span class="number">7.141062</span>	<span class="number">9.197104</span></span><br><span class="line"><span class="built_in">min</span>	<span class="number">0.006320</span>	<span class="number">0.000000</span>	<span class="number">0.460000</span>	<span class="number">0.000000</span>	<span class="number">0.385000</span>	<span class="number">3.561000</span>	<span class="number">2.900000</span>	<span class="number">1.129600</span>	<span class="number">1.000000</span>	<span class="number">187.000000</span>	<span class="number">12.600000</span>	<span class="number">0.320000</span>	<span class="number">1.730000</span>	<span class="number">5.000000</span></span><br><span class="line"><span class="number">25</span>%	<span class="number">0.082045</span>	<span class="number">0.000000</span>	<span class="number">5.190000</span>	<span class="number">0.000000</span>	<span class="number">0.449000</span>	<span class="number">5.885500</span>	<span class="number">45.025000</span>	<span class="number">2.100175</span>	<span class="number">4.000000</span>	<span class="number">279.000000</span>	<span class="number">17.400000</span>	<span class="number">375.377500</span>	<span class="number">6.950000</span>	<span class="number">17.025000</span></span><br><span class="line"><span class="number">50</span>%	<span class="number">0.256510</span>	<span class="number">0.000000</span>	<span class="number">9.690000</span>	<span class="number">0.000000</span>	<span class="number">0.538000</span>	<span class="number">6.208500</span>	<span class="number">77.500000</span>	<span class="number">3.207450</span>	<span class="number">5.000000</span>	<span class="number">330.000000</span>	<span class="number">19.050000</span>	<span class="number">391.440000</span>	<span class="number">11.360000</span>	<span class="number">21.200000</span></span><br><span class="line"><span class="number">75</span>%	<span class="number">3.677082</span>	<span class="number">12.500000</span>	<span class="number">18.100000</span>	<span class="number">0.000000</span>	<span class="number">0.624000</span>	<span class="number">6.623500</span>	<span class="number">94.075000</span>	<span class="number">5.188425</span>	<span class="number">24.000000</span>	<span class="number">666.000000</span>	<span class="number">20.200000</span>	<span class="number">396.225000</span>	<span class="number">16.955000</span>	<span class="number">25.000000</span></span><br><span class="line"><span class="built_in">max</span>	<span class="number">88.976200</span>	<span class="number">100.000000</span>	<span class="number">27.740000</span>	<span class="number">1.000000</span>	<span class="number">0.871000</span>	<span class="number">8.780000</span>	<span class="number">100.000000</span>	<span class="number">12.126500</span>	<span class="number">24.000000</span>	<span class="number">711.000000</span>	<span class="number">22.000000</span>	<span class="number">396.900000</span>	<span class="number">37.970000</span>	<span class="number">50.000000</span></span><br><span class="line">data.info()</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">pandas</span>.<span class="title">core</span>.<span class="title">frame</span>.<span class="title">DataFrame</span>&#x27;&gt;</span></span><br><span class="line"><span class="class"><span class="title">RangeIndex</span>:</span> <span class="number">506</span> entries, <span class="number">0</span> to <span class="number">505</span></span><br><span class="line">Data columns (total <span class="number">14</span> columns):</span><br><span class="line">CRIN       <span class="number">506</span> non-null float64</span><br><span class="line">ZN         <span class="number">506</span> non-null float64</span><br><span class="line">INDUS      <span class="number">506</span> non-null float64</span><br><span class="line">CHAS       <span class="number">506</span> non-null int64</span><br><span class="line">NOX        <span class="number">506</span> non-null float64</span><br><span class="line">RM         <span class="number">506</span> non-null float64</span><br><span class="line">AGE        <span class="number">506</span> non-null float64</span><br><span class="line">DIS        <span class="number">506</span> non-null float64</span><br><span class="line">RAD        <span class="number">506</span> non-null int64</span><br><span class="line">TAX        <span class="number">506</span> non-null float64</span><br><span class="line">PTRATIO    <span class="number">506</span> non-null float64</span><br><span class="line">B          <span class="number">506</span> non-null float64</span><br><span class="line">LSTAT      <span class="number">506</span> non-null float64</span><br><span class="line">MEDV       <span class="number">506</span> non-null float64</span><br><span class="line">dtypes: float64(<span class="number">12</span>), int64(<span class="number">2</span>)</span><br><span class="line">memory usage: <span class="number">55.4</span> KB</span><br><span class="line">​</span><br></pre></td></tr></table></figure>

<h3 id="24-pandas-view"><a href="#24-pandas-view" class="headerlink" title="24_pandas_view"></a>24_pandas_view</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">col_names = [<span class="string">&#x27;CRIN&#x27;</span>, <span class="string">&#x27;ZN&#x27;</span>, <span class="string">&#x27;INDUS&#x27;</span>, <span class="string">&#x27;CHAS&#x27;</span>, <span class="string">&#x27;NOX&#x27;</span>, <span class="string">&#x27;RM&#x27;</span>, <span class="string">&#x27;AGE&#x27;</span>, <span class="string">&#x27;DIS&#x27;</span>, <span class="string">&#x27;RAD&#x27;</span>, <span class="string">&#x27;TAX&#x27;</span>, <span class="string">&#x27;PTRATIO&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;LSTAT&#x27;</span>, <span class="string">&#x27;MEDV&#x27;</span>]</span><br><span class="line"><span class="comment">#read_csv()   arg1: 要读取的文件路径及名称  arg2:列名称   arg3:列和列的间隔  arg4:添加的列信息</span></span><br><span class="line">data = pd.read_csv(<span class="string">&#x27;data.csv&#x27;</span>, header=<span class="literal">None</span>, sep=<span class="string">r&#x27;\s+&#x27;</span>, names = col_names)</span><br><span class="line">data</span><br><span class="line"></span><br><span class="line">CRIN	ZN	INDUS	CHAS	NOX	RM	AGE	DIS	RAD	TAX	PTRATIO	B	LSTAT	MEDV</span><br><span class="line"><span class="number">0</span>	<span class="number">0.00632</span>	<span class="number">18.0</span>	<span class="number">2.31</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.575</span>	<span class="number">65.2</span>	<span class="number">4.0900</span>	<span class="number">1</span>	<span class="number">296.0</span>	<span class="number">15.3</span>	<span class="number">396.90</span>	<span class="number">4.98</span>	<span class="number">24.0</span></span><br><span class="line"><span class="number">1</span>	<span class="number">0.02731</span>	<span class="number">0.0</span>	<span class="number">7.07</span>	<span class="number">0</span>	<span class="number">0.469</span>	<span class="number">6.421</span>	<span class="number">78.9</span>	<span class="number">4.9671</span>	<span class="number">2</span>	<span class="number">242.0</span>	<span class="number">17.8</span>	<span class="number">396.90</span>	<span class="number">9.14</span>	<span class="number">21.6</span></span><br><span class="line"><span class="number">2</span>	<span class="number">0.02729</span>	<span class="number">0.0</span>	<span class="number">7.07</span>	<span class="number">0</span>	<span class="number">0.469</span>	<span class="number">7.185</span>	<span class="number">61.1</span>	<span class="number">4.9671</span>	<span class="number">2</span>	<span class="number">242.0</span>	<span class="number">17.8</span>	<span class="number">392.83</span>	<span class="number">4.03</span>	<span class="number">34.7</span></span><br><span class="line"><span class="number">3</span>	<span class="number">0.03237</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">6.998</span>	<span class="number">45.8</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">394.63</span>	<span class="number">2.94</span>	<span class="number">33.4</span></span><br><span class="line"><span class="number">4</span>	<span class="number">0.06905</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">7.147</span>	<span class="number">54.2</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">396.90</span>	<span class="number">5.33</span>	<span class="number">36.2</span></span><br><span class="line"><span class="number">5</span>	<span class="number">0.02985</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">6.430</span>	<span class="number">58.7</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">394.12</span>	<span class="number">5.21</span>	<span class="number">28.7</span></span><br><span class="line"><span class="number">6</span>	<span class="number">0.08829</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.012</span>	<span class="number">66.6</span>	<span class="number">5.5605</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">395.60</span>	<span class="number">12.43</span>	<span class="number">22.9</span></span><br><span class="line"><span class="number">7</span>	<span class="number">0.14455</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.172</span>	<span class="number">96.1</span>	<span class="number">5.9505</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">396.90</span>	<span class="number">19.15</span>	<span class="number">27.1</span></span><br><span class="line"><span class="number">8</span>	<span class="number">0.21124</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">5.631</span>	<span class="number">100.0</span>	<span class="number">6.0821</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">386.63</span>	<span class="number">29.93</span>	<span class="number">16.5</span></span><br><span class="line"><span class="number">9</span>	<span class="number">0.17004</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.004</span>	<span class="number">85.9</span>	<span class="number">6.5921</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">386.71</span>	<span class="number">17.10</span>	<span class="number">18.9</span></span><br><span class="line"><span class="number">10</span>	<span class="number">0.22489</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.377</span>	<span class="number">94.3</span>	<span class="number">6.3467</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">392.52</span>	<span class="number">20.45</span>	<span class="number">15.0</span></span><br><span class="line"><span class="number">11</span>	<span class="number">0.11747</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.009</span>	<span class="number">82.9</span>	<span class="number">6.2267</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">396.90</span>	<span class="number">13.27</span>	<span class="number">18.9</span></span><br><span class="line"><span class="number">12</span>	<span class="number">0.09378</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">5.889</span>	<span class="number">39.0</span>	<span class="number">5.4509</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">390.50</span>	<span class="number">15.71</span>	<span class="number">21.7</span></span><br><span class="line"><span class="number">13</span>	<span class="number">0.62976</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.949</span>	<span class="number">61.8</span>	<span class="number">4.7075</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">8.26</span>	<span class="number">20.4</span></span><br><span class="line"><span class="number">14</span>	<span class="number">0.63796</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.096</span>	<span class="number">84.5</span>	<span class="number">4.4619</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">380.02</span>	<span class="number">10.26</span>	<span class="number">18.2</span></span><br><span class="line"><span class="number">15</span>	<span class="number">0.62739</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.834</span>	<span class="number">56.5</span>	<span class="number">4.4986</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">395.62</span>	<span class="number">8.47</span>	<span class="number">19.9</span></span><br><span class="line"><span class="number">16</span>	<span class="number">1.05393</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.935</span>	<span class="number">29.3</span>	<span class="number">4.4986</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">386.85</span>	<span class="number">6.58</span>	<span class="number">23.1</span></span><br><span class="line"><span class="number">17</span>	<span class="number">0.78420</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.990</span>	<span class="number">81.7</span>	<span class="number">4.2579</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">386.75</span>	<span class="number">14.67</span>	<span class="number">17.5</span></span><br><span class="line"><span class="number">18</span>	<span class="number">0.80271</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.456</span>	<span class="number">36.6</span>	<span class="number">3.7965</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">288.99</span>	<span class="number">11.69</span>	<span class="number">20.2</span></span><br><span class="line"><span class="number">19</span>	<span class="number">0.72580</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.727</span>	<span class="number">69.5</span>	<span class="number">3.7965</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">390.95</span>	<span class="number">11.28</span>	<span class="number">18.2</span></span><br><span class="line"><span class="number">20</span>	<span class="number">1.25179</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.570</span>	<span class="number">98.1</span>	<span class="number">3.7979</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">376.57</span>	<span class="number">21.02</span>	<span class="number">13.6</span></span><br><span class="line"><span class="number">21</span>	<span class="number">0.85204</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.965</span>	<span class="number">89.2</span>	<span class="number">4.0123</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">392.53</span>	<span class="number">13.83</span>	<span class="number">19.6</span></span><br><span class="line"><span class="number">22</span>	<span class="number">1.23247</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.142</span>	<span class="number">91.7</span>	<span class="number">3.9769</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">18.72</span>	<span class="number">15.2</span></span><br><span class="line"><span class="number">23</span>	<span class="number">0.98843</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.813</span>	<span class="number">100.0</span>	<span class="number">4.0952</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">394.54</span>	<span class="number">19.88</span>	<span class="number">14.5</span></span><br><span class="line"><span class="number">24</span>	<span class="number">0.75026</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.924</span>	<span class="number">94.1</span>	<span class="number">4.3996</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">394.33</span>	<span class="number">16.30</span>	<span class="number">15.6</span></span><br><span class="line"><span class="number">25</span>	<span class="number">0.84054</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.599</span>	<span class="number">85.7</span>	<span class="number">4.4546</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">303.42</span>	<span class="number">16.51</span>	<span class="number">13.9</span></span><br><span class="line"><span class="number">26</span>	<span class="number">0.67191</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">5.813</span>	<span class="number">90.3</span>	<span class="number">4.6820</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">376.88</span>	<span class="number">14.81</span>	<span class="number">16.6</span></span><br><span class="line"><span class="number">27</span>	<span class="number">0.95577</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.047</span>	<span class="number">88.8</span>	<span class="number">4.4534</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">306.38</span>	<span class="number">17.28</span>	<span class="number">14.8</span></span><br><span class="line"><span class="number">28</span>	<span class="number">0.77299</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.495</span>	<span class="number">94.4</span>	<span class="number">4.4547</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">387.94</span>	<span class="number">12.80</span>	<span class="number">18.4</span></span><br><span class="line"><span class="number">29</span>	<span class="number">1.00245</span>	<span class="number">0.0</span>	<span class="number">8.14</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.674</span>	<span class="number">87.3</span>	<span class="number">4.2390</span>	<span class="number">4</span>	<span class="number">307.0</span>	<span class="number">21.0</span>	<span class="number">380.23</span>	<span class="number">11.98</span>	<span class="number">21.0</span></span><br><span class="line">...	...	...	...	...	...	...	...	...	...	...	...	...	...	...</span><br><span class="line"><span class="number">476</span>	<span class="number">4.87141</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.614</span>	<span class="number">6.484</span>	<span class="number">93.6</span>	<span class="number">2.3053</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">396.21</span>	<span class="number">18.68</span>	<span class="number">16.7</span></span><br><span class="line"><span class="number">477</span>	<span class="number">15.02340</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.614</span>	<span class="number">5.304</span>	<span class="number">97.3</span>	<span class="number">2.1007</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">349.48</span>	<span class="number">24.91</span>	<span class="number">12.0</span></span><br><span class="line"><span class="number">478</span>	<span class="number">10.23300</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.614</span>	<span class="number">6.185</span>	<span class="number">96.7</span>	<span class="number">2.1705</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">379.70</span>	<span class="number">18.03</span>	<span class="number">14.6</span></span><br><span class="line"><span class="number">479</span>	<span class="number">14.33370</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.614</span>	<span class="number">6.229</span>	<span class="number">88.0</span>	<span class="number">1.9512</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">383.32</span>	<span class="number">13.11</span>	<span class="number">21.4</span></span><br><span class="line"><span class="number">480</span>	<span class="number">5.82401</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.532</span>	<span class="number">6.242</span>	<span class="number">64.7</span>	<span class="number">3.4242</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">396.90</span>	<span class="number">10.74</span>	<span class="number">23.0</span></span><br><span class="line"><span class="number">481</span>	<span class="number">5.70818</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.532</span>	<span class="number">6.750</span>	<span class="number">74.9</span>	<span class="number">3.3317</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">393.07</span>	<span class="number">7.74</span>	<span class="number">23.7</span></span><br><span class="line"><span class="number">482</span>	<span class="number">5.73116</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.532</span>	<span class="number">7.061</span>	<span class="number">77.0</span>	<span class="number">3.4106</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">395.28</span>	<span class="number">7.01</span>	<span class="number">25.0</span></span><br><span class="line"><span class="number">483</span>	<span class="number">2.81838</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.532</span>	<span class="number">5.762</span>	<span class="number">40.3</span>	<span class="number">4.0983</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">392.92</span>	<span class="number">10.42</span>	<span class="number">21.8</span></span><br><span class="line"><span class="number">484</span>	<span class="number">2.37857</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.583</span>	<span class="number">5.871</span>	<span class="number">41.9</span>	<span class="number">3.7240</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">370.73</span>	<span class="number">13.34</span>	<span class="number">20.6</span></span><br><span class="line"><span class="number">485</span>	<span class="number">3.67367</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.583</span>	<span class="number">6.312</span>	<span class="number">51.9</span>	<span class="number">3.9917</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">388.62</span>	<span class="number">10.58</span>	<span class="number">21.2</span></span><br><span class="line"><span class="number">486</span>	<span class="number">5.69175</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.583</span>	<span class="number">6.114</span>	<span class="number">79.8</span>	<span class="number">3.5459</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">392.68</span>	<span class="number">14.98</span>	<span class="number">19.1</span></span><br><span class="line"><span class="number">487</span>	<span class="number">4.83567</span>	<span class="number">0.0</span>	<span class="number">18.10</span>	<span class="number">0</span>	<span class="number">0.583</span>	<span class="number">5.905</span>	<span class="number">53.2</span>	<span class="number">3.1523</span>	<span class="number">24</span>	<span class="number">666.0</span>	<span class="number">20.2</span>	<span class="number">388.22</span>	<span class="number">11.45</span>	<span class="number">20.6</span></span><br><span class="line"><span class="number">488</span>	<span class="number">0.15086</span>	<span class="number">0.0</span>	<span class="number">27.74</span>	<span class="number">0</span>	<span class="number">0.609</span>	<span class="number">5.454</span>	<span class="number">92.7</span>	<span class="number">1.8209</span>	<span class="number">4</span>	<span class="number">711.0</span>	<span class="number">20.1</span>	<span class="number">395.09</span>	<span class="number">18.06</span>	<span class="number">15.2</span></span><br><span class="line"><span class="number">489</span>	<span class="number">0.18337</span>	<span class="number">0.0</span>	<span class="number">27.74</span>	<span class="number">0</span>	<span class="number">0.609</span>	<span class="number">5.414</span>	<span class="number">98.3</span>	<span class="number">1.7554</span>	<span class="number">4</span>	<span class="number">711.0</span>	<span class="number">20.1</span>	<span class="number">344.05</span>	<span class="number">23.97</span>	<span class="number">7.0</span></span><br><span class="line"><span class="number">490</span>	<span class="number">0.20746</span>	<span class="number">0.0</span>	<span class="number">27.74</span>	<span class="number">0</span>	<span class="number">0.609</span>	<span class="number">5.093</span>	<span class="number">98.0</span>	<span class="number">1.8226</span>	<span class="number">4</span>	<span class="number">711.0</span>	<span class="number">20.1</span>	<span class="number">318.43</span>	<span class="number">29.68</span>	<span class="number">8.1</span></span><br><span class="line"><span class="number">491</span>	<span class="number">0.10574</span>	<span class="number">0.0</span>	<span class="number">27.74</span>	<span class="number">0</span>	<span class="number">0.609</span>	<span class="number">5.983</span>	<span class="number">98.8</span>	<span class="number">1.8681</span>	<span class="number">4</span>	<span class="number">711.0</span>	<span class="number">20.1</span>	<span class="number">390.11</span>	<span class="number">18.07</span>	<span class="number">13.6</span></span><br><span class="line"><span class="number">492</span>	<span class="number">0.11132</span>	<span class="number">0.0</span>	<span class="number">27.74</span>	<span class="number">0</span>	<span class="number">0.609</span>	<span class="number">5.983</span>	<span class="number">83.5</span>	<span class="number">2.1099</span>	<span class="number">4</span>	<span class="number">711.0</span>	<span class="number">20.1</span>	<span class="number">396.90</span>	<span class="number">13.35</span>	<span class="number">20.1</span></span><br><span class="line"><span class="number">493</span>	<span class="number">0.17331</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.707</span>	<span class="number">54.0</span>	<span class="number">2.3817</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">12.01</span>	<span class="number">21.8</span></span><br><span class="line"><span class="number">494</span>	<span class="number">0.27957</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.926</span>	<span class="number">42.6</span>	<span class="number">2.3817</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">13.59</span>	<span class="number">24.5</span></span><br><span class="line"><span class="number">495</span>	<span class="number">0.17899</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.670</span>	<span class="number">28.8</span>	<span class="number">2.7986</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">393.29</span>	<span class="number">17.60</span>	<span class="number">23.1</span></span><br><span class="line"><span class="number">496</span>	<span class="number">0.28960</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.390</span>	<span class="number">72.9</span>	<span class="number">2.7986</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">21.14</span>	<span class="number">19.7</span></span><br><span class="line"><span class="number">497</span>	<span class="number">0.26838</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.794</span>	<span class="number">70.6</span>	<span class="number">2.8927</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">14.10</span>	<span class="number">18.3</span></span><br><span class="line"><span class="number">498</span>	<span class="number">0.23912</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">6.019</span>	<span class="number">65.3</span>	<span class="number">2.4091</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">12.92</span>	<span class="number">21.2</span></span><br><span class="line"><span class="number">499</span>	<span class="number">0.17783</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.569</span>	<span class="number">73.5</span>	<span class="number">2.3999</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">395.77</span>	<span class="number">15.10</span>	<span class="number">17.5</span></span><br><span class="line"><span class="number">500</span>	<span class="number">0.22438</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">6.027</span>	<span class="number">79.7</span>	<span class="number">2.4982</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">14.33</span>	<span class="number">16.8</span></span><br><span class="line"><span class="number">501</span>	<span class="number">0.06263</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.593</span>	<span class="number">69.1</span>	<span class="number">2.4786</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">391.99</span>	<span class="number">9.67</span>	<span class="number">22.4</span></span><br><span class="line"><span class="number">502</span>	<span class="number">0.04527</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.120</span>	<span class="number">76.7</span>	<span class="number">2.2875</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">9.08</span>	<span class="number">20.6</span></span><br><span class="line"><span class="number">503</span>	<span class="number">0.06076</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.976</span>	<span class="number">91.0</span>	<span class="number">2.1675</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">5.64</span>	<span class="number">23.9</span></span><br><span class="line"><span class="number">504</span>	<span class="number">0.10959</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.794</span>	<span class="number">89.3</span>	<span class="number">2.3889</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">393.45</span>	<span class="number">6.48</span>	<span class="number">22.0</span></span><br><span class="line"><span class="number">505</span>	<span class="number">0.04741</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.030</span>	<span class="number">80.8</span>	<span class="number">2.5050</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">7.88</span>	<span class="number">11.9</span></span><br><span class="line"><span class="number">506</span> rows × <span class="number">14</span> columns</span><br><span class="line"></span><br><span class="line">first_5=data.head()  <span class="comment">#head默认查看前五项数据</span></span><br><span class="line">first_5</span><br><span class="line">CRIN	ZN	INDUS	CHAS	NOX	RM	AGE	DIS	RAD	TAX	PTRATIO	B	LSTAT	MEDV</span><br><span class="line"><span class="number">0</span>	<span class="number">0.00632</span>	<span class="number">18.0</span>	<span class="number">2.31</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.575</span>	<span class="number">65.2</span>	<span class="number">4.0900</span>	<span class="number">1</span>	<span class="number">296.0</span>	<span class="number">15.3</span>	<span class="number">396.90</span>	<span class="number">4.98</span>	<span class="number">24.0</span></span><br><span class="line"><span class="number">1</span>	<span class="number">0.02731</span>	<span class="number">0.0</span>	<span class="number">7.07</span>	<span class="number">0</span>	<span class="number">0.469</span>	<span class="number">6.421</span>	<span class="number">78.9</span>	<span class="number">4.9671</span>	<span class="number">2</span>	<span class="number">242.0</span>	<span class="number">17.8</span>	<span class="number">396.90</span>	<span class="number">9.14</span>	<span class="number">21.6</span></span><br><span class="line"><span class="number">2</span>	<span class="number">0.02729</span>	<span class="number">0.0</span>	<span class="number">7.07</span>	<span class="number">0</span>	<span class="number">0.469</span>	<span class="number">7.185</span>	<span class="number">61.1</span>	<span class="number">4.9671</span>	<span class="number">2</span>	<span class="number">242.0</span>	<span class="number">17.8</span>	<span class="number">392.83</span>	<span class="number">4.03</span>	<span class="number">34.7</span></span><br><span class="line"><span class="number">3</span>	<span class="number">0.03237</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">6.998</span>	<span class="number">45.8</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">394.63</span>	<span class="number">2.94</span>	<span class="number">33.4</span></span><br><span class="line"><span class="number">4</span>	<span class="number">0.06905</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">7.147</span>	<span class="number">54.2</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">396.90</span>	<span class="number">5.33</span>	<span class="number">36.2</span></span><br><span class="line">first_10=data.head(<span class="number">10</span>)  <span class="comment">#head默认查看前10项数据</span></span><br><span class="line">first_10</span><br><span class="line">CRIN	ZN	INDUS	CHAS	NOX	RM	AGE	DIS	RAD	TAX	PTRATIO	B	LSTAT	MEDV</span><br><span class="line"><span class="number">0</span>	<span class="number">0.00632</span>	<span class="number">18.0</span>	<span class="number">2.31</span>	<span class="number">0</span>	<span class="number">0.538</span>	<span class="number">6.575</span>	<span class="number">65.2</span>	<span class="number">4.0900</span>	<span class="number">1</span>	<span class="number">296.0</span>	<span class="number">15.3</span>	<span class="number">396.90</span>	<span class="number">4.98</span>	<span class="number">24.0</span></span><br><span class="line"><span class="number">1</span>	<span class="number">0.02731</span>	<span class="number">0.0</span>	<span class="number">7.07</span>	<span class="number">0</span>	<span class="number">0.469</span>	<span class="number">6.421</span>	<span class="number">78.9</span>	<span class="number">4.9671</span>	<span class="number">2</span>	<span class="number">242.0</span>	<span class="number">17.8</span>	<span class="number">396.90</span>	<span class="number">9.14</span>	<span class="number">21.6</span></span><br><span class="line"><span class="number">2</span>	<span class="number">0.02729</span>	<span class="number">0.0</span>	<span class="number">7.07</span>	<span class="number">0</span>	<span class="number">0.469</span>	<span class="number">7.185</span>	<span class="number">61.1</span>	<span class="number">4.9671</span>	<span class="number">2</span>	<span class="number">242.0</span>	<span class="number">17.8</span>	<span class="number">392.83</span>	<span class="number">4.03</span>	<span class="number">34.7</span></span><br><span class="line"><span class="number">3</span>	<span class="number">0.03237</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">6.998</span>	<span class="number">45.8</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">394.63</span>	<span class="number">2.94</span>	<span class="number">33.4</span></span><br><span class="line"><span class="number">4</span>	<span class="number">0.06905</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">7.147</span>	<span class="number">54.2</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">396.90</span>	<span class="number">5.33</span>	<span class="number">36.2</span></span><br><span class="line"><span class="number">5</span>	<span class="number">0.02985</span>	<span class="number">0.0</span>	<span class="number">2.18</span>	<span class="number">0</span>	<span class="number">0.458</span>	<span class="number">6.430</span>	<span class="number">58.7</span>	<span class="number">6.0622</span>	<span class="number">3</span>	<span class="number">222.0</span>	<span class="number">18.7</span>	<span class="number">394.12</span>	<span class="number">5.21</span>	<span class="number">28.7</span></span><br><span class="line"><span class="number">6</span>	<span class="number">0.08829</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.012</span>	<span class="number">66.6</span>	<span class="number">5.5605</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">395.60</span>	<span class="number">12.43</span>	<span class="number">22.9</span></span><br><span class="line"><span class="number">7</span>	<span class="number">0.14455</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.172</span>	<span class="number">96.1</span>	<span class="number">5.9505</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">396.90</span>	<span class="number">19.15</span>	<span class="number">27.1</span></span><br><span class="line"><span class="number">8</span>	<span class="number">0.21124</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">5.631</span>	<span class="number">100.0</span>	<span class="number">6.0821</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">386.63</span>	<span class="number">29.93</span>	<span class="number">16.5</span></span><br><span class="line"><span class="number">9</span>	<span class="number">0.17004</span>	<span class="number">12.5</span>	<span class="number">7.87</span>	<span class="number">0</span>	<span class="number">0.524</span>	<span class="number">6.004</span>	<span class="number">85.9</span>	<span class="number">6.5921</span>	<span class="number">5</span>	<span class="number">311.0</span>	<span class="number">15.2</span>	<span class="number">386.71</span>	<span class="number">17.10</span>	<span class="number">18.9</span></span><br><span class="line">last_5=data.tail()     <span class="comment">#tail默认查看最后五项</span></span><br><span class="line">last_5</span><br><span class="line">CRIN	ZN	INDUS	CHAS	NOX	RM	AGE	DIS	RAD	TAX	PTRATIO	B	LSTAT	MEDV</span><br><span class="line"><span class="number">501</span>	<span class="number">0.06263</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.593</span>	<span class="number">69.1</span>	<span class="number">2.4786</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">391.99</span>	<span class="number">9.67</span>	<span class="number">22.4</span></span><br><span class="line"><span class="number">502</span>	<span class="number">0.04527</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.120</span>	<span class="number">76.7</span>	<span class="number">2.2875</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">9.08</span>	<span class="number">20.6</span></span><br><span class="line"><span class="number">503</span>	<span class="number">0.06076</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.976</span>	<span class="number">91.0</span>	<span class="number">2.1675</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">5.64</span>	<span class="number">23.9</span></span><br><span class="line"><span class="number">504</span>	<span class="number">0.10959</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.794</span>	<span class="number">89.3</span>	<span class="number">2.3889</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">393.45</span>	<span class="number">6.48</span>	<span class="number">22.0</span></span><br><span class="line"><span class="number">505</span>	<span class="number">0.04741</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.030</span>	<span class="number">80.8</span>	<span class="number">2.5050</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">7.88</span>	<span class="number">11.9</span></span><br><span class="line">last_10=data.tail(<span class="number">10</span>)     <span class="comment">#tail默认查看最后10项</span></span><br><span class="line">last_10</span><br><span class="line">CRIN	ZN	INDUS	CHAS	NOX	RM	AGE	DIS	RAD	TAX	PTRATIO	B	LSTAT	MEDV</span><br><span class="line"><span class="number">496</span>	<span class="number">0.28960</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.390</span>	<span class="number">72.9</span>	<span class="number">2.7986</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">21.14</span>	<span class="number">19.7</span></span><br><span class="line"><span class="number">497</span>	<span class="number">0.26838</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.794</span>	<span class="number">70.6</span>	<span class="number">2.8927</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">14.10</span>	<span class="number">18.3</span></span><br><span class="line"><span class="number">498</span>	<span class="number">0.23912</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">6.019</span>	<span class="number">65.3</span>	<span class="number">2.4091</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">12.92</span>	<span class="number">21.2</span></span><br><span class="line"><span class="number">499</span>	<span class="number">0.17783</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">5.569</span>	<span class="number">73.5</span>	<span class="number">2.3999</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">395.77</span>	<span class="number">15.10</span>	<span class="number">17.5</span></span><br><span class="line"><span class="number">500</span>	<span class="number">0.22438</span>	<span class="number">0.0</span>	<span class="number">9.69</span>	<span class="number">0</span>	<span class="number">0.585</span>	<span class="number">6.027</span>	<span class="number">79.7</span>	<span class="number">2.4982</span>	<span class="number">6</span>	<span class="number">391.0</span>	<span class="number">19.2</span>	<span class="number">396.90</span>	<span class="number">14.33</span>	<span class="number">16.8</span></span><br><span class="line"><span class="number">501</span>	<span class="number">0.06263</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.593</span>	<span class="number">69.1</span>	<span class="number">2.4786</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">391.99</span>	<span class="number">9.67</span>	<span class="number">22.4</span></span><br><span class="line"><span class="number">502</span>	<span class="number">0.04527</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.120</span>	<span class="number">76.7</span>	<span class="number">2.2875</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">9.08</span>	<span class="number">20.6</span></span><br><span class="line"><span class="number">503</span>	<span class="number">0.06076</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.976</span>	<span class="number">91.0</span>	<span class="number">2.1675</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">5.64</span>	<span class="number">23.9</span></span><br><span class="line"><span class="number">504</span>	<span class="number">0.10959</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.794</span>	<span class="number">89.3</span>	<span class="number">2.3889</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">393.45</span>	<span class="number">6.48</span>	<span class="number">22.0</span></span><br><span class="line"><span class="number">505</span>	<span class="number">0.04741</span>	<span class="number">0.0</span>	<span class="number">11.93</span>	<span class="number">0</span>	<span class="number">0.573</span>	<span class="number">6.030</span>	<span class="number">80.8</span>	<span class="number">2.5050</span>	<span class="number">1</span>	<span class="number">273.0</span>	<span class="number">21.0</span>	<span class="number">396.90</span>	<span class="number">7.88</span>	<span class="number">11.9</span></span><br><span class="line">pandas提供给我们一个describe的方法，这个方法可以粗略的获得数据集中的统计信息</span><br><span class="line"></span><br><span class="line">data.describe()</span><br><span class="line">CRIN	ZN	INDUS	CHAS	NOX	RM	AGE	DIS	RAD	TAX	PTRATIO	B	LSTAT	MEDV</span><br><span class="line">count	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span>	<span class="number">506.000000</span></span><br><span class="line">mean	<span class="number">3.613524</span>	<span class="number">11.363636</span>	<span class="number">11.136779</span>	<span class="number">0.069170</span>	<span class="number">0.554695</span>	<span class="number">6.284634</span>	<span class="number">68.574901</span>	<span class="number">3.795043</span>	<span class="number">9.549407</span>	<span class="number">408.237154</span>	<span class="number">18.455534</span>	<span class="number">356.674032</span>	<span class="number">12.653063</span>	<span class="number">22.532806</span></span><br><span class="line">std	<span class="number">8.601545</span>	<span class="number">23.322453</span>	<span class="number">6.860353</span>	<span class="number">0.253994</span>	<span class="number">0.115878</span>	<span class="number">0.702617</span>	<span class="number">28.148861</span>	<span class="number">2.105710</span>	<span class="number">8.707259</span>	<span class="number">168.537116</span>	<span class="number">2.164946</span>	<span class="number">91.294864</span>	<span class="number">7.141062</span>	<span class="number">9.197104</span></span><br><span class="line"><span class="built_in">min</span>	<span class="number">0.006320</span>	<span class="number">0.000000</span>	<span class="number">0.460000</span>	<span class="number">0.000000</span>	<span class="number">0.385000</span>	<span class="number">3.561000</span>	<span class="number">2.900000</span>	<span class="number">1.129600</span>	<span class="number">1.000000</span>	<span class="number">187.000000</span>	<span class="number">12.600000</span>	<span class="number">0.320000</span>	<span class="number">1.730000</span>	<span class="number">5.000000</span></span><br><span class="line"><span class="number">25</span>%	<span class="number">0.082045</span>	<span class="number">0.000000</span>	<span class="number">5.190000</span>	<span class="number">0.000000</span>	<span class="number">0.449000</span>	<span class="number">5.885500</span>	<span class="number">45.025000</span>	<span class="number">2.100175</span>	<span class="number">4.000000</span>	<span class="number">279.000000</span>	<span class="number">17.400000</span>	<span class="number">375.377500</span>	<span class="number">6.950000</span>	<span class="number">17.025000</span></span><br><span class="line"><span class="number">50</span>%	<span class="number">0.256510</span>	<span class="number">0.000000</span>	<span class="number">9.690000</span>	<span class="number">0.000000</span>	<span class="number">0.538000</span>	<span class="number">6.208500</span>	<span class="number">77.500000</span>	<span class="number">3.207450</span>	<span class="number">5.000000</span>	<span class="number">330.000000</span>	<span class="number">19.050000</span>	<span class="number">391.440000</span>	<span class="number">11.360000</span>	<span class="number">21.200000</span></span><br><span class="line"><span class="number">75</span>%	<span class="number">3.677082</span>	<span class="number">12.500000</span>	<span class="number">18.100000</span>	<span class="number">0.000000</span>	<span class="number">0.624000</span>	<span class="number">6.623500</span>	<span class="number">94.075000</span>	<span class="number">5.188425</span>	<span class="number">24.000000</span>	<span class="number">666.000000</span>	<span class="number">20.200000</span>	<span class="number">396.225000</span>	<span class="number">16.955000</span>	<span class="number">25.000000</span></span><br><span class="line"><span class="built_in">max</span>	<span class="number">88.976200</span>	<span class="number">100.000000</span>	<span class="number">27.740000</span>	<span class="number">1.000000</span>	<span class="number">0.871000</span>	<span class="number">8.780000</span>	<span class="number">100.000000</span>	<span class="number">12.126500</span>	<span class="number">24.000000</span>	<span class="number">711.000000</span>	<span class="number">22.000000</span>	<span class="number">396.900000</span>	<span class="number">37.970000</span>	<span class="number">50.000000</span></span><br><span class="line">data.info()</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">pandas</span>.<span class="title">core</span>.<span class="title">frame</span>.<span class="title">DataFrame</span>&#x27;&gt;</span></span><br><span class="line"><span class="class"><span class="title">RangeIndex</span>:</span> <span class="number">506</span> entries, <span class="number">0</span> to <span class="number">505</span></span><br><span class="line">Data columns (total <span class="number">14</span> columns):</span><br><span class="line">CRIN       <span class="number">506</span> non-null float64</span><br><span class="line">ZN         <span class="number">506</span> non-null float64</span><br><span class="line">INDUS      <span class="number">506</span> non-null float64</span><br><span class="line">CHAS       <span class="number">506</span> non-null int64</span><br><span class="line">NOX        <span class="number">506</span> non-null float64</span><br><span class="line">RM         <span class="number">506</span> non-null float64</span><br><span class="line">AGE        <span class="number">506</span> non-null float64</span><br><span class="line">DIS        <span class="number">506</span> non-null float64</span><br><span class="line">RAD        <span class="number">506</span> non-null int64</span><br><span class="line">TAX        <span class="number">506</span> non-null float64</span><br><span class="line">PTRATIO    <span class="number">506</span> non-null float64</span><br><span class="line">B          <span class="number">506</span> non-null float64</span><br><span class="line">LSTAT      <span class="number">506</span> non-null float64</span><br><span class="line">MEDV       <span class="number">506</span> non-null float64</span><br><span class="line">dtypes: float64(<span class="number">12</span>), int64(<span class="number">2</span>)</span><br><span class="line">memory usage: <span class="number">55.4</span> KB</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">data.INDUS.plot(kind=<span class="string">&#x27;line&#x27;</span>, color=<span class="string">&#x27;r&#x27;</span>, label=<span class="string">&#x27;INDUS&#x27;</span>, linewidth=<span class="number">1</span>, grid=<span class="literal">True</span>, linestyle=<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">data.AGE.plot(kind=<span class="string">&#x27;line&#x27;</span>, color=<span class="string">&#x27;g&#x27;</span>, label=<span class="string">&#x27;AGE&#x27;</span>, linewidth=<span class="number">1</span>, grid=<span class="literal">True</span>, linestyle=<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">​</span><br><span class="line">plt.legend()</span><br><span class="line">plt.title(<span class="string">&#x27;Line plot of INDUS &amp; AGE&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;x:Range Index&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;y:INDUS &amp; AGE&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">绘制直方图</span><br><span class="line"></span><br><span class="line">data.RM.plot(kind=<span class="string">&#x27;hist&#x27;</span>, bins = <span class="number">100</span>)   <span class="comment">#hist表示直方图，  histogram    arg2:bins</span></span><br><span class="line">plt.legend()</span><br><span class="line">plt.title(<span class="string">&#x27;Histogram of RM&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;x:RM&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;y:counts&#x27;</span>)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">累计直方图</span><br><span class="line"></span><br><span class="line">​</span><br><span class="line">data.RM.plot(kind=<span class="string">&#x27;hist&#x27;</span>, bins = <span class="number">100</span>, cumulative=<span class="literal">True</span>)   <span class="comment">#hist表示直方图，  histogram    arg2:bins</span></span><br><span class="line">plt.legend()</span><br><span class="line">plt.title(<span class="string">&#x27;Cumulative histogram of RM&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;x:RM&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;y: Cumulative counts&#x27;</span>)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">散点图</span><br><span class="line"></span><br><span class="line">data.plot(kind=<span class="string">&#x27;scatter&#x27;</span>, x=<span class="string">&#x27;TAX&#x27;</span>, y=<span class="string">&#x27;PTRATIO&#x27;</span>, color=<span class="string">&#x27;r&#x27;</span>)   </span><br><span class="line">plt.legend()</span><br><span class="line">plt.title(<span class="string">&#x27;Scatter of TAX and PTRATIO&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;x:TAX&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;y:PTRATIO&#x27;</span>)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line">D:\Anaconda3\envs\tensorFlow\lib\site-packages\matplotlib\axes\_axes.py:<span class="number">545</span>: UserWarning: No labelled objects found. Use label=<span class="string">&#x27;...&#x27;</span> kwarg on individual plots.</span><br><span class="line">  warnings.warn(<span class="string">&quot;No labelled objects found. &quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="25-MNIST"><a href="#25-MNIST" class="headerlink" title="25_MNIST"></a><strong>25_MNIST</strong></h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">下载（加载）MNIST数据集并查看MNIST数据集的内容</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> keras.utils <span class="keyword">import</span> np_utils</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">Using TensorFlow backend.</span><br><span class="line"><span class="keyword">from</span> keras.datasets <span class="keyword">import</span> mnist</span><br><span class="line"><span class="comment">#下载MNIST数据集, 返回训练部分和测试部分，又分为特征和标签，对于当前应用特征就是图片</span></span><br><span class="line">(train_image, train_label), (test_image, test_label) = mnist.load_data()</span><br><span class="line">Downloading data <span class="keyword">from</span> https://s3.amazonaws.com/img-datasets/mnist.npz</span><br><span class="line"><span class="number">11493376</span>/<span class="number">11490434</span> [==============================] - 132s 11us/step</span><br><span class="line"><span class="comment">#查看一下训练数据和测试数据的大小， 训练数据：60000项      ，测试数据：10000项</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train_data = &#x27;</span>, <span class="built_in">len</span>(train_image))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;test_data = &#x27;</span>, <span class="built_in">len</span>(test_image))</span><br><span class="line">train_data =  <span class="number">60000</span></span><br><span class="line">test_data =  <span class="number">10000</span></span><br><span class="line">train_image[<span class="number">0</span>]</span><br><span class="line">array([[  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">3</span>,</span><br><span class="line">         <span class="number">18</span>,  <span class="number">18</span>,  <span class="number">18</span>, <span class="number">126</span>, <span class="number">136</span>, <span class="number">175</span>,  <span class="number">26</span>, <span class="number">166</span>, <span class="number">255</span>, <span class="number">247</span>, <span class="number">127</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">30</span>,  <span class="number">36</span>,  <span class="number">94</span>, <span class="number">154</span>, <span class="number">170</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">225</span>, <span class="number">172</span>, <span class="number">253</span>, <span class="number">242</span>, <span class="number">195</span>,  <span class="number">64</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">49</span>, <span class="number">238</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">251</span>,  <span class="number">93</span>,  <span class="number">82</span>,  <span class="number">82</span>,  <span class="number">56</span>,  <span class="number">39</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">18</span>, <span class="number">219</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">198</span>, <span class="number">182</span>, <span class="number">247</span>, <span class="number">241</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">80</span>, <span class="number">156</span>, <span class="number">107</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">205</span>,  <span class="number">11</span>,   <span class="number">0</span>,  <span class="number">43</span>, <span class="number">154</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">14</span>,   <span class="number">1</span>, <span class="number">154</span>, <span class="number">253</span>,</span><br><span class="line">         <span class="number">90</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>, <span class="number">139</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">190</span>,   <span class="number">2</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">11</span>, <span class="number">190</span>,</span><br><span class="line">        <span class="number">253</span>,  <span class="number">70</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">35</span>,</span><br><span class="line">        <span class="number">241</span>, <span class="number">225</span>, <span class="number">160</span>, <span class="number">108</span>,   <span class="number">1</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">         <span class="number">81</span>, <span class="number">240</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">119</span>,  <span class="number">25</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,  <span class="number">45</span>, <span class="number">186</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">150</span>,  <span class="number">27</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">16</span>,  <span class="number">93</span>, <span class="number">252</span>, <span class="number">253</span>, <span class="number">187</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>, <span class="number">249</span>, <span class="number">253</span>, <span class="number">249</span>,  <span class="number">64</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,  <span class="number">46</span>, <span class="number">130</span>, <span class="number">183</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">207</span>,   <span class="number">2</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">39</span>,</span><br><span class="line">        <span class="number">148</span>, <span class="number">229</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">250</span>, <span class="number">182</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">24</span>, <span class="number">114</span>, <span class="number">221</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">201</span>,  <span class="number">78</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">23</span>,  <span class="number">66</span>, <span class="number">213</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">253</span>, <span class="number">198</span>,  <span class="number">81</span>,   <span class="number">2</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">18</span>, <span class="number">171</span>, <span class="number">219</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">195</span>,  <span class="number">80</span>,   <span class="number">9</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">55</span>, <span class="number">172</span>, <span class="number">226</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">244</span>, <span class="number">133</span>,</span><br><span class="line">         <span class="number">11</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>, <span class="number">136</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">212</span>, <span class="number">135</span>, <span class="number">132</span>,  <span class="number">16</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>]], dtype=uint8)</span><br><span class="line"><span class="comment">#查看图片的样式,图片是28*28分辨率的，标签是60000项数据</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train_image = &#x27;</span>, train_image.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train_label = &#x27;</span>, train_label.shape)</span><br><span class="line">train_image =  (<span class="number">60000</span>, <span class="number">28</span>, <span class="number">28</span>)</span><br><span class="line">train_label =  (<span class="number">60000</span>,)</span><br><span class="line"><span class="comment">#编写一个函数查看数据集中的图片</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_mist_image</span>(<span class="params">image</span>):</span></span><br><span class="line">    plt.imshow(image, cmap=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line">show_mist_image(train_image[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看train_image[0]这张图片所对应的标签</span></span><br><span class="line">train_label[<span class="number">0</span>]</span><br><span class="line"><span class="number">5</span></span><br><span class="line">数据预处理</span><br><span class="line"></span><br><span class="line">train_image_matric = train_image.reshape(<span class="number">60000</span>, <span class="number">784</span>).astype(<span class="built_in">float</span>)</span><br><span class="line">test_image_matric = test_image.reshape(<span class="number">10000</span>, <span class="number">784</span>).astype(<span class="built_in">float</span>)</span><br><span class="line"><span class="comment">#查看修改后的图片</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train_image_matric = &#x27;</span>, train_image_matric.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;test_image_matric = &#x27;</span>, test_image_matric.shape)</span><br><span class="line">train_image_matric =  (<span class="number">60000</span>, <span class="number">784</span>)</span><br><span class="line">test_image_matric =  (<span class="number">10000</span>, <span class="number">784</span>)</span><br><span class="line">train_image_matric[<span class="number">0</span>]</span><br><span class="line">array([  <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">3.</span>,  <span class="number">18.</span>,</span><br><span class="line">        <span class="number">18.</span>,  <span class="number">18.</span>, <span class="number">126.</span>, <span class="number">136.</span>, <span class="number">175.</span>,  <span class="number">26.</span>, <span class="number">166.</span>, <span class="number">255.</span>, <span class="number">247.</span>, <span class="number">127.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">        <span class="number">30.</span>,  <span class="number">36.</span>,  <span class="number">94.</span>, <span class="number">154.</span>, <span class="number">170.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">225.</span>,</span><br><span class="line">       <span class="number">172.</span>, <span class="number">253.</span>, <span class="number">242.</span>, <span class="number">195.</span>,  <span class="number">64.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">49.</span>, <span class="number">238.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">251.</span>,  <span class="number">93.</span>,  <span class="number">82.</span>,  <span class="number">82.</span>,  <span class="number">56.</span>,  <span class="number">39.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">        <span class="number">18.</span>, <span class="number">219.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">198.</span>, <span class="number">182.</span>, <span class="number">247.</span>, <span class="number">241.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">80.</span>, <span class="number">156.</span>, <span class="number">107.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">253.</span>, <span class="number">205.</span>,  <span class="number">11.</span>,   <span class="number">0.</span>,  <span class="number">43.</span>, <span class="number">154.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">14.</span>,   <span class="number">1.</span>, <span class="number">154.</span>, <span class="number">253.</span>,  <span class="number">90.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">       <span class="number">139.</span>, <span class="number">253.</span>, <span class="number">190.</span>,   <span class="number">2.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">11.</span>, <span class="number">190.</span>, <span class="number">253.</span>,  <span class="number">70.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">35.</span>, <span class="number">241.</span>, <span class="number">225.</span>, <span class="number">160.</span>, <span class="number">108.</span>,   <span class="number">1.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">81.</span>, <span class="number">240.</span>,</span><br><span class="line">       <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">119.</span>,  <span class="number">25.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">45.</span>, <span class="number">186.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">150.</span>,  <span class="number">27.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,  <span class="number">16.</span>,  <span class="number">93.</span>, <span class="number">252.</span>, <span class="number">253.</span>, <span class="number">187.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>, <span class="number">249.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">249.</span>,  <span class="number">64.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,  <span class="number">46.</span>, <span class="number">130.</span>, <span class="number">183.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">207.</span>,   <span class="number">2.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">39.</span>, <span class="number">148.</span>, <span class="number">229.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">250.</span>, <span class="number">182.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">24.</span>, <span class="number">114.</span>,</span><br><span class="line">       <span class="number">221.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">201.</span>,  <span class="number">78.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">23.</span>,  <span class="number">66.</span>, <span class="number">213.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">198.</span>,  <span class="number">81.</span>,</span><br><span class="line">         <span class="number">2.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">18.</span>, <span class="number">171.</span>, <span class="number">219.</span>, <span class="number">253.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">195.</span>,  <span class="number">80.</span>,   <span class="number">9.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">55.</span>,</span><br><span class="line">       <span class="number">172.</span>, <span class="number">226.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">244.</span>, <span class="number">133.</span>,  <span class="number">11.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>, <span class="number">136.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">212.</span>, <span class="number">135.</span>,</span><br><span class="line">       <span class="number">132.</span>,  <span class="number">16.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>])</span><br><span class="line"><span class="comment">#还需要进行数据集的标准化，归一化处理，去除量纲的影响，让所有的数据都落到0-1之间</span></span><br><span class="line">train_image_normalize = train_image_matric/<span class="number">255</span></span><br><span class="line">test_image_normalize = test_image_matric/<span class="number">255</span></span><br><span class="line">train_image_normalize[<span class="number">0</span>]</span><br><span class="line">array([<span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.01176471</span>, <span class="number">0.07058824</span>, <span class="number">0.07058824</span>,</span><br><span class="line">       <span class="number">0.07058824</span>, <span class="number">0.49411765</span>, <span class="number">0.53333333</span>, <span class="number">0.68627451</span>, <span class="number">0.10196078</span>,</span><br><span class="line">       <span class="number">0.65098039</span>, <span class="number">1.</span>        , <span class="number">0.96862745</span>, <span class="number">0.49803922</span>, <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.11764706</span>, <span class="number">0.14117647</span>, <span class="number">0.36862745</span>, <span class="number">0.60392157</span>,</span><br><span class="line">       <span class="number">0.66666667</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.88235294</span>, <span class="number">0.6745098</span> , <span class="number">0.99215686</span>, <span class="number">0.94901961</span>,</span><br><span class="line">       <span class="number">0.76470588</span>, <span class="number">0.25098039</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.19215686</span>, <span class="number">0.93333333</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.98431373</span>, <span class="number">0.36470588</span>,</span><br><span class="line">       <span class="number">0.32156863</span>, <span class="number">0.32156863</span>, <span class="number">0.21960784</span>, <span class="number">0.15294118</span>, <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.07058824</span>, <span class="number">0.85882353</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.77647059</span>, <span class="number">0.71372549</span>,</span><br><span class="line">       <span class="number">0.96862745</span>, <span class="number">0.94509804</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.31372549</span>, <span class="number">0.61176471</span>, <span class="number">0.41960784</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.80392157</span>, <span class="number">0.04313725</span>, <span class="number">0.</span>        , <span class="number">0.16862745</span>, <span class="number">0.60392157</span>,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.05490196</span>,</span><br><span class="line">       <span class="number">0.00392157</span>, <span class="number">0.60392157</span>, <span class="number">0.99215686</span>, <span class="number">0.35294118</span>, <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.54509804</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.74509804</span>, <span class="number">0.00784314</span>, <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.04313725</span>, <span class="number">0.74509804</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.2745098</span> , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.1372549</span> , <span class="number">0.94509804</span>, <span class="number">0.88235294</span>, <span class="number">0.62745098</span>,</span><br><span class="line">       <span class="number">0.42352941</span>, <span class="number">0.00392157</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.31764706</span>, <span class="number">0.94117647</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.46666667</span>,</span><br><span class="line">       <span class="number">0.09803922</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.17647059</span>,</span><br><span class="line">       <span class="number">0.72941176</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.58823529</span>, <span class="number">0.10588235</span>,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.0627451</span> , <span class="number">0.36470588</span>,</span><br><span class="line">       <span class="number">0.98823529</span>, <span class="number">0.99215686</span>, <span class="number">0.73333333</span>, <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.97647059</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.97647059</span>, <span class="number">0.25098039</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.18039216</span>, <span class="number">0.50980392</span>,</span><br><span class="line">       <span class="number">0.71764706</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.81176471</span>, <span class="number">0.00784314</span>,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.15294118</span>,</span><br><span class="line">       <span class="number">0.58039216</span>, <span class="number">0.89803922</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.98039216</span>, <span class="number">0.71372549</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.09411765</span>, <span class="number">0.44705882</span>, <span class="number">0.86666667</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.78823529</span>, <span class="number">0.30588235</span>, <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.09019608</span>, <span class="number">0.25882353</span>, <span class="number">0.83529412</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.77647059</span>, <span class="number">0.31764706</span>,</span><br><span class="line">       <span class="number">0.00784314</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.07058824</span>, <span class="number">0.67058824</span>, <span class="number">0.85882353</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.76470588</span>,</span><br><span class="line">       <span class="number">0.31372549</span>, <span class="number">0.03529412</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.21568627</span>, <span class="number">0.6745098</span> ,</span><br><span class="line">       <span class="number">0.88627451</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.95686275</span>, <span class="number">0.52156863</span>, <span class="number">0.04313725</span>, <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.53333333</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.83137255</span>, <span class="number">0.52941176</span>, <span class="number">0.51764706</span>, <span class="number">0.0627451</span> , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ])</span><br><span class="line"><span class="comment">#使用一位有效编码来处理标签</span></span><br><span class="line">train_label_onehotencoding = np_utils.to_categorical(train_label)</span><br><span class="line">test_label_onehotencoding = np_utils.to_categorical(test_label)</span><br><span class="line">train_label_onehotencoding[<span class="number">0</span>]</span><br><span class="line">array([<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>], dtype=float32)</span><br><span class="line">建立MLP多层感知器模型</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense</span><br><span class="line">model = Sequential()   <span class="comment">#建立一个线性堆叠的神经网络模型</span></span><br><span class="line">建立输入层和隐藏层之间的关系</span><br><span class="line"></span><br><span class="line"><span class="comment">#Dense函数：units:256隐藏层中神经单元的个数, input_dim=输入层神经单元的个数, normal:正态分布的方式产生权重和偏差随机数</span></span><br><span class="line"><span class="comment">#激活函数relu</span></span><br><span class="line">model.add(Dense(units = <span class="number">256</span>, input_dim = <span class="number">784</span>, kernel_initializer = <span class="string">&#x27;normal&#x27;</span>, activation = <span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">建立隐藏层和输出层之间的关系</span><br><span class="line"></span><br><span class="line">model.add(Dense(units=<span class="number">10</span>, kernel_initializer = <span class="string">&#x27;normal&#x27;</span>, activation = <span class="string">&#x27;softmax&#x27;</span>))</span><br><span class="line"><span class="comment">#查看当前神经网络模型,每一层神经单元关联数：上一层神经单元个数*本层神经单元个数+本层神经单元个数</span></span><br><span class="line"><span class="built_in">print</span>(model.summary())</span><br><span class="line">Model: <span class="string">&quot;sequential_1&quot;</span></span><br><span class="line">_________________________________________________________________</span><br><span class="line">Layer (<span class="built_in">type</span>)                 Output Shape              Param <span class="comment">#   </span></span><br><span class="line">=================================================================</span><br><span class="line">dense_1 (Dense)              (<span class="literal">None</span>, <span class="number">256</span>)               <span class="number">200960</span>    </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dense_2 (Dense)              (<span class="literal">None</span>, <span class="number">10</span>)                <span class="number">2570</span>      </span><br><span class="line">=================================================================</span><br><span class="line">Total params: <span class="number">203</span>,<span class="number">530</span></span><br><span class="line">Trainable params: <span class="number">203</span>,<span class="number">530</span></span><br><span class="line">Non-trainable params: <span class="number">0</span></span><br><span class="line">_________________________________________________________________</span><br><span class="line"><span class="literal">None</span></span><br><span class="line">进行训练</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置训练模型  loss:损失函数   optimizer:优化器，通过优化让训练的结果能够更快的收敛</span></span><br><span class="line">model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;categorical_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics = [<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line"><span class="comment">#train_image_normalize:训练数据    train_label_onehotencoding:训练标签</span></span><br><span class="line"><span class="comment">#validation_split:取出一定比例的数据用于验证    epohs:训练次数  batch_size：每次训练取出多少数据用于训练    verbose：表示训练过程</span></span><br><span class="line">train_history = model.fit(train_image_normalize, train_label_onehotencoding, validation_split = <span class="number">0.2</span>, epochs = <span class="number">10</span>, batch_size = <span class="number">200</span>, verbose = <span class="number">2</span>)</span><br><span class="line">Train on <span class="number">48000</span> samples, validate on <span class="number">12000</span> samples</span><br><span class="line">Epoch <span class="number">1</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.4522</span> - accuracy: <span class="number">0.8801</span> - val_loss: <span class="number">0.2230</span> - val_accuracy: <span class="number">0.9359</span></span><br><span class="line">Epoch <span class="number">2</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.1932</span> - accuracy: <span class="number">0.9456</span> - val_loss: <span class="number">0.1561</span> - val_accuracy: <span class="number">0.9561</span></span><br><span class="line">Epoch <span class="number">3</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.1347</span> - accuracy: <span class="number">0.9616</span> - val_loss: <span class="number">0.1279</span> - val_accuracy: <span class="number">0.9646</span></span><br><span class="line">Epoch <span class="number">4</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.1034</span> - accuracy: <span class="number">0.9710</span> - val_loss: <span class="number">0.1093</span> - val_accuracy: <span class="number">0.9678</span></span><br><span class="line">Epoch <span class="number">5</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.0801</span> - accuracy: <span class="number">0.9774</span> - val_loss: <span class="number">0.0990</span> - val_accuracy: <span class="number">0.9702</span></span><br><span class="line">Epoch <span class="number">6</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.0640</span> - accuracy: <span class="number">0.9822</span> - val_loss: <span class="number">0.0944</span> - val_accuracy: <span class="number">0.9711</span></span><br><span class="line">Epoch <span class="number">7</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.0532</span> - accuracy: <span class="number">0.9853</span> - val_loss: <span class="number">0.0874</span> - val_accuracy: <span class="number">0.9741</span></span><br><span class="line">Epoch <span class="number">8</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.0436</span> - accuracy: <span class="number">0.9880</span> - val_loss: <span class="number">0.0860</span> - val_accuracy: <span class="number">0.9746</span></span><br><span class="line">Epoch <span class="number">9</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.0372</span> - accuracy: <span class="number">0.9904</span> - val_loss: <span class="number">0.0824</span> - val_accuracy: <span class="number">0.9754</span></span><br><span class="line">Epoch <span class="number">10</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.0314</span> - accuracy: <span class="number">0.9917</span> - val_loss: <span class="number">0.0807</span> - val_accuracy: <span class="number">0.9765</span></span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;val_accuracy&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;loss&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;val_loss&#x27;</span>])</span><br><span class="line">[<span class="number">0.88014585</span>, <span class="number">0.9455625</span>, <span class="number">0.961625</span>, <span class="number">0.9710208</span>, <span class="number">0.97735417</span>, <span class="number">0.9822292</span>, <span class="number">0.98529166</span>, <span class="number">0.98802084</span>, <span class="number">0.99039584</span>, <span class="number">0.9916667</span>]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[<span class="number">0.9359166622161865</span>, <span class="number">0.956083357334137</span>, <span class="number">0.9645833373069763</span>, <span class="number">0.9678333401679993</span>, <span class="number">0.9701666831970215</span>, <span class="number">0.9710833430290222</span>, <span class="number">0.9740833044052124</span>, <span class="number">0.9745833277702332</span>, <span class="number">0.9754166603088379</span>, <span class="number">0.9764999747276306</span>]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[<span class="number">0.4522368480761846</span>, <span class="number">0.1932085059893628</span>, <span class="number">0.13471719596224527</span>, <span class="number">0.10336477826349437</span>, <span class="number">0.08011918254972746</span>, <span class="number">0.06402736107508342</span>, <span class="number">0.053206565269889934</span>, <span class="number">0.04363773337099701</span>, <span class="number">0.037246344521796954</span>, <span class="number">0.03143843039870262</span>]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[<span class="number">0.22300144930680593</span>, <span class="number">0.15608321552475293</span>, <span class="number">0.12789294573788842</span>, <span class="number">0.1093228578257064</span>, <span class="number">0.09897888210446884</span>, <span class="number">0.09439525539831568</span>, <span class="number">0.08737322505718718</span>, <span class="number">0.08600771997589618</span>, <span class="number">0.08241344106694062</span>, <span class="number">0.08074388244034102</span>]</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.plot(train_history.history[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">plt.plot(train_history.history[<span class="string">&#x27;val_accuracy&#x27;</span>])</span><br><span class="line">​</span><br><span class="line">plt.title(<span class="string">&#x27;Train History&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Epoch&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Accuracy&#x27;</span>)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">plt.plot(train_history.history[<span class="string">&#x27;loss&#x27;</span>])</span><br><span class="line">plt.plot(train_history.history[<span class="string">&#x27;val_loss&#x27;</span>])</span><br><span class="line">​</span><br><span class="line">plt.title(<span class="string">&#x27;Train History&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Epoch&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Loss&#x27;</span>)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_train_history</span>(<span class="params">history, train, validation</span>):</span></span><br><span class="line">    plt.plot(train_history.history[train])</span><br><span class="line">    plt.plot(train_history.history[validation])</span><br><span class="line">    plt.title(<span class="string">&#x27;Train History&#x27;</span>)</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Epoch&#x27;</span>)</span><br><span class="line">    plt.ylabel(train)</span><br><span class="line">    plt.legend([<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;validation&#x27;</span>], loc=<span class="string">&#x27;upper left&#x27;</span>) </span><br><span class="line">    plt.show()</span><br><span class="line">show_train_history(train_history, <span class="string">&#x27;accuracy&#x27;</span>, <span class="string">&#x27;val_accuracy&#x27;</span>)</span><br><span class="line"></span><br><span class="line">show_train_history(train_history, <span class="string">&#x27;loss&#x27;</span>, <span class="string">&#x27;val_loss&#x27;</span>)</span><br><span class="line"></span><br><span class="line">利用<span class="number">10000</span>项测试数据评估模型的准确率</span><br><span class="line"></span><br><span class="line">scores = model.evaluate(test_image_normalize, test_label_onehotencoding)</span><br><span class="line"><span class="built_in">print</span>(scores)</span><br><span class="line"><span class="number">10000</span>/<span class="number">10000</span> [==============================] - 0s 24us/step</span><br><span class="line">[<span class="number">0.07059942548717373</span>, <span class="number">0.9781000018119812</span>]</span><br></pre></td></tr></table></figure>

<h3 id="26-MNIST-pridict"><a href="#26-MNIST-pridict" class="headerlink" title="26_MNIST _pridict"></a>26_MNIST _pridict</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">下载（加载）MNIST数据集并查看MNIST数据集的内容</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> keras.utils <span class="keyword">import</span> np_utils</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">Using TensorFlow backend.</span><br><span class="line"><span class="keyword">from</span> keras.datasets <span class="keyword">import</span> mnist</span><br><span class="line"><span class="comment">#下载MNIST数据集, 返回训练部分和测试部分，又分为特征和标签，对于当前应用特征就是图片</span></span><br><span class="line">(train_image, train_label), (test_image, test_label) = mnist.load_data()</span><br><span class="line"><span class="comment">#查看一下训练数据和测试数据的大小， 训练数据：60000项      ，测试数据：10000项</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train_data = &#x27;</span>, <span class="built_in">len</span>(train_image))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;test_data = &#x27;</span>, <span class="built_in">len</span>(test_image))</span><br><span class="line">train_data =  <span class="number">60000</span></span><br><span class="line">test_data =  <span class="number">10000</span></span><br><span class="line">train_image[<span class="number">0</span>]</span><br><span class="line">array([[  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">3</span>,</span><br><span class="line">         <span class="number">18</span>,  <span class="number">18</span>,  <span class="number">18</span>, <span class="number">126</span>, <span class="number">136</span>, <span class="number">175</span>,  <span class="number">26</span>, <span class="number">166</span>, <span class="number">255</span>, <span class="number">247</span>, <span class="number">127</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">30</span>,  <span class="number">36</span>,  <span class="number">94</span>, <span class="number">154</span>, <span class="number">170</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">225</span>, <span class="number">172</span>, <span class="number">253</span>, <span class="number">242</span>, <span class="number">195</span>,  <span class="number">64</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">49</span>, <span class="number">238</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">251</span>,  <span class="number">93</span>,  <span class="number">82</span>,  <span class="number">82</span>,  <span class="number">56</span>,  <span class="number">39</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">18</span>, <span class="number">219</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">198</span>, <span class="number">182</span>, <span class="number">247</span>, <span class="number">241</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">80</span>, <span class="number">156</span>, <span class="number">107</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">205</span>,  <span class="number">11</span>,   <span class="number">0</span>,  <span class="number">43</span>, <span class="number">154</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">14</span>,   <span class="number">1</span>, <span class="number">154</span>, <span class="number">253</span>,</span><br><span class="line">         <span class="number">90</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>, <span class="number">139</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">190</span>,   <span class="number">2</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">11</span>, <span class="number">190</span>,</span><br><span class="line">        <span class="number">253</span>,  <span class="number">70</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">35</span>,</span><br><span class="line">        <span class="number">241</span>, <span class="number">225</span>, <span class="number">160</span>, <span class="number">108</span>,   <span class="number">1</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">         <span class="number">81</span>, <span class="number">240</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">119</span>,  <span class="number">25</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,  <span class="number">45</span>, <span class="number">186</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">150</span>,  <span class="number">27</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">16</span>,  <span class="number">93</span>, <span class="number">252</span>, <span class="number">253</span>, <span class="number">187</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>, <span class="number">249</span>, <span class="number">253</span>, <span class="number">249</span>,  <span class="number">64</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,  <span class="number">46</span>, <span class="number">130</span>, <span class="number">183</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">207</span>,   <span class="number">2</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">39</span>,</span><br><span class="line">        <span class="number">148</span>, <span class="number">229</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">250</span>, <span class="number">182</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">24</span>, <span class="number">114</span>, <span class="number">221</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">201</span>,  <span class="number">78</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">23</span>,  <span class="number">66</span>, <span class="number">213</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">253</span>, <span class="number">198</span>,  <span class="number">81</span>,   <span class="number">2</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">18</span>, <span class="number">171</span>, <span class="number">219</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">195</span>,  <span class="number">80</span>,   <span class="number">9</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">55</span>, <span class="number">172</span>, <span class="number">226</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">244</span>, <span class="number">133</span>,</span><br><span class="line">         <span class="number">11</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>, <span class="number">136</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">212</span>, <span class="number">135</span>, <span class="number">132</span>,  <span class="number">16</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>]], dtype=uint8)</span><br><span class="line"><span class="comment">#查看图片的样式,图片是28*28分辨率的，标签是60000项数据</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train_image = &#x27;</span>, train_image.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train_label = &#x27;</span>, train_label.shape)</span><br><span class="line">train_image =  (<span class="number">60000</span>, <span class="number">28</span>, <span class="number">28</span>)</span><br><span class="line">train_label =  (<span class="number">60000</span>,)</span><br><span class="line"><span class="comment">#编写一个函数查看数据集中的图片</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_mist_image</span>(<span class="params">image</span>):</span></span><br><span class="line">    plt.imshow(image, cmap=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line">show_mist_image(train_image[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看train_image[0]这张图片所对应的标签</span></span><br><span class="line">train_label[<span class="number">0</span>]</span><br><span class="line"><span class="number">5</span></span><br><span class="line">数据预处理</span><br><span class="line"></span><br><span class="line">train_image_matric = train_image.reshape(<span class="number">60000</span>, <span class="number">784</span>).astype(<span class="built_in">float</span>)</span><br><span class="line">test_image_matric = test_image.reshape(<span class="number">10000</span>, <span class="number">784</span>).astype(<span class="built_in">float</span>)</span><br><span class="line"><span class="comment">#查看修改后的图片</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train_image_matric = &#x27;</span>, train_image_matric.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;test_image_matric = &#x27;</span>, test_image_matric.shape)</span><br><span class="line">train_image_matric =  (<span class="number">60000</span>, <span class="number">784</span>)</span><br><span class="line">test_image_matric =  (<span class="number">10000</span>, <span class="number">784</span>)</span><br><span class="line">train_image_matric[<span class="number">0</span>]</span><br><span class="line">array([  <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">3.</span>,  <span class="number">18.</span>,</span><br><span class="line">        <span class="number">18.</span>,  <span class="number">18.</span>, <span class="number">126.</span>, <span class="number">136.</span>, <span class="number">175.</span>,  <span class="number">26.</span>, <span class="number">166.</span>, <span class="number">255.</span>, <span class="number">247.</span>, <span class="number">127.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">        <span class="number">30.</span>,  <span class="number">36.</span>,  <span class="number">94.</span>, <span class="number">154.</span>, <span class="number">170.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">225.</span>,</span><br><span class="line">       <span class="number">172.</span>, <span class="number">253.</span>, <span class="number">242.</span>, <span class="number">195.</span>,  <span class="number">64.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">49.</span>, <span class="number">238.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">251.</span>,  <span class="number">93.</span>,  <span class="number">82.</span>,  <span class="number">82.</span>,  <span class="number">56.</span>,  <span class="number">39.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">        <span class="number">18.</span>, <span class="number">219.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">198.</span>, <span class="number">182.</span>, <span class="number">247.</span>, <span class="number">241.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">80.</span>, <span class="number">156.</span>, <span class="number">107.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">253.</span>, <span class="number">205.</span>,  <span class="number">11.</span>,   <span class="number">0.</span>,  <span class="number">43.</span>, <span class="number">154.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">14.</span>,   <span class="number">1.</span>, <span class="number">154.</span>, <span class="number">253.</span>,  <span class="number">90.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">       <span class="number">139.</span>, <span class="number">253.</span>, <span class="number">190.</span>,   <span class="number">2.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">11.</span>, <span class="number">190.</span>, <span class="number">253.</span>,  <span class="number">70.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">35.</span>, <span class="number">241.</span>, <span class="number">225.</span>, <span class="number">160.</span>, <span class="number">108.</span>,   <span class="number">1.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">81.</span>, <span class="number">240.</span>,</span><br><span class="line">       <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">119.</span>,  <span class="number">25.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">45.</span>, <span class="number">186.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">150.</span>,  <span class="number">27.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,  <span class="number">16.</span>,  <span class="number">93.</span>, <span class="number">252.</span>, <span class="number">253.</span>, <span class="number">187.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>, <span class="number">249.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">249.</span>,  <span class="number">64.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,  <span class="number">46.</span>, <span class="number">130.</span>, <span class="number">183.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">207.</span>,   <span class="number">2.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">39.</span>, <span class="number">148.</span>, <span class="number">229.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">250.</span>, <span class="number">182.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">24.</span>, <span class="number">114.</span>,</span><br><span class="line">       <span class="number">221.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">201.</span>,  <span class="number">78.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">23.</span>,  <span class="number">66.</span>, <span class="number">213.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">198.</span>,  <span class="number">81.</span>,</span><br><span class="line">         <span class="number">2.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">18.</span>, <span class="number">171.</span>, <span class="number">219.</span>, <span class="number">253.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">195.</span>,  <span class="number">80.</span>,   <span class="number">9.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">55.</span>,</span><br><span class="line">       <span class="number">172.</span>, <span class="number">226.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">244.</span>, <span class="number">133.</span>,  <span class="number">11.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>, <span class="number">136.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">212.</span>, <span class="number">135.</span>,</span><br><span class="line">       <span class="number">132.</span>,  <span class="number">16.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>])</span><br><span class="line"><span class="comment">#还需要进行数据集的标准化，归一化处理，去除量纲的影响，让所有的数据都落到0-1之间</span></span><br><span class="line">train_image_normalize = train_image_matric/<span class="number">255</span></span><br><span class="line">test_image_normalize = test_image_matric/<span class="number">255</span></span><br><span class="line">train_image_normalize[<span class="number">0</span>]</span><br><span class="line">array([<span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.01176471</span>, <span class="number">0.07058824</span>, <span class="number">0.07058824</span>,</span><br><span class="line">       <span class="number">0.07058824</span>, <span class="number">0.49411765</span>, <span class="number">0.53333333</span>, <span class="number">0.68627451</span>, <span class="number">0.10196078</span>,</span><br><span class="line">       <span class="number">0.65098039</span>, <span class="number">1.</span>        , <span class="number">0.96862745</span>, <span class="number">0.49803922</span>, <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.11764706</span>, <span class="number">0.14117647</span>, <span class="number">0.36862745</span>, <span class="number">0.60392157</span>,</span><br><span class="line">       <span class="number">0.66666667</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.88235294</span>, <span class="number">0.6745098</span> , <span class="number">0.99215686</span>, <span class="number">0.94901961</span>,</span><br><span class="line">       <span class="number">0.76470588</span>, <span class="number">0.25098039</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.19215686</span>, <span class="number">0.93333333</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.98431373</span>, <span class="number">0.36470588</span>,</span><br><span class="line">       <span class="number">0.32156863</span>, <span class="number">0.32156863</span>, <span class="number">0.21960784</span>, <span class="number">0.15294118</span>, <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.07058824</span>, <span class="number">0.85882353</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.77647059</span>, <span class="number">0.71372549</span>,</span><br><span class="line">       <span class="number">0.96862745</span>, <span class="number">0.94509804</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.31372549</span>, <span class="number">0.61176471</span>, <span class="number">0.41960784</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.80392157</span>, <span class="number">0.04313725</span>, <span class="number">0.</span>        , <span class="number">0.16862745</span>, <span class="number">0.60392157</span>,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.05490196</span>,</span><br><span class="line">       <span class="number">0.00392157</span>, <span class="number">0.60392157</span>, <span class="number">0.99215686</span>, <span class="number">0.35294118</span>, <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.54509804</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.74509804</span>, <span class="number">0.00784314</span>, <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.04313725</span>, <span class="number">0.74509804</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.2745098</span> , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.1372549</span> , <span class="number">0.94509804</span>, <span class="number">0.88235294</span>, <span class="number">0.62745098</span>,</span><br><span class="line">       <span class="number">0.42352941</span>, <span class="number">0.00392157</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.31764706</span>, <span class="number">0.94117647</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.46666667</span>,</span><br><span class="line">       <span class="number">0.09803922</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.17647059</span>,</span><br><span class="line">       <span class="number">0.72941176</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.58823529</span>, <span class="number">0.10588235</span>,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.0627451</span> , <span class="number">0.36470588</span>,</span><br><span class="line">       <span class="number">0.98823529</span>, <span class="number">0.99215686</span>, <span class="number">0.73333333</span>, <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.97647059</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.97647059</span>, <span class="number">0.25098039</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.18039216</span>, <span class="number">0.50980392</span>,</span><br><span class="line">       <span class="number">0.71764706</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.81176471</span>, <span class="number">0.00784314</span>,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.15294118</span>,</span><br><span class="line">       <span class="number">0.58039216</span>, <span class="number">0.89803922</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.98039216</span>, <span class="number">0.71372549</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.09411765</span>, <span class="number">0.44705882</span>, <span class="number">0.86666667</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.78823529</span>, <span class="number">0.30588235</span>, <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.09019608</span>, <span class="number">0.25882353</span>, <span class="number">0.83529412</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.77647059</span>, <span class="number">0.31764706</span>,</span><br><span class="line">       <span class="number">0.00784314</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.07058824</span>, <span class="number">0.67058824</span>, <span class="number">0.85882353</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.76470588</span>,</span><br><span class="line">       <span class="number">0.31372549</span>, <span class="number">0.03529412</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.21568627</span>, <span class="number">0.6745098</span> ,</span><br><span class="line">       <span class="number">0.88627451</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.95686275</span>, <span class="number">0.52156863</span>, <span class="number">0.04313725</span>, <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.53333333</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.83137255</span>, <span class="number">0.52941176</span>, <span class="number">0.51764706</span>, <span class="number">0.0627451</span> , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ])</span><br><span class="line"><span class="comment">#使用一位有效编码来处理标签</span></span><br><span class="line">train_label_onehotencoding = np_utils.to_categorical(train_label)</span><br><span class="line">test_label_onehotencoding = np_utils.to_categorical(test_label)</span><br><span class="line">train_label_onehotencoding[<span class="number">0</span>]</span><br><span class="line">array([<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>], dtype=float32)</span><br><span class="line">建立MLP多层感知器模型</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense</span><br><span class="line">model = Sequential()   <span class="comment">#建立一个线性堆叠的神经网络模型</span></span><br><span class="line">建立输入层和隐藏层之间的关系</span><br><span class="line"></span><br><span class="line"><span class="comment">#Dense函数：units:256隐藏层中神经单元的个数, input_dim=输入层神经单元的个数, normal:正态分布的方式产生权重和偏差随机数</span></span><br><span class="line"><span class="comment">#激活函数relu</span></span><br><span class="line">model.add(Dense(units = <span class="number">256</span>, input_dim = <span class="number">784</span>, kernel_initializer = <span class="string">&#x27;normal&#x27;</span>, activation = <span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">建立隐藏层和输出层之间的关系</span><br><span class="line"></span><br><span class="line">model.add(Dense(units=<span class="number">10</span>, kernel_initializer = <span class="string">&#x27;normal&#x27;</span>, activation = <span class="string">&#x27;softmax&#x27;</span>))</span><br><span class="line"><span class="comment">#查看当前神经网络模型,每一层神经单元关联数：上一层神经单元个数*本层神经单元个数+本层神经单元个数</span></span><br><span class="line"><span class="built_in">print</span>(model.summary())</span><br><span class="line">Model: <span class="string">&quot;sequential_1&quot;</span></span><br><span class="line">_________________________________________________________________</span><br><span class="line">Layer (<span class="built_in">type</span>)                 Output Shape              Param <span class="comment">#   </span></span><br><span class="line">=================================================================</span><br><span class="line">dense_1 (Dense)              (<span class="literal">None</span>, <span class="number">256</span>)               <span class="number">200960</span>    </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dense_2 (Dense)              (<span class="literal">None</span>, <span class="number">10</span>)                <span class="number">2570</span>      </span><br><span class="line">=================================================================</span><br><span class="line">Total params: <span class="number">203</span>,<span class="number">530</span></span><br><span class="line">Trainable params: <span class="number">203</span>,<span class="number">530</span></span><br><span class="line">Non-trainable params: <span class="number">0</span></span><br><span class="line">_________________________________________________________________</span><br><span class="line"><span class="literal">None</span></span><br><span class="line">进行训练</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置训练模型  loss:损失函数   optimizer:优化器，通过优化让训练的结果能够更快的收敛</span></span><br><span class="line">model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;categorical_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics = [<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line"><span class="comment">#train_image_normalize:训练数据    train_label_onehotencoding:训练标签</span></span><br><span class="line"><span class="comment">#validation_split:取出一定比例的数据用于验证    epohs:训练次数  batch_size：每次训练取出多少数据用于训练    verbose：表示训练过程</span></span><br><span class="line">train_history = model.fit(train_image_normalize, train_label_onehotencoding, validation_split = <span class="number">0.2</span>, epochs = <span class="number">10</span>, batch_size = <span class="number">200</span>, verbose = <span class="number">2</span>)</span><br><span class="line">Train on <span class="number">48000</span> samples, validate on <span class="number">12000</span> samples</span><br><span class="line">Epoch <span class="number">1</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.4334</span> - accuracy: <span class="number">0.8861</span> - val_loss: <span class="number">0.2138</span> - val_accuracy: <span class="number">0.9408</span></span><br><span class="line">Epoch <span class="number">2</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.1840</span> - accuracy: <span class="number">0.9469</span> - val_loss: <span class="number">0.1561</span> - val_accuracy: <span class="number">0.9565</span></span><br><span class="line">Epoch <span class="number">3</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.1281</span> - accuracy: <span class="number">0.9633</span> - val_loss: <span class="number">0.1225</span> - val_accuracy: <span class="number">0.9645</span></span><br><span class="line">Epoch <span class="number">4</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.0968</span> - accuracy: <span class="number">0.9728</span> - val_loss: <span class="number">0.1029</span> - val_accuracy: <span class="number">0.9691</span></span><br><span class="line">Epoch <span class="number">5</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.0751</span> - accuracy: <span class="number">0.9791</span> - val_loss: <span class="number">0.0955</span> - val_accuracy: <span class="number">0.9726</span></span><br><span class="line">Epoch <span class="number">6</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.0611</span> - accuracy: <span class="number">0.9829</span> - val_loss: <span class="number">0.0925</span> - val_accuracy: <span class="number">0.9729</span></span><br><span class="line">Epoch <span class="number">7</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.0499</span> - accuracy: <span class="number">0.9865</span> - val_loss: <span class="number">0.0857</span> - val_accuracy: <span class="number">0.9736</span></span><br><span class="line">Epoch <span class="number">8</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.0415</span> - accuracy: <span class="number">0.9887</span> - val_loss: <span class="number">0.0823</span> - val_accuracy: <span class="number">0.9750</span></span><br><span class="line">Epoch <span class="number">9</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.0348</span> - accuracy: <span class="number">0.9903</span> - val_loss: <span class="number">0.0840</span> - val_accuracy: <span class="number">0.9735</span></span><br><span class="line">Epoch <span class="number">10</span>/<span class="number">10</span></span><br><span class="line"> - 1s - loss: <span class="number">0.0290</span> - accuracy: <span class="number">0.9930</span> - val_loss: <span class="number">0.0802</span> - val_accuracy: <span class="number">0.9756</span></span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;val_accuracy&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;loss&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;val_loss&#x27;</span>])</span><br><span class="line">[<span class="number">0.88610417</span>, <span class="number">0.9469375</span>, <span class="number">0.96329165</span>, <span class="number">0.97275</span>, <span class="number">0.9791458</span>, <span class="number">0.98291665</span>, <span class="number">0.9865417</span>, <span class="number">0.98875</span>, <span class="number">0.9903125</span>, <span class="number">0.9930417</span>]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[<span class="number">0.940750002861023</span>, <span class="number">0.9564999938011169</span>, <span class="number">0.9645000100135803</span>, <span class="number">0.969083309173584</span>, <span class="number">0.9725833535194397</span>, <span class="number">0.9729166626930237</span>, <span class="number">0.9735833406448364</span>, <span class="number">0.9750000238418579</span>, <span class="number">0.9735000133514404</span>, <span class="number">0.9755833148956299</span>]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[<span class="number">0.4333984013646841</span>, <span class="number">0.1839905105220775</span>, <span class="number">0.1281254106822113</span>, <span class="number">0.09679024377061675</span>, <span class="number">0.07507887611476084</span>, <span class="number">0.061070197937078775</span>, <span class="number">0.04992579888397207</span>, <span class="number">0.041512840369250625</span>, <span class="number">0.03483491912096118</span>, <span class="number">0.02903871687982852</span>]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[<span class="number">0.21384012674291927</span>, <span class="number">0.15613939786950748</span>, <span class="number">0.1224544942068557</span>, <span class="number">0.10294624795205891</span>, <span class="number">0.09553034603595734</span>, <span class="number">0.09248551502823829</span>, <span class="number">0.08568223825034996</span>, <span class="number">0.08226414313539862</span>, <span class="number">0.08398148230432222</span>, <span class="number">0.08019034783355891</span>]</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.plot(train_history.history[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">plt.plot(train_history.history[<span class="string">&#x27;val_accuracy&#x27;</span>])</span><br><span class="line">​</span><br><span class="line">plt.title(<span class="string">&#x27;Train History&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Epoch&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Accuracy&#x27;</span>)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">plt.plot(train_history.history[<span class="string">&#x27;loss&#x27;</span>])</span><br><span class="line">plt.plot(train_history.history[<span class="string">&#x27;val_loss&#x27;</span>])</span><br><span class="line">​</span><br><span class="line">plt.title(<span class="string">&#x27;Train History&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Epoch&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Loss&#x27;</span>)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_train_history</span>(<span class="params">history, train, validation</span>):</span></span><br><span class="line">    plt.plot(train_history.history[train])</span><br><span class="line">    plt.plot(train_history.history[validation])</span><br><span class="line">    plt.title(<span class="string">&#x27;Train History&#x27;</span>)</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Epoch&#x27;</span>)</span><br><span class="line">    plt.ylabel(train)</span><br><span class="line">    plt.legend([<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;validation&#x27;</span>], loc=<span class="string">&#x27;upper left&#x27;</span>) </span><br><span class="line">    plt.show()</span><br><span class="line">show_train_history(train_history, <span class="string">&#x27;accuracy&#x27;</span>, <span class="string">&#x27;val_accuracy&#x27;</span>)</span><br><span class="line"></span><br><span class="line">show_train_history(train_history, <span class="string">&#x27;loss&#x27;</span>, <span class="string">&#x27;val_loss&#x27;</span>)</span><br><span class="line"></span><br><span class="line">利用<span class="number">10000</span>项测试数据评估模型的准确率</span><br><span class="line"></span><br><span class="line">scores = model.evaluate(test_image_normalize, test_label_onehotencoding)</span><br><span class="line"><span class="built_in">print</span>(scores)</span><br><span class="line"><span class="number">10000</span>/<span class="number">10000</span> [==============================] - 0s 24us/step</span><br><span class="line">[<span class="number">0.06797168799317442</span>, <span class="number">0.9787999987602234</span>]</span><br><span class="line">预测图片</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">img = Image.<span class="built_in">open</span>(<span class="string">&#x27;36.bmp&#x27;</span>)</span><br><span class="line">number_data = img.getdata()</span><br><span class="line">number_data_array = np.array(number_data)</span><br><span class="line">number_data_array = number_data_array.reshape(<span class="number">1</span>, <span class="number">784</span>).astype(<span class="built_in">float</span>)</span><br><span class="line">number_data_normalize = number_data_array / <span class="number">255</span>   <span class="comment">#number_data_normalize就是最终我们要带入到深度学习模型中进行预测的数据</span></span><br><span class="line">prediction = model.predict(number_data_normalize)</span><br><span class="line"><span class="built_in">print</span>(prediction)</span><br><span class="line">[[<span class="number">2.7234144e-09</span> <span class="number">5.5800042e-11</span> <span class="number">3.9700070e-11</span> <span class="number">2.5747679e-04</span> <span class="number">1.4614990e-10</span></span><br><span class="line">  <span class="number">9.9971277e-01</span> <span class="number">8.9168090e-10</span> <span class="number">1.5020604e-12</span> <span class="number">2.2445727e-06</span> <span class="number">2.7400331e-05</span>]]</span><br><span class="line">np.<span class="built_in">max</span>(prediction)</span><br><span class="line"><span class="number">0.99971277</span></span><br><span class="line">np.argmax(prediction)</span><br><span class="line"><span class="number">5</span></span><br><span class="line">导出训练完毕的模型</span><br><span class="line"></span><br><span class="line">model.save(<span class="string">&#x27;number_model.h5&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="27-MNIST-隐藏神经单元个数增加到1000个"><a href="#27-MNIST-隐藏神经单元个数增加到1000个" class="headerlink" title="27_MNIST_隐藏神经单元个数增加到1000个"></a>27_MNIST_隐藏神经单元个数增加到1000个</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">下载（加载）MNIST数据集并查看MNIST数据集的内容</span><br><span class="line"></span><br><span class="line">import numpy as np</span><br><span class="line">from keras.utils import np_utils</span><br><span class="line">import pandas as pd</span><br><span class="line">Using TensorFlow backend.</span><br><span class="line">from keras.datasets import mnist</span><br><span class="line">#下载MNIST数据集, 返回训练部分和测试部分，又分为特征和标签，对于当前应用特征就是图片</span><br><span class="line">(train_image, train_label), (test_image, test_label) = mnist.load_data()</span><br><span class="line">#查看一下训练数据和测试数据的大小， 训练数据：60000项      ，测试数据：10000项</span><br><span class="line">print(&#x27;train_data = &#x27;, len(train_image))</span><br><span class="line">print(&#x27;test_data = &#x27;, len(test_image))</span><br><span class="line">train_data =  60000</span><br><span class="line">test_data =  10000</span><br><span class="line">train_image[0]</span><br><span class="line">array([[  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   3,</span><br><span class="line">         18,  18,  18, 126, 136, 175,  26, 166, 255, 247, 127,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,  30,  36,  94, 154, 170,</span><br><span class="line">        253, 253, 253, 253, 253, 225, 172, 253, 242, 195,  64,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,  49, 238, 253, 253, 253, 253,</span><br><span class="line">        253, 253, 253, 253, 251,  93,  82,  82,  56,  39,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,  18, 219, 253, 253, 253, 253,</span><br><span class="line">        253, 198, 182, 247, 241,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,  80, 156, 107, 253, 253,</span><br><span class="line">        205,  11,   0,  43, 154,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,  14,   1, 154, 253,</span><br><span class="line">         90,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 139, 253,</span><br><span class="line">        190,   2,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  11, 190,</span><br><span class="line">        253,  70,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  35,</span><br><span class="line">        241, 225, 160, 108,   1,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">         81, 240, 253, 253, 119,  25,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,  45, 186, 253, 253, 150,  27,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,  16,  93, 252, 253, 187,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0, 249, 253, 249,  64,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,  46, 130, 183, 253, 253, 207,   2,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  39,</span><br><span class="line">        148, 229, 253, 253, 253, 250, 182,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  24, 114, 221,</span><br><span class="line">        253, 253, 253, 253, 201,  78,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,  23,  66, 213, 253, 253,</span><br><span class="line">        253, 253, 198,  81,   2,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,  18, 171, 219, 253, 253, 253, 253,</span><br><span class="line">        195,  80,   9,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,  55, 172, 226, 253, 253, 253, 253, 244, 133,</span><br><span class="line">         11,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0, 136, 253, 253, 253, 212, 135, 132,  16,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0]], dtype=uint8)</span><br><span class="line">#查看图片的样式,图片是28*28分辨率的，标签是60000项数据</span><br><span class="line">print(&#x27;train_image = &#x27;, train_image.shape)</span><br><span class="line">print(&#x27;train_label = &#x27;, train_label.shape)</span><br><span class="line">train_image =  (60000, 28, 28)</span><br><span class="line">train_label =  (60000,)</span><br><span class="line">#编写一个函数查看数据集中的图片</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">def show_mist_image(image):</span><br><span class="line">    plt.imshow(image, cmap=&#x27;gray&#x27;)</span><br><span class="line">    plt.show()</span><br><span class="line">show_mist_image(train_image[0])</span><br><span class="line"></span><br><span class="line">#查看train_image[0]这张图片所对应的标签</span><br><span class="line">train_label[0]</span><br><span class="line">5</span><br><span class="line">数据预处理</span><br><span class="line"></span><br><span class="line">train_image_matric = train_image.reshape(60000, 784).astype(float)</span><br><span class="line">test_image_matric = test_image.reshape(10000, 784).astype(float)</span><br><span class="line">#查看修改后的图片</span><br><span class="line">print(&#x27;train_image_matric = &#x27;, train_image_matric.shape)</span><br><span class="line">print(&#x27;test_image_matric = &#x27;, test_image_matric.shape)</span><br><span class="line">train_image_matric =  (60000, 784)</span><br><span class="line">test_image_matric =  (10000, 784)</span><br><span class="line">train_image_matric[0]</span><br><span class="line">array([  0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   3.,  18.,</span><br><span class="line">        18.,  18., 126., 136., 175.,  26., 166., 255., 247., 127.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">        30.,  36.,  94., 154., 170., 253., 253., 253., 253., 253., 225.,</span><br><span class="line">       172., 253., 242., 195.,  64.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,  49., 238., 253., 253., 253., 253.,</span><br><span class="line">       253., 253., 253., 253., 251.,  93.,  82.,  82.,  56.,  39.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">        18., 219., 253., 253., 253., 253., 253., 198., 182., 247., 241.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,  80., 156., 107., 253.,</span><br><span class="line">       253., 205.,  11.,   0.,  43., 154.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,  14.,   1., 154., 253.,  90.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">       139., 253., 190.,   2.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,  11., 190., 253.,  70.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,  35., 241., 225., 160., 108.,   1.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,  81., 240.,</span><br><span class="line">       253., 253., 119.,  25.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,  45., 186., 253., 253., 150.,  27.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,  16.,  93., 252., 253., 187.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0., 249., 253.,</span><br><span class="line">       249.,  64.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,  46., 130., 183., 253., 253., 207.,   2.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,  39., 148., 229., 253., 253., 253.,</span><br><span class="line">       250., 182.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,  24., 114.,</span><br><span class="line">       221., 253., 253., 253., 253., 201.,  78.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,  23.,  66., 213., 253., 253., 253., 253., 198.,  81.,</span><br><span class="line">         2.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,  18., 171., 219., 253., 253.,</span><br><span class="line">       253., 253., 195.,  80.,   9.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,  55.,</span><br><span class="line">       172., 226., 253., 253., 253., 253., 244., 133.,  11.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0., 136., 253., 253., 253., 212., 135.,</span><br><span class="line">       132.,  16.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.])</span><br><span class="line">#还需要进行数据集的标准化，归一化处理，去除量纲的影响，让所有的数据都落到0-1之间</span><br><span class="line">train_image_normalize = train_image_matric/255</span><br><span class="line">test_image_normalize = test_image_matric/255</span><br><span class="line">train_image_normalize[0]</span><br><span class="line">array([0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.01176471, 0.07058824, 0.07058824,</span><br><span class="line">       0.07058824, 0.49411765, 0.53333333, 0.68627451, 0.10196078,</span><br><span class="line">       0.65098039, 1.        , 0.96862745, 0.49803922, 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.11764706, 0.14117647, 0.36862745, 0.60392157,</span><br><span class="line">       0.66666667, 0.99215686, 0.99215686, 0.99215686, 0.99215686,</span><br><span class="line">       0.99215686, 0.88235294, 0.6745098 , 0.99215686, 0.94901961,</span><br><span class="line">       0.76470588, 0.25098039, 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.19215686, 0.93333333,</span><br><span class="line">       0.99215686, 0.99215686, 0.99215686, 0.99215686, 0.99215686,</span><br><span class="line">       0.99215686, 0.99215686, 0.99215686, 0.98431373, 0.36470588,</span><br><span class="line">       0.32156863, 0.32156863, 0.21960784, 0.15294118, 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.07058824, 0.85882353, 0.99215686, 0.99215686,</span><br><span class="line">       0.99215686, 0.99215686, 0.99215686, 0.77647059, 0.71372549,</span><br><span class="line">       0.96862745, 0.94509804, 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.31372549, 0.61176471, 0.41960784, 0.99215686, 0.99215686,</span><br><span class="line">       0.80392157, 0.04313725, 0.        , 0.16862745, 0.60392157,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.05490196,</span><br><span class="line">       0.00392157, 0.60392157, 0.99215686, 0.35294118, 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.54509804,</span><br><span class="line">       0.99215686, 0.74509804, 0.00784314, 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.04313725, 0.74509804, 0.99215686,</span><br><span class="line">       0.2745098 , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.1372549 , 0.94509804, 0.88235294, 0.62745098,</span><br><span class="line">       0.42352941, 0.00392157, 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.31764706, 0.94117647, 0.99215686, 0.99215686, 0.46666667,</span><br><span class="line">       0.09803922, 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.17647059,</span><br><span class="line">       0.72941176, 0.99215686, 0.99215686, 0.58823529, 0.10588235,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.0627451 , 0.36470588,</span><br><span class="line">       0.98823529, 0.99215686, 0.73333333, 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.97647059, 0.99215686,</span><br><span class="line">       0.97647059, 0.25098039, 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.18039216, 0.50980392,</span><br><span class="line">       0.71764706, 0.99215686, 0.99215686, 0.81176471, 0.00784314,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.15294118,</span><br><span class="line">       0.58039216, 0.89803922, 0.99215686, 0.99215686, 0.99215686,</span><br><span class="line">       0.98039216, 0.71372549, 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.09411765, 0.44705882, 0.86666667, 0.99215686, 0.99215686,</span><br><span class="line">       0.99215686, 0.99215686, 0.78823529, 0.30588235, 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.09019608, 0.25882353, 0.83529412, 0.99215686,</span><br><span class="line">       0.99215686, 0.99215686, 0.99215686, 0.77647059, 0.31764706,</span><br><span class="line">       0.00784314, 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.07058824, 0.67058824, 0.85882353,</span><br><span class="line">       0.99215686, 0.99215686, 0.99215686, 0.99215686, 0.76470588,</span><br><span class="line">       0.31372549, 0.03529412, 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.21568627, 0.6745098 ,</span><br><span class="line">       0.88627451, 0.99215686, 0.99215686, 0.99215686, 0.99215686,</span><br><span class="line">       0.95686275, 0.52156863, 0.04313725, 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.53333333, 0.99215686, 0.99215686, 0.99215686,</span><br><span class="line">       0.83137255, 0.52941176, 0.51764706, 0.0627451 , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        ])</span><br><span class="line">#使用一位有效编码来处理标签</span><br><span class="line">train_label_onehotencoding = np_utils.to_categorical(train_label)</span><br><span class="line">test_label_onehotencoding = np_utils.to_categorical(test_label)</span><br><span class="line">train_label_onehotencoding[0]</span><br><span class="line">array([0., 0., 0., 0., 0., 1., 0., 0., 0., 0.], dtype=float32)</span><br><span class="line">建立MLP多层感知器模型</span><br><span class="line"></span><br><span class="line">from keras.models import Sequential</span><br><span class="line">from keras.layers import Dense</span><br><span class="line">model = Sequential()   #建立一个线性堆叠的神经网络模型</span><br><span class="line">建立输入层和隐藏层之间的关系</span><br><span class="line"></span><br><span class="line">#Dense函数：units:1000隐藏层中神经单元的个数, input_dim=输入层神经单元的个数, normal:正态分布的方式产生权重和偏差随机数</span><br><span class="line">#激活函数relu</span><br><span class="line">model.add(Dense(units = 1000, input_dim = 784, kernel_initializer = &#x27;normal&#x27;, activation = &#x27;relu&#x27;))</span><br><span class="line">建立隐藏层和输出层之间的关系</span><br><span class="line"></span><br><span class="line">model.add(Dense(units=10, kernel_initializer = &#x27;normal&#x27;, activation = &#x27;softmax&#x27;))</span><br><span class="line">#查看当前神经网络模型,每一层神经单元关联数：上一层神经单元个数*本层神经单元个数+本层神经单元个数</span><br><span class="line">print(model.summary())</span><br><span class="line">Model: &quot;sequential_1&quot;</span><br><span class="line">_________________________________________________________________</span><br><span class="line">Layer (type)                 Output Shape              Param #   </span><br><span class="line">=================================================================</span><br><span class="line">dense_1 (Dense)              (None, 1000)              785000    </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dense_2 (Dense)              (None, 10)                10010     </span><br><span class="line">=================================================================</span><br><span class="line">Total params: 795,010</span><br><span class="line">Trainable params: 795,010</span><br><span class="line">Non-trainable params: 0</span><br><span class="line">_________________________________________________________________</span><br><span class="line">None</span><br><span class="line">进行训练</span><br><span class="line"></span><br><span class="line">#配置训练模型  loss:损失函数   optimizer:优化器，通过优化让训练的结果能够更快的收敛</span><br><span class="line">model.compile(loss=&#x27;categorical_crossentropy&#x27;, optimizer=&#x27;adam&#x27;, metrics = [&#x27;accuracy&#x27;])</span><br><span class="line">#train_image_normalize:训练数据    train_label_onehotencoding:训练标签</span><br><span class="line">#validation_split:取出一定比例的数据用于验证    epohs:训练次数  batch_size：每次训练取出多少数据用于训练    verbose：表示训练过程</span><br><span class="line">train_history = model.fit(train_image_normalize, train_label_onehotencoding, validation_split = 0.2, epochs = 10, batch_size = 200, verbose = 2)</span><br><span class="line">Train on 48000 samples, validate on 12000 samples</span><br><span class="line">Epoch 1/10</span><br><span class="line"> - 5s - loss: 0.2998 - accuracy: 0.9128 - val_loss: 0.1530 - val_accuracy: 0.9555</span><br><span class="line">Epoch 2/10</span><br><span class="line"> - 5s - loss: 0.1178 - accuracy: 0.9659 - val_loss: 0.1077 - val_accuracy: 0.9685</span><br><span class="line">Epoch 3/10</span><br><span class="line"> - 5s - loss: 0.0738 - accuracy: 0.9785 - val_loss: 0.0939 - val_accuracy: 0.9706</span><br><span class="line">Epoch 4/10</span><br><span class="line"> - 5s - loss: 0.0521 - accuracy: 0.9851 - val_loss: 0.0791 - val_accuracy: 0.9768</span><br><span class="line">Epoch 5/10</span><br><span class="line"> - 4s - loss: 0.0372 - accuracy: 0.9900 - val_loss: 0.0793 - val_accuracy: 0.9747</span><br><span class="line">Epoch 6/10</span><br><span class="line"> - 4s - loss: 0.0263 - accuracy: 0.9930 - val_loss: 0.0725 - val_accuracy: 0.9787</span><br><span class="line">Epoch 7/10</span><br><span class="line"> - 4s - loss: 0.0183 - accuracy: 0.9957 - val_loss: 0.0716 - val_accuracy: 0.9777</span><br><span class="line">Epoch 8/10</span><br><span class="line"> - 4s - loss: 0.0126 - accuracy: 0.9977 - val_loss: 0.0740 - val_accuracy: 0.9788</span><br><span class="line">Epoch 9/10</span><br><span class="line"> - 4s - loss: 0.0093 - accuracy: 0.9985 - val_loss: 0.0671 - val_accuracy: 0.9810</span><br><span class="line">Epoch 10/10</span><br><span class="line"> - 4s - loss: 0.0065 - accuracy: 0.9992 - val_loss: 0.0714 - val_accuracy: 0.9801</span><br><span class="line">print(train_history.history[&#x27;accuracy&#x27;])</span><br><span class="line">print(&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;)</span><br><span class="line">print(train_history.history[&#x27;val_accuracy&#x27;])</span><br><span class="line">print(&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;)</span><br><span class="line">print(train_history.history[&#x27;loss&#x27;])</span><br><span class="line">print(&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;)</span><br><span class="line">print(train_history.history[&#x27;val_loss&#x27;])</span><br><span class="line">[0.9128125, 0.9659167, 0.9785208, 0.9851458, 0.98995835, 0.993, 0.9956667, 0.9977292, 0.99852085, 0.9991875]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[0.9555000066757202, 0.968500018119812, 0.9705833196640015, 0.9767500162124634, 0.9747499823570251, 0.9787499904632568, 0.9776666760444641, 0.9788333177566528, 0.9810000061988831, 0.9800833463668823]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[0.2998128044729432, 0.11775319942583641, 0.07381837969490637, 0.05208632989088073, 0.03724231435529267, 0.026336529784991094, 0.0182550613846009, 0.012622229537616174, 0.009334316676540767, 0.006547674063282708]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[0.1529679651061694, 0.10772941779966155, 0.09390552500262857, 0.0791205218915517, 0.07934353555707882, 0.07253082567670693, 0.07164637909348433, 0.07398751463042572, 0.067059952148702, 0.07138842526668061]</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">plt.plot(train_history.history[&#x27;accuracy&#x27;])</span><br><span class="line">plt.plot(train_history.history[&#x27;val_accuracy&#x27;])</span><br><span class="line">​</span><br><span class="line">plt.title(&#x27;Train History&#x27;)</span><br><span class="line">plt.xlabel(&#x27;Epoch&#x27;)</span><br><span class="line">plt.ylabel(&#x27;Accuracy&#x27;)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">plt.plot(train_history.history[&#x27;loss&#x27;])</span><br><span class="line">plt.plot(train_history.history[&#x27;val_loss&#x27;])</span><br><span class="line">​</span><br><span class="line">plt.title(&#x27;Train History&#x27;)</span><br><span class="line">plt.xlabel(&#x27;Epoch&#x27;)</span><br><span class="line">plt.ylabel(&#x27;Loss&#x27;)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">def show_train_history(history, train, validation):</span><br><span class="line">    plt.plot(train_history.history[train])</span><br><span class="line">    plt.plot(train_history.history[validation])</span><br><span class="line">    plt.title(&#x27;Train History&#x27;)</span><br><span class="line">    plt.xlabel(&#x27;Epoch&#x27;)</span><br><span class="line">    plt.ylabel(train)</span><br><span class="line">    plt.legend([&#x27;train&#x27;, &#x27;validation&#x27;], loc=&#x27;upper left&#x27;) </span><br><span class="line">    plt.show()</span><br><span class="line">show_train_history(train_history, &#x27;accuracy&#x27;, &#x27;val_accuracy&#x27;)</span><br><span class="line"></span><br><span class="line">show_train_history(train_history, &#x27;loss&#x27;, &#x27;val_loss&#x27;)</span><br><span class="line"></span><br><span class="line">利用10000项测试数据评估模型的准确率</span><br><span class="line"></span><br><span class="line">scores = model.evaluate(test_image_normalize, test_label_onehotencoding)</span><br><span class="line">print(scores)</span><br><span class="line">10000/10000 [==============================] - 1s 75us/step</span><br><span class="line">[0.05919911003021407, 0.9825000166893005]</span><br></pre></td></tr></table></figure>

<h3 id="28-MNIST-Dropout-降低过度拟合"><a href="#28-MNIST-Dropout-降低过度拟合" class="headerlink" title="28_MNIST_Dropout_降低过度拟合"></a>28_MNIST_Dropout_降低过度拟合</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">下载（加载）MNIST数据集并查看MNIST数据集的内容</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> keras.utils <span class="keyword">import</span> np_utils</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">Using TensorFlow backend.</span><br><span class="line"><span class="keyword">from</span> keras.datasets <span class="keyword">import</span> mnist</span><br><span class="line"><span class="comment">#下载MNIST数据集, 返回训练部分和测试部分，又分为特征和标签，对于当前应用特征就是图片</span></span><br><span class="line">(train_image, train_label), (test_image, test_label) = mnist.load_data()</span><br><span class="line"><span class="comment">#查看一下训练数据和测试数据的大小， 训练数据：60000项      ，测试数据：10000项</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train_data = &#x27;</span>, <span class="built_in">len</span>(train_image))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;test_data = &#x27;</span>, <span class="built_in">len</span>(test_image))</span><br><span class="line">train_data =  <span class="number">60000</span></span><br><span class="line">test_data =  <span class="number">10000</span></span><br><span class="line">train_image[<span class="number">0</span>]</span><br><span class="line">array([[  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">3</span>,</span><br><span class="line">         <span class="number">18</span>,  <span class="number">18</span>,  <span class="number">18</span>, <span class="number">126</span>, <span class="number">136</span>, <span class="number">175</span>,  <span class="number">26</span>, <span class="number">166</span>, <span class="number">255</span>, <span class="number">247</span>, <span class="number">127</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">30</span>,  <span class="number">36</span>,  <span class="number">94</span>, <span class="number">154</span>, <span class="number">170</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">225</span>, <span class="number">172</span>, <span class="number">253</span>, <span class="number">242</span>, <span class="number">195</span>,  <span class="number">64</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">49</span>, <span class="number">238</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">251</span>,  <span class="number">93</span>,  <span class="number">82</span>,  <span class="number">82</span>,  <span class="number">56</span>,  <span class="number">39</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">18</span>, <span class="number">219</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">198</span>, <span class="number">182</span>, <span class="number">247</span>, <span class="number">241</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">80</span>, <span class="number">156</span>, <span class="number">107</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">205</span>,  <span class="number">11</span>,   <span class="number">0</span>,  <span class="number">43</span>, <span class="number">154</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">14</span>,   <span class="number">1</span>, <span class="number">154</span>, <span class="number">253</span>,</span><br><span class="line">         <span class="number">90</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>, <span class="number">139</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">190</span>,   <span class="number">2</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">11</span>, <span class="number">190</span>,</span><br><span class="line">        <span class="number">253</span>,  <span class="number">70</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">35</span>,</span><br><span class="line">        <span class="number">241</span>, <span class="number">225</span>, <span class="number">160</span>, <span class="number">108</span>,   <span class="number">1</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">         <span class="number">81</span>, <span class="number">240</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">119</span>,  <span class="number">25</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,  <span class="number">45</span>, <span class="number">186</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">150</span>,  <span class="number">27</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">16</span>,  <span class="number">93</span>, <span class="number">252</span>, <span class="number">253</span>, <span class="number">187</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>, <span class="number">249</span>, <span class="number">253</span>, <span class="number">249</span>,  <span class="number">64</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,  <span class="number">46</span>, <span class="number">130</span>, <span class="number">183</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">207</span>,   <span class="number">2</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">39</span>,</span><br><span class="line">        <span class="number">148</span>, <span class="number">229</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">250</span>, <span class="number">182</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">24</span>, <span class="number">114</span>, <span class="number">221</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">201</span>,  <span class="number">78</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">23</span>,  <span class="number">66</span>, <span class="number">213</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">253</span>, <span class="number">253</span>, <span class="number">198</span>,  <span class="number">81</span>,   <span class="number">2</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">18</span>, <span class="number">171</span>, <span class="number">219</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>,</span><br><span class="line">        <span class="number">195</span>,  <span class="number">80</span>,   <span class="number">9</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,  <span class="number">55</span>, <span class="number">172</span>, <span class="number">226</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">244</span>, <span class="number">133</span>,</span><br><span class="line">         <span class="number">11</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>, <span class="number">136</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">253</span>, <span class="number">212</span>, <span class="number">135</span>, <span class="number">132</span>,  <span class="number">16</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">       [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>,</span><br><span class="line">          <span class="number">0</span>,   <span class="number">0</span>]], dtype=uint8)</span><br><span class="line"><span class="comment">#查看图片的样式,图片是28*28分辨率的，标签是60000项数据</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train_image = &#x27;</span>, train_image.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train_label = &#x27;</span>, train_label.shape)</span><br><span class="line">train_image =  (<span class="number">60000</span>, <span class="number">28</span>, <span class="number">28</span>)</span><br><span class="line">train_label =  (<span class="number">60000</span>,)</span><br><span class="line"><span class="comment">#编写一个函数查看数据集中的图片</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_mist_image</span>(<span class="params">image</span>):</span></span><br><span class="line">    plt.imshow(image, cmap=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line">show_mist_image(train_image[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看train_image[0]这张图片所对应的标签</span></span><br><span class="line">train_label[<span class="number">0</span>]</span><br><span class="line"><span class="number">5</span></span><br><span class="line">数据预处理</span><br><span class="line"></span><br><span class="line">train_image_matric = train_image.reshape(<span class="number">60000</span>, <span class="number">784</span>).astype(<span class="built_in">float</span>)</span><br><span class="line">test_image_matric = test_image.reshape(<span class="number">10000</span>, <span class="number">784</span>).astype(<span class="built_in">float</span>)</span><br><span class="line"><span class="comment">#查看修改后的图片</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train_image_matric = &#x27;</span>, train_image_matric.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;test_image_matric = &#x27;</span>, test_image_matric.shape)</span><br><span class="line">train_image_matric =  (<span class="number">60000</span>, <span class="number">784</span>)</span><br><span class="line">test_image_matric =  (<span class="number">10000</span>, <span class="number">784</span>)</span><br><span class="line">train_image_matric[<span class="number">0</span>]</span><br><span class="line">array([  <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">3.</span>,  <span class="number">18.</span>,</span><br><span class="line">        <span class="number">18.</span>,  <span class="number">18.</span>, <span class="number">126.</span>, <span class="number">136.</span>, <span class="number">175.</span>,  <span class="number">26.</span>, <span class="number">166.</span>, <span class="number">255.</span>, <span class="number">247.</span>, <span class="number">127.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">        <span class="number">30.</span>,  <span class="number">36.</span>,  <span class="number">94.</span>, <span class="number">154.</span>, <span class="number">170.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">225.</span>,</span><br><span class="line">       <span class="number">172.</span>, <span class="number">253.</span>, <span class="number">242.</span>, <span class="number">195.</span>,  <span class="number">64.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">49.</span>, <span class="number">238.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">251.</span>,  <span class="number">93.</span>,  <span class="number">82.</span>,  <span class="number">82.</span>,  <span class="number">56.</span>,  <span class="number">39.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">        <span class="number">18.</span>, <span class="number">219.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">198.</span>, <span class="number">182.</span>, <span class="number">247.</span>, <span class="number">241.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">80.</span>, <span class="number">156.</span>, <span class="number">107.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">253.</span>, <span class="number">205.</span>,  <span class="number">11.</span>,   <span class="number">0.</span>,  <span class="number">43.</span>, <span class="number">154.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">14.</span>,   <span class="number">1.</span>, <span class="number">154.</span>, <span class="number">253.</span>,  <span class="number">90.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">       <span class="number">139.</span>, <span class="number">253.</span>, <span class="number">190.</span>,   <span class="number">2.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">11.</span>, <span class="number">190.</span>, <span class="number">253.</span>,  <span class="number">70.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">35.</span>, <span class="number">241.</span>, <span class="number">225.</span>, <span class="number">160.</span>, <span class="number">108.</span>,   <span class="number">1.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">81.</span>, <span class="number">240.</span>,</span><br><span class="line">       <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">119.</span>,  <span class="number">25.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">45.</span>, <span class="number">186.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">150.</span>,  <span class="number">27.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,  <span class="number">16.</span>,  <span class="number">93.</span>, <span class="number">252.</span>, <span class="number">253.</span>, <span class="number">187.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>, <span class="number">249.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">249.</span>,  <span class="number">64.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,  <span class="number">46.</span>, <span class="number">130.</span>, <span class="number">183.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">207.</span>,   <span class="number">2.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">39.</span>, <span class="number">148.</span>, <span class="number">229.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">250.</span>, <span class="number">182.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">24.</span>, <span class="number">114.</span>,</span><br><span class="line">       <span class="number">221.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">201.</span>,  <span class="number">78.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">23.</span>,  <span class="number">66.</span>, <span class="number">213.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">198.</span>,  <span class="number">81.</span>,</span><br><span class="line">         <span class="number">2.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">18.</span>, <span class="number">171.</span>, <span class="number">219.</span>, <span class="number">253.</span>, <span class="number">253.</span>,</span><br><span class="line">       <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">195.</span>,  <span class="number">80.</span>,   <span class="number">9.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,  <span class="number">55.</span>,</span><br><span class="line">       <span class="number">172.</span>, <span class="number">226.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">244.</span>, <span class="number">133.</span>,  <span class="number">11.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>, <span class="number">136.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">253.</span>, <span class="number">212.</span>, <span class="number">135.</span>,</span><br><span class="line">       <span class="number">132.</span>,  <span class="number">16.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>,</span><br><span class="line">         <span class="number">0.</span>,   <span class="number">0.</span>,   <span class="number">0.</span>])</span><br><span class="line"><span class="comment">#还需要进行数据集的标准化，归一化处理，去除量纲的影响，让所有的数据都落到0-1之间</span></span><br><span class="line">train_image_normalize = train_image_matric/<span class="number">255</span></span><br><span class="line">test_image_normalize = test_image_matric/<span class="number">255</span></span><br><span class="line">train_image_normalize[<span class="number">0</span>]</span><br><span class="line">array([<span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.01176471</span>, <span class="number">0.07058824</span>, <span class="number">0.07058824</span>,</span><br><span class="line">       <span class="number">0.07058824</span>, <span class="number">0.49411765</span>, <span class="number">0.53333333</span>, <span class="number">0.68627451</span>, <span class="number">0.10196078</span>,</span><br><span class="line">       <span class="number">0.65098039</span>, <span class="number">1.</span>        , <span class="number">0.96862745</span>, <span class="number">0.49803922</span>, <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.11764706</span>, <span class="number">0.14117647</span>, <span class="number">0.36862745</span>, <span class="number">0.60392157</span>,</span><br><span class="line">       <span class="number">0.66666667</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.88235294</span>, <span class="number">0.6745098</span> , <span class="number">0.99215686</span>, <span class="number">0.94901961</span>,</span><br><span class="line">       <span class="number">0.76470588</span>, <span class="number">0.25098039</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.19215686</span>, <span class="number">0.93333333</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.98431373</span>, <span class="number">0.36470588</span>,</span><br><span class="line">       <span class="number">0.32156863</span>, <span class="number">0.32156863</span>, <span class="number">0.21960784</span>, <span class="number">0.15294118</span>, <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.07058824</span>, <span class="number">0.85882353</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.77647059</span>, <span class="number">0.71372549</span>,</span><br><span class="line">       <span class="number">0.96862745</span>, <span class="number">0.94509804</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.31372549</span>, <span class="number">0.61176471</span>, <span class="number">0.41960784</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.80392157</span>, <span class="number">0.04313725</span>, <span class="number">0.</span>        , <span class="number">0.16862745</span>, <span class="number">0.60392157</span>,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.05490196</span>,</span><br><span class="line">       <span class="number">0.00392157</span>, <span class="number">0.60392157</span>, <span class="number">0.99215686</span>, <span class="number">0.35294118</span>, <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.54509804</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.74509804</span>, <span class="number">0.00784314</span>, <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.04313725</span>, <span class="number">0.74509804</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.2745098</span> , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.1372549</span> , <span class="number">0.94509804</span>, <span class="number">0.88235294</span>, <span class="number">0.62745098</span>,</span><br><span class="line">       <span class="number">0.42352941</span>, <span class="number">0.00392157</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.31764706</span>, <span class="number">0.94117647</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.46666667</span>,</span><br><span class="line">       <span class="number">0.09803922</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.17647059</span>,</span><br><span class="line">       <span class="number">0.72941176</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.58823529</span>, <span class="number">0.10588235</span>,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.0627451</span> , <span class="number">0.36470588</span>,</span><br><span class="line">       <span class="number">0.98823529</span>, <span class="number">0.99215686</span>, <span class="number">0.73333333</span>, <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.97647059</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.97647059</span>, <span class="number">0.25098039</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.18039216</span>, <span class="number">0.50980392</span>,</span><br><span class="line">       <span class="number">0.71764706</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.81176471</span>, <span class="number">0.00784314</span>,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.15294118</span>,</span><br><span class="line">       <span class="number">0.58039216</span>, <span class="number">0.89803922</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.98039216</span>, <span class="number">0.71372549</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.09411765</span>, <span class="number">0.44705882</span>, <span class="number">0.86666667</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.78823529</span>, <span class="number">0.30588235</span>, <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.09019608</span>, <span class="number">0.25882353</span>, <span class="number">0.83529412</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.77647059</span>, <span class="number">0.31764706</span>,</span><br><span class="line">       <span class="number">0.00784314</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.07058824</span>, <span class="number">0.67058824</span>, <span class="number">0.85882353</span>,</span><br><span class="line">       <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.76470588</span>,</span><br><span class="line">       <span class="number">0.31372549</span>, <span class="number">0.03529412</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.21568627</span>, <span class="number">0.6745098</span> ,</span><br><span class="line">       <span class="number">0.88627451</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.95686275</span>, <span class="number">0.52156863</span>, <span class="number">0.04313725</span>, <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.53333333</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>, <span class="number">0.99215686</span>,</span><br><span class="line">       <span class="number">0.83137255</span>, <span class="number">0.52941176</span>, <span class="number">0.51764706</span>, <span class="number">0.0627451</span> , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">       <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.</span>        ])</span><br><span class="line"><span class="comment">#使用一位有效编码来处理标签</span></span><br><span class="line">train_label_onehotencoding = np_utils.to_categorical(train_label)</span><br><span class="line">test_label_onehotencoding = np_utils.to_categorical(test_label)</span><br><span class="line">train_label_onehotencoding[<span class="number">0</span>]</span><br><span class="line">array([<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>], dtype=float32)</span><br><span class="line">建立MLP多层感知器模型</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dropout</span><br><span class="line">model = Sequential()   <span class="comment">#建立一个线性堆叠的神经网络模型</span></span><br><span class="line">建立输入层和隐藏层之间的关系</span><br><span class="line"></span><br><span class="line"><span class="comment">#Dense函数：units:1000隐藏层中神经单元的个数, input_dim=输入层神经单元的个数, normal:正态分布的方式产生权重和偏差随机数</span></span><br><span class="line"><span class="comment">#激活函数relu</span></span><br><span class="line">model.add(Dense(units = <span class="number">1000</span>, input_dim = <span class="number">784</span>, kernel_initializer = <span class="string">&#x27;normal&#x27;</span>, activation = <span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">model.add(Dropout(<span class="number">0.5</span>))     <span class="comment">#增加Dropout功能，进一步降低过度拟合</span></span><br><span class="line">建立隐藏层和输出层之间的关系</span><br><span class="line"></span><br><span class="line">model.add(Dense(units=<span class="number">10</span>, kernel_initializer = <span class="string">&#x27;normal&#x27;</span>, activation = <span class="string">&#x27;softmax&#x27;</span>))</span><br><span class="line"><span class="comment">#查看当前神经网络模型,每一层神经单元关联数：上一层神经单元个数*本层神经单元个数+本层神经单元个数</span></span><br><span class="line"><span class="built_in">print</span>(model.summary())</span><br><span class="line">Model: <span class="string">&quot;sequential_1&quot;</span></span><br><span class="line">_________________________________________________________________</span><br><span class="line">Layer (<span class="built_in">type</span>)                 Output Shape              Param <span class="comment">#   </span></span><br><span class="line">=================================================================</span><br><span class="line">dense_1 (Dense)              (<span class="literal">None</span>, <span class="number">1000</span>)              <span class="number">785000</span>    </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dropout_1 (Dropout)          (<span class="literal">None</span>, <span class="number">1000</span>)              <span class="number">0</span>         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dense_2 (Dense)              (<span class="literal">None</span>, <span class="number">10</span>)                <span class="number">10010</span>     </span><br><span class="line">=================================================================</span><br><span class="line">Total params: <span class="number">795</span>,010</span><br><span class="line">Trainable params: <span class="number">795</span>,010</span><br><span class="line">Non-trainable params: <span class="number">0</span></span><br><span class="line">_________________________________________________________________</span><br><span class="line"><span class="literal">None</span></span><br><span class="line">进行训练</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置训练模型  loss:损失函数   optimizer:优化器，通过优化让训练的结果能够更快的收敛</span></span><br><span class="line">model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;categorical_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics = [<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line"><span class="comment">#train_image_normalize:训练数据    train_label_onehotencoding:训练标签</span></span><br><span class="line"><span class="comment">#validation_split:取出一定比例的数据用于验证    epohs:训练次数  batch_size：每次训练取出多少数据用于训练    verbose：表示训练过程</span></span><br><span class="line">train_history = model.fit(train_image_normalize, train_label_onehotencoding, validation_split = <span class="number">0.2</span>, epochs = <span class="number">10</span>, batch_size = <span class="number">200</span>, verbose = <span class="number">2</span>)</span><br><span class="line">Train on <span class="number">48000</span> samples, validate on <span class="number">12000</span> samples</span><br><span class="line">Epoch <span class="number">1</span>/<span class="number">10</span></span><br><span class="line"> - 5s - loss: <span class="number">0.3544</span> - accuracy: <span class="number">0.8945</span> - val_loss: <span class="number">0.1671</span> - val_accuracy: <span class="number">0.9533</span></span><br><span class="line">Epoch <span class="number">2</span>/<span class="number">10</span></span><br><span class="line"> - 4s - loss: <span class="number">0.1609</span> - accuracy: <span class="number">0.9536</span> - val_loss: <span class="number">0.1197</span> - val_accuracy: <span class="number">0.9643</span></span><br><span class="line">Epoch <span class="number">3</span>/<span class="number">10</span></span><br><span class="line"> - 4s - loss: <span class="number">0.1163</span> - accuracy: <span class="number">0.9655</span> - val_loss: <span class="number">0.0944</span> - val_accuracy: <span class="number">0.9717</span></span><br><span class="line">Epoch <span class="number">4</span>/<span class="number">10</span></span><br><span class="line"> - 5s - loss: <span class="number">0.0919</span> - accuracy: <span class="number">0.9724</span> - val_loss: <span class="number">0.0872</span> - val_accuracy: <span class="number">0.9740</span></span><br><span class="line">Epoch <span class="number">5</span>/<span class="number">10</span></span><br><span class="line"> - 5s - loss: <span class="number">0.0753</span> - accuracy: <span class="number">0.9772</span> - val_loss: <span class="number">0.0771</span> - val_accuracy: <span class="number">0.9768</span></span><br><span class="line">Epoch <span class="number">6</span>/<span class="number">10</span></span><br><span class="line"> - 5s - loss: <span class="number">0.0634</span> - accuracy: <span class="number">0.9804</span> - val_loss: <span class="number">0.0793</span> - val_accuracy: <span class="number">0.9748</span></span><br><span class="line">Epoch <span class="number">7</span>/<span class="number">10</span></span><br><span class="line"> - 5s - loss: <span class="number">0.0552</span> - accuracy: <span class="number">0.9833</span> - val_loss: <span class="number">0.0719</span> - val_accuracy: <span class="number">0.9781</span></span><br><span class="line">Epoch <span class="number">8</span>/<span class="number">10</span></span><br><span class="line"> - 4s - loss: <span class="number">0.0452</span> - accuracy: <span class="number">0.9861</span> - val_loss: <span class="number">0.0685</span> - val_accuracy: <span class="number">0.9793</span></span><br><span class="line">Epoch <span class="number">9</span>/<span class="number">10</span></span><br><span class="line"> - 4s - loss: <span class="number">0.0426</span> - accuracy: <span class="number">0.9865</span> - val_loss: <span class="number">0.0714</span> - val_accuracy: <span class="number">0.9787</span></span><br><span class="line">Epoch <span class="number">10</span>/<span class="number">10</span></span><br><span class="line"> - 5s - loss: <span class="number">0.0353</span> - accuracy: <span class="number">0.9893</span> - val_loss: <span class="number">0.0672</span> - val_accuracy: <span class="number">0.9799</span></span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;val_accuracy&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;loss&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;val_loss&#x27;</span>])</span><br><span class="line">[<span class="number">0.89445835</span>, <span class="number">0.953625</span>, <span class="number">0.96552086</span>, <span class="number">0.97239584</span>, <span class="number">0.97725</span>, <span class="number">0.9803542</span>, <span class="number">0.98325</span>, <span class="number">0.9861042</span>, <span class="number">0.9865208</span>, <span class="number">0.9893125</span>]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[<span class="number">0.95333331823349</span>, <span class="number">0.9643333554267883</span>, <span class="number">0.971666693687439</span>, <span class="number">0.9739999771118164</span>, <span class="number">0.9768333435058594</span>, <span class="number">0.9748333096504211</span>, <span class="number">0.9780833125114441</span>, <span class="number">0.9793333411216736</span>, <span class="number">0.9787499904632568</span>, <span class="number">0.9799166917800903</span>]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[<span class="number">0.35436541816840567</span>, <span class="number">0.16093334956094624</span>, <span class="number">0.11626723034617802</span>, <span class="number">0.09194147459541759</span>, <span class="number">0.07530195094489803</span>, <span class="number">0.06341566526874279</span>, <span class="number">0.05524902655743062</span>, <span class="number">0.04517777630050356</span>, <span class="number">0.04260949949578693</span>, <span class="number">0.035310114978346976</span>]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[<span class="number">0.167095924479266</span>, <span class="number">0.1196733258664608</span>, <span class="number">0.09443828769338627</span>, <span class="number">0.08718650586282213</span>, <span class="number">0.07714415175529818</span>, <span class="number">0.07925085759876917</span>, <span class="number">0.07190601337545861</span>, <span class="number">0.06851549219184866</span>, <span class="number">0.07138376238678272</span>, <span class="number">0.06720854471592853</span>]</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.plot(train_history.history[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">plt.plot(train_history.history[<span class="string">&#x27;val_accuracy&#x27;</span>])</span><br><span class="line">​</span><br><span class="line">plt.title(<span class="string">&#x27;Train History&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Epoch&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Accuracy&#x27;</span>)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">plt.plot(train_history.history[<span class="string">&#x27;loss&#x27;</span>])</span><br><span class="line">plt.plot(train_history.history[<span class="string">&#x27;val_loss&#x27;</span>])</span><br><span class="line">​</span><br><span class="line">plt.title(<span class="string">&#x27;Train History&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Epoch&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Loss&#x27;</span>)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_train_history</span>(<span class="params">history, train, validation</span>):</span></span><br><span class="line">    plt.plot(train_history.history[train])</span><br><span class="line">    plt.plot(train_history.history[validation])</span><br><span class="line">    plt.title(<span class="string">&#x27;Train History&#x27;</span>)</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Epoch&#x27;</span>)</span><br><span class="line">    plt.ylabel(train)</span><br><span class="line">    plt.legend([<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;validation&#x27;</span>], loc=<span class="string">&#x27;upper left&#x27;</span>) </span><br><span class="line">    plt.show()</span><br><span class="line">show_train_history(train_history, <span class="string">&#x27;accuracy&#x27;</span>, <span class="string">&#x27;val_accuracy&#x27;</span>)</span><br><span class="line"></span><br><span class="line">show_train_history(train_history, <span class="string">&#x27;loss&#x27;</span>, <span class="string">&#x27;val_loss&#x27;</span>)</span><br><span class="line"></span><br><span class="line">利用<span class="number">10000</span>项测试数据评估模型的准确率</span><br><span class="line"></span><br><span class="line">scores = model.evaluate(test_image_normalize, test_label_onehotencoding)</span><br><span class="line"><span class="built_in">print</span>(scores)</span><br><span class="line"><span class="number">10000</span>/<span class="number">10000</span> [==============================] - 1s 69us/step</span><br><span class="line">[<span class="number">0.05551576375046279</span>, <span class="number">0.982200026512146</span>]</span><br></pre></td></tr></table></figure>

<h3 id="29-MNIST-两个隐藏层"><a href="#29-MNIST-两个隐藏层" class="headerlink" title="29_MNIST_两个隐藏层"></a>29_MNIST_两个隐藏层</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">下载（加载）MNIST数据集并查看MNIST数据集的内容</span><br><span class="line"></span><br><span class="line">import numpy as np</span><br><span class="line">from keras.utils import np_utils</span><br><span class="line">import pandas as pd</span><br><span class="line">Using TensorFlow backend.</span><br><span class="line">from keras.datasets import mnist</span><br><span class="line">#下载MNIST数据集, 返回训练部分和测试部分，又分为特征和标签，对于当前应用特征就是图片</span><br><span class="line">(train_image, train_label), (test_image, test_label) = mnist.load_data()</span><br><span class="line">#查看一下训练数据和测试数据的大小， 训练数据：60000项      ，测试数据：10000项</span><br><span class="line">print(&#x27;train_data = &#x27;, len(train_image))</span><br><span class="line">print(&#x27;test_data = &#x27;, len(test_image))</span><br><span class="line">train_data =  60000</span><br><span class="line">test_data =  10000</span><br><span class="line">train_image[0]</span><br><span class="line">array([[  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   3,</span><br><span class="line">         18,  18,  18, 126, 136, 175,  26, 166, 255, 247, 127,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,  30,  36,  94, 154, 170,</span><br><span class="line">        253, 253, 253, 253, 253, 225, 172, 253, 242, 195,  64,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,  49, 238, 253, 253, 253, 253,</span><br><span class="line">        253, 253, 253, 253, 251,  93,  82,  82,  56,  39,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,  18, 219, 253, 253, 253, 253,</span><br><span class="line">        253, 198, 182, 247, 241,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,  80, 156, 107, 253, 253,</span><br><span class="line">        205,  11,   0,  43, 154,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,  14,   1, 154, 253,</span><br><span class="line">         90,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 139, 253,</span><br><span class="line">        190,   2,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  11, 190,</span><br><span class="line">        253,  70,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  35,</span><br><span class="line">        241, 225, 160, 108,   1,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">         81, 240, 253, 253, 119,  25,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,  45, 186, 253, 253, 150,  27,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,  16,  93, 252, 253, 187,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0, 249, 253, 249,  64,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,  46, 130, 183, 253, 253, 207,   2,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  39,</span><br><span class="line">        148, 229, 253, 253, 253, 250, 182,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  24, 114, 221,</span><br><span class="line">        253, 253, 253, 253, 201,  78,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,  23,  66, 213, 253, 253,</span><br><span class="line">        253, 253, 198,  81,   2,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,  18, 171, 219, 253, 253, 253, 253,</span><br><span class="line">        195,  80,   9,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,  55, 172, 226, 253, 253, 253, 253, 244, 133,</span><br><span class="line">         11,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0, 136, 253, 253, 253, 212, 135, 132,  16,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0],</span><br><span class="line">       [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,</span><br><span class="line">          0,   0]], dtype=uint8)</span><br><span class="line">#查看图片的样式,图片是28*28分辨率的，标签是60000项数据</span><br><span class="line">print(&#x27;train_image = &#x27;, train_image.shape)</span><br><span class="line">print(&#x27;train_label = &#x27;, train_label.shape)</span><br><span class="line">train_image =  (60000, 28, 28)</span><br><span class="line">train_label =  (60000,)</span><br><span class="line">#编写一个函数查看数据集中的图片</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">def show_mist_image(image):</span><br><span class="line">    plt.imshow(image, cmap=&#x27;gray&#x27;)</span><br><span class="line">    plt.show()</span><br><span class="line">show_mist_image(train_image[0])</span><br><span class="line"></span><br><span class="line">#查看train_image[0]这张图片所对应的标签</span><br><span class="line">train_label[0]</span><br><span class="line">5</span><br><span class="line">数据预处理</span><br><span class="line"></span><br><span class="line">train_image_matric = train_image.reshape(60000, 784).astype(float)</span><br><span class="line">test_image_matric = test_image.reshape(10000, 784).astype(float)</span><br><span class="line">#查看修改后的图片</span><br><span class="line">print(&#x27;train_image_matric = &#x27;, train_image_matric.shape)</span><br><span class="line">print(&#x27;test_image_matric = &#x27;, test_image_matric.shape)</span><br><span class="line">train_image_matric =  (60000, 784)</span><br><span class="line">test_image_matric =  (10000, 784)</span><br><span class="line">train_image_matric[0]</span><br><span class="line">array([  0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   3.,  18.,</span><br><span class="line">        18.,  18., 126., 136., 175.,  26., 166., 255., 247., 127.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">        30.,  36.,  94., 154., 170., 253., 253., 253., 253., 253., 225.,</span><br><span class="line">       172., 253., 242., 195.,  64.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,  49., 238., 253., 253., 253., 253.,</span><br><span class="line">       253., 253., 253., 253., 251.,  93.,  82.,  82.,  56.,  39.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">        18., 219., 253., 253., 253., 253., 253., 198., 182., 247., 241.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,  80., 156., 107., 253.,</span><br><span class="line">       253., 205.,  11.,   0.,  43., 154.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,  14.,   1., 154., 253.,  90.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">       139., 253., 190.,   2.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,  11., 190., 253.,  70.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,  35., 241., 225., 160., 108.,   1.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,  81., 240.,</span><br><span class="line">       253., 253., 119.,  25.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,  45., 186., 253., 253., 150.,  27.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,  16.,  93., 252., 253., 187.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0., 249., 253.,</span><br><span class="line">       249.,  64.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,  46., 130., 183., 253., 253., 207.,   2.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,  39., 148., 229., 253., 253., 253.,</span><br><span class="line">       250., 182.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,  24., 114.,</span><br><span class="line">       221., 253., 253., 253., 253., 201.,  78.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,  23.,  66., 213., 253., 253., 253., 253., 198.,  81.,</span><br><span class="line">         2.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,  18., 171., 219., 253., 253.,</span><br><span class="line">       253., 253., 195.,  80.,   9.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,  55.,</span><br><span class="line">       172., 226., 253., 253., 253., 253., 244., 133.,  11.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0., 136., 253., 253., 253., 212., 135.,</span><br><span class="line">       132.,  16.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.,</span><br><span class="line">         0.,   0.,   0.])</span><br><span class="line">#还需要进行数据集的标准化，归一化处理，去除量纲的影响，让所有的数据都落到0-1之间</span><br><span class="line">train_image_normalize = train_image_matric/255</span><br><span class="line">test_image_normalize = test_image_matric/255</span><br><span class="line">train_image_normalize[0]</span><br><span class="line">array([0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.01176471, 0.07058824, 0.07058824,</span><br><span class="line">       0.07058824, 0.49411765, 0.53333333, 0.68627451, 0.10196078,</span><br><span class="line">       0.65098039, 1.        , 0.96862745, 0.49803922, 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.11764706, 0.14117647, 0.36862745, 0.60392157,</span><br><span class="line">       0.66666667, 0.99215686, 0.99215686, 0.99215686, 0.99215686,</span><br><span class="line">       0.99215686, 0.88235294, 0.6745098 , 0.99215686, 0.94901961,</span><br><span class="line">       0.76470588, 0.25098039, 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.19215686, 0.93333333,</span><br><span class="line">       0.99215686, 0.99215686, 0.99215686, 0.99215686, 0.99215686,</span><br><span class="line">       0.99215686, 0.99215686, 0.99215686, 0.98431373, 0.36470588,</span><br><span class="line">       0.32156863, 0.32156863, 0.21960784, 0.15294118, 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.07058824, 0.85882353, 0.99215686, 0.99215686,</span><br><span class="line">       0.99215686, 0.99215686, 0.99215686, 0.77647059, 0.71372549,</span><br><span class="line">       0.96862745, 0.94509804, 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.31372549, 0.61176471, 0.41960784, 0.99215686, 0.99215686,</span><br><span class="line">       0.80392157, 0.04313725, 0.        , 0.16862745, 0.60392157,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.05490196,</span><br><span class="line">       0.00392157, 0.60392157, 0.99215686, 0.35294118, 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.54509804,</span><br><span class="line">       0.99215686, 0.74509804, 0.00784314, 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.04313725, 0.74509804, 0.99215686,</span><br><span class="line">       0.2745098 , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.1372549 , 0.94509804, 0.88235294, 0.62745098,</span><br><span class="line">       0.42352941, 0.00392157, 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.31764706, 0.94117647, 0.99215686, 0.99215686, 0.46666667,</span><br><span class="line">       0.09803922, 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.17647059,</span><br><span class="line">       0.72941176, 0.99215686, 0.99215686, 0.58823529, 0.10588235,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.0627451 , 0.36470588,</span><br><span class="line">       0.98823529, 0.99215686, 0.73333333, 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.97647059, 0.99215686,</span><br><span class="line">       0.97647059, 0.25098039, 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.18039216, 0.50980392,</span><br><span class="line">       0.71764706, 0.99215686, 0.99215686, 0.81176471, 0.00784314,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.15294118,</span><br><span class="line">       0.58039216, 0.89803922, 0.99215686, 0.99215686, 0.99215686,</span><br><span class="line">       0.98039216, 0.71372549, 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.09411765, 0.44705882, 0.86666667, 0.99215686, 0.99215686,</span><br><span class="line">       0.99215686, 0.99215686, 0.78823529, 0.30588235, 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.09019608, 0.25882353, 0.83529412, 0.99215686,</span><br><span class="line">       0.99215686, 0.99215686, 0.99215686, 0.77647059, 0.31764706,</span><br><span class="line">       0.00784314, 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.07058824, 0.67058824, 0.85882353,</span><br><span class="line">       0.99215686, 0.99215686, 0.99215686, 0.99215686, 0.76470588,</span><br><span class="line">       0.31372549, 0.03529412, 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.21568627, 0.6745098 ,</span><br><span class="line">       0.88627451, 0.99215686, 0.99215686, 0.99215686, 0.99215686,</span><br><span class="line">       0.95686275, 0.52156863, 0.04313725, 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.53333333, 0.99215686, 0.99215686, 0.99215686,</span><br><span class="line">       0.83137255, 0.52941176, 0.51764706, 0.0627451 , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        , 0.        ,</span><br><span class="line">       0.        , 0.        , 0.        , 0.        ])</span><br><span class="line">#使用一位有效编码来处理标签</span><br><span class="line">train_label_onehotencoding = np_utils.to_categorical(train_label)</span><br><span class="line">test_label_onehotencoding = np_utils.to_categorical(test_label)</span><br><span class="line">train_label_onehotencoding[0]</span><br><span class="line">array([0., 0., 0., 0., 0., 1., 0., 0., 0., 0.], dtype=float32)</span><br><span class="line">建立MLP多层感知器模型</span><br><span class="line"></span><br><span class="line">from keras.models import Sequential</span><br><span class="line">from keras.layers import Dense</span><br><span class="line">from keras.layers import Dropout</span><br><span class="line">model = Sequential()   #建立一个线性堆叠的神经网络模型</span><br><span class="line">建立输入层和隐藏层之间的关系</span><br><span class="line"></span><br><span class="line">#Dense函数：units:1000隐藏层中神经单元的个数, input_dim=输入层神经单元的个数, normal:正态分布的方式产生权重和偏差随机数</span><br><span class="line">#激活函数relu</span><br><span class="line">model.add(Dense(units = 1000, input_dim = 784, kernel_initializer = &#x27;normal&#x27;, activation = &#x27;relu&#x27;))</span><br><span class="line">model.add(Dropout(0.5))     #增加Dropout功能，进一步降低过度拟合</span><br><span class="line">model.add(Dense(units = 1000, kernel_initializer = &#x27;normal&#x27;, activation = &#x27;relu&#x27;))</span><br><span class="line">model.add(Dropout(0.5))     #增加Dropout功能，进一步降低过度拟合</span><br><span class="line">建立隐藏层和输出层之间的关系</span><br><span class="line"></span><br><span class="line">model.add(Dense(units=10, kernel_initializer = &#x27;normal&#x27;, activation = &#x27;softmax&#x27;))</span><br><span class="line">#查看当前神经网络模型,每一层神经单元关联数：上一层神经单元个数*本层神经单元个数+本层神经单元个数</span><br><span class="line">print(model.summary())</span><br><span class="line">Model: &quot;sequential_1&quot;</span><br><span class="line">_________________________________________________________________</span><br><span class="line">Layer (type)                 Output Shape              Param #   </span><br><span class="line">=================================================================</span><br><span class="line">dense_1 (Dense)              (None, 1000)              785000    </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dropout_1 (Dropout)          (None, 1000)              0         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dense_2 (Dense)              (None, 1000)              1001000   </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dropout_2 (Dropout)          (None, 1000)              0         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dense_3 (Dense)              (None, 10)                10010     </span><br><span class="line">=================================================================</span><br><span class="line">Total params: 1,796,010</span><br><span class="line">Trainable params: 1,796,010</span><br><span class="line">Non-trainable params: 0</span><br><span class="line">_________________________________________________________________</span><br><span class="line">None</span><br><span class="line">进行训练</span><br><span class="line"></span><br><span class="line">#配置训练模型  loss:损失函数   optimizer:优化器，通过优化让训练的结果能够更快的收敛</span><br><span class="line">model.compile(loss=&#x27;categorical_crossentropy&#x27;, optimizer=&#x27;adam&#x27;, metrics = [&#x27;accuracy&#x27;])</span><br><span class="line">#train_image_normalize:训练数据    train_label_onehotencoding:训练标签</span><br><span class="line">#validation_split:取出一定比例的数据用于验证    epohs:训练次数  batch_size：每次训练取出多少数据用于训练    verbose：表示训练过程</span><br><span class="line">train_history = model.fit(train_image_normalize, train_label_onehotencoding, validation_split = 0.2, epochs = 10, batch_size = 200, verbose = 2)</span><br><span class="line">Train on 48000 samples, validate on 12000 samples</span><br><span class="line">Epoch 1/10</span><br><span class="line"> - 13s - loss: 0.3691 - accuracy: 0.8847 - val_loss: 0.1330 - val_accuracy: 0.9597</span><br><span class="line">Epoch 2/10</span><br><span class="line"> - 10s - loss: 0.1624 - accuracy: 0.9495 - val_loss: 0.0982 - val_accuracy: 0.9702</span><br><span class="line">Epoch 3/10</span><br><span class="line"> - 10s - loss: 0.1184 - accuracy: 0.9630 - val_loss: 0.0871 - val_accuracy: 0.9729</span><br><span class="line">Epoch 4/10</span><br><span class="line"> - 10s - loss: 0.0980 - accuracy: 0.9697 - val_loss: 0.0938 - val_accuracy: 0.9704</span><br><span class="line">Epoch 5/10</span><br><span class="line"> - 10s - loss: 0.0862 - accuracy: 0.9731 - val_loss: 0.0820 - val_accuracy: 0.9752</span><br><span class="line">Epoch 6/10</span><br><span class="line"> - 10s - loss: 0.0721 - accuracy: 0.9767 - val_loss: 0.0751 - val_accuracy: 0.9785</span><br><span class="line">Epoch 7/10</span><br><span class="line"> - 10s - loss: 0.0668 - accuracy: 0.9794 - val_loss: 0.0768 - val_accuracy: 0.9775</span><br><span class="line">Epoch 8/10</span><br><span class="line"> - 10s - loss: 0.0582 - accuracy: 0.9813 - val_loss: 0.0725 - val_accuracy: 0.9808</span><br><span class="line">Epoch 9/10</span><br><span class="line"> - 11s - loss: 0.0563 - accuracy: 0.9819 - val_loss: 0.0803 - val_accuracy: 0.9782</span><br><span class="line">Epoch 10/10</span><br><span class="line"> - 11s - loss: 0.0524 - accuracy: 0.9827 - val_loss: 0.0751 - val_accuracy: 0.9786</span><br><span class="line">print(train_history.history[&#x27;accuracy&#x27;])</span><br><span class="line">print(&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;)</span><br><span class="line">print(train_history.history[&#x27;val_accuracy&#x27;])</span><br><span class="line">print(&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;)</span><br><span class="line">print(train_history.history[&#x27;loss&#x27;])</span><br><span class="line">print(&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;)</span><br><span class="line">print(train_history.history[&#x27;val_loss&#x27;])</span><br><span class="line">[0.88470834, 0.9495, 0.963, 0.96966666, 0.973125, 0.97672915, 0.97941667, 0.98129165, 0.9818958, 0.98272914]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[0.9596666693687439, 0.9701666831970215, 0.9729166626930237, 0.9704166650772095, 0.9751666784286499, 0.9785000085830688, 0.9775000214576721, 0.9808333516120911, 0.9781666398048401, 0.9785833358764648]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[0.3691203469410539, 0.16235420030231276, 0.11842496466512481, 0.09801164977252483, 0.08622354497977842, 0.07213023100048303, 0.06679087155110514, 0.058155380464935055, 0.05630328214416901, 0.05244226147575925]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[0.13296340573579074, 0.09821754700193802, 0.08713618594532212, 0.09380896602912496, 0.08196802651121592, 0.07508297186383667, 0.07684503272951891, 0.07254119461479908, 0.08033314784018633, 0.07514431906359581]</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">plt.plot(train_history.history[&#x27;accuracy&#x27;])</span><br><span class="line">plt.plot(train_history.history[&#x27;val_accuracy&#x27;])</span><br><span class="line">​</span><br><span class="line">plt.title(&#x27;Train History&#x27;)</span><br><span class="line">plt.xlabel(&#x27;Epoch&#x27;)</span><br><span class="line">plt.ylabel(&#x27;Accuracy&#x27;)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">plt.plot(train_history.history[&#x27;loss&#x27;])</span><br><span class="line">plt.plot(train_history.history[&#x27;val_loss&#x27;])</span><br><span class="line">​</span><br><span class="line">plt.title(&#x27;Train History&#x27;)</span><br><span class="line">plt.xlabel(&#x27;Epoch&#x27;)</span><br><span class="line">plt.ylabel(&#x27;Loss&#x27;)</span><br><span class="line">​</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">def show_train_history(history, train, validation):</span><br><span class="line">    plt.plot(train_history.history[train])</span><br><span class="line">    plt.plot(train_history.history[validation])</span><br><span class="line">    plt.title(&#x27;Train History&#x27;)</span><br><span class="line">    plt.xlabel(&#x27;Epoch&#x27;)</span><br><span class="line">    plt.ylabel(train)</span><br><span class="line">    plt.legend([&#x27;train&#x27;, &#x27;validation&#x27;], loc=&#x27;upper left&#x27;) </span><br><span class="line">    plt.show()</span><br><span class="line">show_train_history(train_history, &#x27;accuracy&#x27;, &#x27;val_accuracy&#x27;)</span><br><span class="line"></span><br><span class="line">show_train_history(train_history, &#x27;loss&#x27;, &#x27;val_loss&#x27;)</span><br><span class="line"></span><br><span class="line">利用10000项测试数据评估模型的准确率</span><br><span class="line"></span><br><span class="line">scores = model.evaluate(test_image_normalize, test_label_onehotencoding)</span><br><span class="line">print(scores)</span><br><span class="line">10000/10000 [==============================] - 1s 123us/step</span><br><span class="line">[0.06339676275637902, 0.9822999835014343]</span><br><span class="line">​</span><br></pre></td></tr></table></figure>



<p>7.深度学习：训练准确率，验证准确率  </p>
<h1 id="Tensorflow"><a href="#Tensorflow" class="headerlink" title="Tensorflow"></a>Tensorflow</h1><p>张量，数据，矩阵，数据流，计算图</p>
<p>分布式 </p>
<p>Keras: 简单，使用弹性中等，初学者，张量运算 不需自行设计，性能高</p>
<p>Tensorflow: 比较困难，使用弹性高，高级用户， 张量运算  需自行设计，性能高</p>
<p><strong>MNIST</strong>:手写数据集分为训练数据和测试数据</p>
<p>训练数据：训练特征（图片，数据）和训练标签（）</p>
<p>测试数据：测试特征和测试标签</p>
<p>（1）下载查看数据集</p>
<p>（2）数据预处理（若自制数据集=&gt;下载图片，一张张筛选处理，裁剪打标签，归一化处理）</p>
<p>（3）模型</p>
<p>（4）带入模型中进行训练</p>
<p>（5）准确率</p>
<p>（6）测试数据评估模型</p>
<p>归一化处理：一位有效编码：0-9</p>
<p>0：1000000000</p>
<p>1：0100000000</p>
<p>2：0010000000</p>
<p>3：0001000000</p>
<p>4：0000100000</p>
<p>5：0000010000</p>
<p>6：0000001000</p>
<p>7：0000000100</p>
<p>8：0000000010</p>
<p>9：0000000001</p>
<p>输出的结果为10种情况</p>
<p>模型–&gt;生成计算–&gt;模型–&gt;应用加载模型–&gt;预测</p>
<h1 id="MLP：多层感知器模型"><a href="#MLP：多层感知器模型" class="headerlink" title="MLP：多层感知器模型"></a>MLP：多层感知器模型</h1><p>输入层   784=28*28   </p>
<p>​               h1=（输入层和隐藏层之间的关系）激活（x✖w1+b1）(权重+偏差)</p>
<p>​               激活函数Relu </p>
<p>隐藏层（神经单元个数）：多少个隐藏层，多少个隐藏单元</p>
<p>输出层     y=激活(h1w2+b2)</p>
<p>​                 激活函数Soft max</p>
<p>权重W与偏差：数学模型随机产生，正态分布，高斯分布</p>
<h1 id="CNN-卷积神经网络"><a href="#CNN-卷积神经网络" class="headerlink" title="CNN:卷积神经网络"></a>CNN:卷积神经网络</h1><p>卷积层：covn</p>
<p>​                原理：卷积运算     filter:滤镜  3*3矩阵，选取的矩阵要和filter乘积</p>
<p>​                （1）卷积运算不改变图片大小</p>
<p>​                （2）当有多个滤镜，一张图片变为多张图片</p>
<p>​                （3）池化运算   Max-Pool:最大池  4 *<em>4变为 2</em> *2，说明池化不改变图片数量，但改变图片的尺寸</p>
<p>​                   作用：增加图片数量，但不改变图片大小</p>
<p>池化层：不改变图片的数量，缩小图片</p>
<p>卷+池：增加输入层神经单元的个数（过度拟合，准确率）</p>
<p>平坦层</p>
<p>隐藏层</p>
<h3 id="30-MNIST-CNN"><a href="#30-MNIST-CNN" class="headerlink" title="30_MNIST_CNN"></a>30_MNIST_CNN</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> keras.utils <span class="keyword">import</span> np_utils</span><br><span class="line"><span class="keyword">from</span> keras.datasets <span class="keyword">import</span> mnist</span><br><span class="line">(train_image, train_label),(test_image, test_label) = mnist.load_data()</span><br><span class="line">数据预处理</span><br><span class="line"></span><br><span class="line">train_image_4D = train_image.reshape(<span class="number">60000</span>, <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>).astype(<span class="built_in">float</span>)    <span class="comment">#注意当前CNN和MLP对数据的第一步预处理差别，因CNN要进行卷积运算，需保持数组样式，不能同MLP一样转成一维数组784个元素</span></span><br><span class="line">test_image_4D = test_image.reshape(<span class="number">10000</span>, <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>).astype(<span class="built_in">float</span>)</span><br><span class="line"><span class="comment">#标准化处理</span></span><br><span class="line">train_image_4D_normalize = train_image_4D / <span class="number">255</span></span><br><span class="line">test_image_4D_normalize = test_image_4D / <span class="number">255</span></span><br><span class="line"><span class="comment">#使用一位有效编码来处理标签</span></span><br><span class="line">train_label_onehotencoding = np_utils.to_categorical(train_label)</span><br><span class="line">test_label_onehotencoding = np_utils.to_categorical(test_label)</span><br><span class="line">建立CNN卷积神经网络</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dropout</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Conv2D, MaxPooling2D, Flatten  <span class="comment">#分别对应卷积层，池化层和平坦层</span></span><br><span class="line">model = Sequential()</span><br><span class="line">添加卷积层<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#filters:滤镜个数    kernel_size：滤镜尺寸，越小越精细   padding=same表示不改变图片的大小   input_shape:输入图片的尺寸</span></span><br><span class="line">model.add(Conv2D(filters=<span class="number">16</span>, kernel_size=(<span class="number">5</span>,<span class="number">5</span>), padding=<span class="string">&#x27;same&#x27;</span>, input_shape=(<span class="number">28</span>,<span class="number">28</span>,<span class="number">1</span>), activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">添加池化层<span class="number">1</span></span><br><span class="line"></span><br><span class="line">model.add(MaxPooling2D(pool_size = (<span class="number">2</span>,<span class="number">2</span>)))  <span class="comment">#将28*28的图片缩减一半变为14*14</span></span><br><span class="line">添加卷积层<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#filters:滤镜个数    kernel_size：滤镜尺寸，越小越精细   padding=same表示不改变图片的大小   input_shape:输入图片的尺寸</span></span><br><span class="line">model.add(Conv2D(filters=<span class="number">36</span>, kernel_size=(<span class="number">5</span>,<span class="number">5</span>), padding=<span class="string">&#x27;same&#x27;</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">添加池化层<span class="number">2</span></span><br><span class="line"></span><br><span class="line">model.add(MaxPooling2D(pool_size = (<span class="number">2</span>,<span class="number">2</span>)))  <span class="comment">#将28*28的图片缩减一半变为14*14</span></span><br><span class="line">model.add(Dropout(<span class="number">0.25</span>))</span><br><span class="line">添加平坦层</span><br><span class="line"></span><br><span class="line">model.add(Flatten())</span><br><span class="line">添加隐藏层</span><br><span class="line"></span><br><span class="line">model.add(Dense(units=<span class="number">128</span>, kernel_initializer=<span class="string">&#x27;normal&#x27;</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">model.add(Dropout(<span class="number">0.5</span>))</span><br><span class="line">建立隐藏层和输出层之间的关系</span><br><span class="line"></span><br><span class="line">model.add(Dense(units=<span class="number">10</span>, kernel_initializer=<span class="string">&#x27;normal&#x27;</span>, activation=<span class="string">&#x27;softmax&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(model.summary())</span><br><span class="line">Model: <span class="string">&quot;sequential_1&quot;</span></span><br><span class="line">_________________________________________________________________</span><br><span class="line">Layer (<span class="built_in">type</span>)                 Output Shape              Param <span class="comment">#   </span></span><br><span class="line">=================================================================</span><br><span class="line">conv2d_1 (Conv2D)            (<span class="literal">None</span>, <span class="number">28</span>, <span class="number">28</span>, <span class="number">16</span>)        <span class="number">416</span>       </span><br><span class="line">_________________________________________________________________</span><br><span class="line">max_pooling2d_1 (MaxPooling2 (<span class="literal">None</span>, <span class="number">14</span>, <span class="number">14</span>, <span class="number">16</span>)        <span class="number">0</span>         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">conv2d_2 (Conv2D)            (<span class="literal">None</span>, <span class="number">14</span>, <span class="number">14</span>, <span class="number">36</span>)        <span class="number">14436</span>     </span><br><span class="line">_________________________________________________________________</span><br><span class="line">max_pooling2d_2 (MaxPooling2 (<span class="literal">None</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">36</span>)          <span class="number">0</span>         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dropout_1 (Dropout)          (<span class="literal">None</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">36</span>)          <span class="number">0</span>         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">flatten_1 (Flatten)          (<span class="literal">None</span>, <span class="number">1764</span>)              <span class="number">0</span>         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dense_1 (Dense)              (<span class="literal">None</span>, <span class="number">128</span>)               <span class="number">225920</span>    </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dropout_2 (Dropout)          (<span class="literal">None</span>, <span class="number">128</span>)               <span class="number">0</span>         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dense_2 (Dense)              (<span class="literal">None</span>, <span class="number">10</span>)                <span class="number">1290</span>      </span><br><span class="line">=================================================================</span><br><span class="line">Total params: <span class="number">242</span>,062</span><br><span class="line">Trainable params: <span class="number">242</span>,062</span><br><span class="line">Non-trainable params: <span class="number">0</span></span><br><span class="line">_________________________________________________________________</span><br><span class="line"><span class="literal">None</span></span><br><span class="line"><span class="comment">#配置下训练模型  loss:损失函数   optimizer:优化器，通过优化让训练的结果能够更快的收敛</span></span><br><span class="line">model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;categorical_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">train_history = model.fit(train_image_4D_normalize, train_label_onehotencoding, validation_split = <span class="number">0.2</span>, epochs=<span class="number">10</span>, batch_size=<span class="number">200</span>, verbose=<span class="number">2</span>)</span><br><span class="line">Train on <span class="number">48000</span> samples, validate on <span class="number">12000</span> samples</span><br><span class="line">Epoch <span class="number">1</span>/<span class="number">10</span></span><br><span class="line"> - 23s - loss: <span class="number">0.4924</span> - accuracy: <span class="number">0.8441</span> - val_loss: <span class="number">0.1030</span> - val_accuracy: <span class="number">0.9683</span></span><br><span class="line">Epoch <span class="number">2</span>/<span class="number">10</span></span><br><span class="line"> - 24s - loss: <span class="number">0.1407</span> - accuracy: <span class="number">0.9583</span> - val_loss: <span class="number">0.0674</span> - val_accuracy: <span class="number">0.9797</span></span><br><span class="line">Epoch <span class="number">3</span>/<span class="number">10</span></span><br><span class="line"> - 24s - loss: <span class="number">0.1045</span> - accuracy: <span class="number">0.9694</span> - val_loss: <span class="number">0.0505</span> - val_accuracy: <span class="number">0.9854</span></span><br><span class="line">Epoch <span class="number">4</span>/<span class="number">10</span></span><br><span class="line"> - 24s - loss: <span class="number">0.0863</span> - accuracy: <span class="number">0.9749</span> - val_loss: <span class="number">0.0476</span> - val_accuracy: <span class="number">0.9862</span></span><br><span class="line">Epoch <span class="number">5</span>/<span class="number">10</span></span><br><span class="line"> - 24s - loss: <span class="number">0.0738</span> - accuracy: <span class="number">0.9780</span> - val_loss: <span class="number">0.0442</span> - val_accuracy: <span class="number">0.9877</span></span><br><span class="line">Epoch <span class="number">6</span>/<span class="number">10</span></span><br><span class="line"> - 24s - loss: <span class="number">0.0640</span> - accuracy: <span class="number">0.9807</span> - val_loss: <span class="number">0.0392</span> - val_accuracy: <span class="number">0.9891</span></span><br><span class="line">Epoch <span class="number">7</span>/<span class="number">10</span></span><br><span class="line"> - 24s - loss: <span class="number">0.0566</span> - accuracy: <span class="number">0.9824</span> - val_loss: <span class="number">0.0410</span> - val_accuracy: <span class="number">0.9886</span></span><br><span class="line">Epoch <span class="number">8</span>/<span class="number">10</span></span><br><span class="line"> - 24s - loss: <span class="number">0.0549</span> - accuracy: <span class="number">0.9834</span> - val_loss: <span class="number">0.0358</span> - val_accuracy: <span class="number">0.9902</span></span><br><span class="line">Epoch <span class="number">9</span>/<span class="number">10</span></span><br><span class="line"> - 24s - loss: <span class="number">0.0466</span> - accuracy: <span class="number">0.9856</span> - val_loss: <span class="number">0.0367</span> - val_accuracy: <span class="number">0.9899</span></span><br><span class="line">Epoch <span class="number">10</span>/<span class="number">10</span></span><br><span class="line"> - 24s - loss: <span class="number">0.0458</span> - accuracy: <span class="number">0.9854</span> - val_loss: <span class="number">0.0352</span> - val_accuracy: <span class="number">0.9897</span></span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-------------------------------------------------------------------------------------------------------------------------------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;val_accuracy&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;loss&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------------------------------------------------------------------------------------------------------------------------------------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(train_history.history[<span class="string">&#x27;val_loss&#x27;</span>])</span><br><span class="line">[<span class="number">0.84414583</span>, <span class="number">0.95827085</span>, <span class="number">0.96935415</span>, <span class="number">0.97489583</span>, <span class="number">0.97802085</span>, <span class="number">0.98072916</span>, <span class="number">0.98235416</span>, <span class="number">0.98335415</span>, <span class="number">0.9855833</span>, <span class="number">0.98541665</span>]</span><br><span class="line">-------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[<span class="number">0.9683333039283752</span>, <span class="number">0.9797499775886536</span>, <span class="number">0.9854166507720947</span>, <span class="number">0.9862499833106995</span>, <span class="number">0.987666666507721</span>, <span class="number">0.9890833497047424</span>, <span class="number">0.9885833263397217</span>, <span class="number">0.9901666641235352</span>, <span class="number">0.9899166822433472</span>, <span class="number">0.9896666407585144</span>]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[<span class="number">0.49238919985170165</span>, <span class="number">0.14069270904486378</span>, <span class="number">0.10453246827237309</span>, <span class="number">0.0862831330159679</span>, <span class="number">0.07382818462792784</span>, <span class="number">0.06395281282408784</span>, <span class="number">0.056605108493628604</span>, <span class="number">0.05494038752124955</span>, <span class="number">0.046637334569823</span>, <span class="number">0.04580491053056903</span>]</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">[<span class="number">0.10300220577046275</span>, <span class="number">0.06740516602294519</span>, <span class="number">0.05053460423562986</span>, <span class="number">0.04757353491634907</span>, <span class="number">0.04419845728843939</span>, <span class="number">0.03917652680247556</span>, <span class="number">0.040957953243196246</span>, <span class="number">0.03580923624710219</span>, <span class="number">0.03667448840593958</span>, <span class="number">0.03515599565944285</span>]</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_train_history</span>(<span class="params">history, train, validation</span>):</span></span><br><span class="line">    plt.plot(history.history[train])</span><br><span class="line">    plt.plot(train_history.history[validation])</span><br><span class="line">    plt.title(<span class="string">&#x27;Train History&#x27;</span>)</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Epoch&#x27;</span>)</span><br><span class="line">    plt.ylabel(train)</span><br><span class="line">    plt.legend([<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;validation&#x27;</span>], loc = <span class="string">&#x27;upper left&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line">show_train_history(train_history, <span class="string">&#x27;accuracy&#x27;</span>, <span class="string">&#x27;val_accuracy&#x27;</span>)</span><br><span class="line"></span><br><span class="line">show_train_history(train_history, <span class="string">&#x27;loss&#x27;</span>, <span class="string">&#x27;val_loss&#x27;</span>)</span><br><span class="line"></span><br><span class="line">利用<span class="number">10000</span>项测试数据评估下模型的准确率</span><br><span class="line"></span><br><span class="line">score = model.evaluate(test_image_4D_normalize, test_label_onehotencoding)</span><br><span class="line"><span class="built_in">print</span>(score)</span><br><span class="line"><span class="number">10000</span>/<span class="number">10000</span> [==============================] - 1s 125us/step</span><br><span class="line">[<span class="number">0.026555852812049124</span>, <span class="number">0.9915000200271606</span>]</span><br><span class="line">可以看出卷积神经网络CNN比多层感知模型MLP要优秀，不但准确率提升明显，而且过度拟合的问题也被有效抑制了</span><br><span class="line"></span><br><span class="line">导出训练模型</span><br><span class="line"></span><br><span class="line">model.save(<span class="string">&#x27;CNN_MNIST_model.h5&#x27;</span>)</span><br><span class="line">​</span><br></pre></td></tr></table></figure>

<h3 id="31-CNN-number-predict"><a href="#31-CNN-number-predict" class="headerlink" title="31_CNN_number_predict"></a>31_CNN_number_predict</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> load_model</span><br><span class="line">my_model = load_model(<span class="string">&#x27;CNN_MNIST_model.h5&#x27;</span>)</span><br><span class="line">img = Image.<span class="built_in">open</span>(<span class="string">&#x27;127.bmp&#x27;</span>)</span><br><span class="line">number_data = img.getdata()</span><br><span class="line">number_data_array = np.array(number_data)</span><br><span class="line">number_data_array = number_data_array.reshape(<span class="number">1</span>, <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>).astype(<span class="built_in">float</span>)</span><br><span class="line">number_data_normalize = number_data_array / <span class="number">255</span>   <span class="comment">#number_data_normalize就是最终我们要带入到深度学习模型中进行预处理</span></span><br><span class="line">prediction = my_model.predict(number_data_normalize)</span><br><span class="line">np.argmax(prediction)</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>

<h3 id="32-CIFAR-10"><a href="#32-CIFAR-10" class="headerlink" title="32_CIFAR-10"></a>32_CIFAR-10</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span>:airplane <span class="number">1</span>:automobile <span class="number">2</span>:bird <span class="number">3</span>:cat <span class="number">4</span>:deer <span class="number">5</span>:dog <span class="number">6</span>:frog <span class="number">7</span>:house <span class="number">8</span>:ship <span class="number">9</span>:truck</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> keras.datasets <span class="keyword">import</span> cifar10</span><br><span class="line">Using TensorFlow backend.</span><br><span class="line">(train_image, train_label), (test_image, test_label) = cifar10.load_data()</span><br><span class="line">Downloading data <span class="keyword">from</span> https://www.cs.toronto.edu/~kriz/cifar-<span class="number">10</span>-python.tar.gz</span><br><span class="line"><span class="number">170500096</span>/<span class="number">170498071</span> [==============================] - 880s 5us/step</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;train = &#x27;</span>, <span class="built_in">len</span>(train_image))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;test = &#x27;</span>, <span class="built_in">len</span>(test_image))</span><br><span class="line">train =  <span class="number">50000</span></span><br><span class="line">test =  <span class="number">10000</span></span><br><span class="line">train_image.shape</span><br><span class="line">(<span class="number">50000</span>, <span class="number">32</span>, <span class="number">32</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_cifar10_image</span>(<span class="params">image</span>):</span></span><br><span class="line">    plt.imshow(image)</span><br><span class="line">    plt.show()</span><br><span class="line">show_cifar10_image(train_image[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">train_image[<span class="number">0</span>]</span><br><span class="line">array([[[ <span class="number">59</span>,  <span class="number">62</span>,  <span class="number">63</span>],</span><br><span class="line">        [ <span class="number">43</span>,  <span class="number">46</span>,  <span class="number">45</span>],</span><br><span class="line">        [ <span class="number">50</span>,  <span class="number">48</span>,  <span class="number">43</span>],</span><br><span class="line">        ...,</span><br><span class="line">        [<span class="number">158</span>, <span class="number">132</span>, <span class="number">108</span>],</span><br><span class="line">        [<span class="number">152</span>, <span class="number">125</span>, <span class="number">102</span>],</span><br><span class="line">        [<span class="number">148</span>, <span class="number">124</span>, <span class="number">103</span>]],</span><br><span class="line"></span><br><span class="line">       [[ <span class="number">16</span>,  <span class="number">20</span>,  <span class="number">20</span>],</span><br><span class="line">        [  <span class="number">0</span>,   <span class="number">0</span>,   <span class="number">0</span>],</span><br><span class="line">        [ <span class="number">18</span>,   <span class="number">8</span>,   <span class="number">0</span>],</span><br><span class="line">        ...,</span><br><span class="line">        [<span class="number">123</span>,  <span class="number">88</span>,  <span class="number">55</span>],</span><br><span class="line">        [<span class="number">119</span>,  <span class="number">83</span>,  <span class="number">50</span>],</span><br><span class="line">        [<span class="number">122</span>,  <span class="number">87</span>,  <span class="number">57</span>]],</span><br><span class="line"></span><br><span class="line">       [[ <span class="number">25</span>,  <span class="number">24</span>,  <span class="number">21</span>],</span><br><span class="line">        [ <span class="number">16</span>,   <span class="number">7</span>,   <span class="number">0</span>],</span><br><span class="line">        [ <span class="number">49</span>,  <span class="number">27</span>,   <span class="number">8</span>],</span><br><span class="line">        ...,</span><br><span class="line">        [<span class="number">118</span>,  <span class="number">84</span>,  <span class="number">50</span>],</span><br><span class="line">        [<span class="number">120</span>,  <span class="number">84</span>,  <span class="number">50</span>],</span><br><span class="line">        [<span class="number">109</span>,  <span class="number">73</span>,  <span class="number">42</span>]],</span><br><span class="line"></span><br><span class="line">       ...,</span><br><span class="line"></span><br><span class="line">       [[<span class="number">208</span>, <span class="number">170</span>,  <span class="number">96</span>],</span><br><span class="line">        [<span class="number">201</span>, <span class="number">153</span>,  <span class="number">34</span>],</span><br><span class="line">        [<span class="number">198</span>, <span class="number">161</span>,  <span class="number">26</span>],</span><br><span class="line">        ...,</span><br><span class="line">        [<span class="number">160</span>, <span class="number">133</span>,  <span class="number">70</span>],</span><br><span class="line">        [ <span class="number">56</span>,  <span class="number">31</span>,   <span class="number">7</span>],</span><br><span class="line">        [ <span class="number">53</span>,  <span class="number">34</span>,  <span class="number">20</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">180</span>, <span class="number">139</span>,  <span class="number">96</span>],</span><br><span class="line">        [<span class="number">173</span>, <span class="number">123</span>,  <span class="number">42</span>],</span><br><span class="line">        [<span class="number">186</span>, <span class="number">144</span>,  <span class="number">30</span>],</span><br><span class="line">        ...,</span><br><span class="line">        [<span class="number">184</span>, <span class="number">148</span>,  <span class="number">94</span>],</span><br><span class="line">        [ <span class="number">97</span>,  <span class="number">62</span>,  <span class="number">34</span>],</span><br><span class="line">        [ <span class="number">83</span>,  <span class="number">53</span>,  <span class="number">34</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">177</span>, <span class="number">144</span>, <span class="number">116</span>],</span><br><span class="line">        [<span class="number">168</span>, <span class="number">129</span>,  <span class="number">94</span>],</span><br><span class="line">        [<span class="number">179</span>, <span class="number">142</span>,  <span class="number">87</span>],</span><br><span class="line">        ...,</span><br><span class="line">        [<span class="number">216</span>, <span class="number">184</span>, <span class="number">140</span>],</span><br><span class="line">        [<span class="number">151</span>, <span class="number">118</span>,  <span class="number">84</span>],</span><br><span class="line">        [<span class="number">123</span>,  <span class="number">92</span>,  <span class="number">72</span>]]], dtype=uint8)</span><br><span class="line">train_image[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">array([<span class="number">59</span>, <span class="number">62</span>, <span class="number">63</span>], dtype=uint8)</span><br><span class="line">train_label[<span class="number">0</span>]</span><br><span class="line">array([<span class="number">6</span>], dtype=uint8)</span><br><span class="line">train_image_normalize = train_image.reshape(<span class="number">50000</span>, <span class="number">32</span>, <span class="number">32</span>, <span class="number">3</span>).astype(<span class="built_in">float</span>) / <span class="number">255</span></span><br><span class="line">test_image_normalize = test_image.reshape(<span class="number">10000</span>, <span class="number">32</span>, <span class="number">32</span>, <span class="number">3</span>).astype(<span class="built_in">float</span>) / <span class="number">255</span></span><br><span class="line">train_image_normalize[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">array([<span class="number">0.23137255</span>, <span class="number">0.24313725</span>, <span class="number">0.24705882</span>])</span><br><span class="line">train_label[:<span class="number">5</span>]</span><br><span class="line">array([[<span class="number">6</span>],</span><br><span class="line">       [<span class="number">9</span>],</span><br><span class="line">       [<span class="number">9</span>],</span><br><span class="line">       [<span class="number">4</span>],</span><br><span class="line">       [<span class="number">1</span>]], dtype=uint8)</span><br><span class="line">show_cifar10_image(train_image[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">show_cifar10_image(train_image[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">show_cifar10_image(train_image[<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">show_cifar10_image(train_image[<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> keras.utils <span class="keyword">import</span> np_utils</span><br><span class="line">train_label_onehotencoding = np_utils.to_categorical(train_label)</span><br><span class="line">test_label_onehotencoding = np_utils.to_categorical(test_label)</span><br><span class="line">train_label.shape</span><br><span class="line">(<span class="number">50000</span>, <span class="number">1</span>)</span><br><span class="line">train_label_onehotencoding.shape</span><br><span class="line">(<span class="number">50000</span>, <span class="number">10</span>)</span><br><span class="line">train_label_onehotencoding[:<span class="number">5</span>]</span><br><span class="line">array([[<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>]], dtype=float32)</span><br><span class="line">建立卷积神经网络CNN并训练模型</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense, Dropout, Conv2D, MaxPooling2D, Flatten</span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(Conv2D(filters=<span class="number">32</span>, kernel_size=(<span class="number">3</span>,<span class="number">3</span>), padding=<span class="string">&#x27;same&#x27;</span>, input_shape=(<span class="number">32</span>, <span class="number">32</span>, <span class="number">3</span>), activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">model.add(MaxPooling2D(pool_size=(<span class="number">2</span>,<span class="number">2</span>)))</span><br><span class="line">model.add(Conv2D(filters=<span class="number">64</span>, kernel_size=(<span class="number">3</span>,<span class="number">3</span>), padding=<span class="string">&#x27;same&#x27;</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">model.add(MaxPooling2D(pool_size=(<span class="number">2</span>,<span class="number">2</span>)))</span><br><span class="line">model.add(Dropout(<span class="number">0.25</span>))</span><br><span class="line">model.add(Flatten())</span><br><span class="line">model.add(Dense(<span class="number">1024</span>, kernel_initializer=<span class="string">&#x27;normal&#x27;</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">model.add(Dropout(<span class="number">0.5</span>))</span><br><span class="line">model.add(Dense(units=<span class="number">10</span>, kernel_initializer=<span class="string">&#x27;normal&#x27;</span>, activation=<span class="string">&#x27;softmax&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(model.summary())</span><br><span class="line">Model: <span class="string">&quot;sequential_1&quot;</span></span><br><span class="line">_________________________________________________________________</span><br><span class="line">Layer (<span class="built_in">type</span>)                 Output Shape              Param <span class="comment">#   </span></span><br><span class="line">=================================================================</span><br><span class="line">conv2d_1 (Conv2D)            (<span class="literal">None</span>, <span class="number">32</span>, <span class="number">32</span>, <span class="number">32</span>)        <span class="number">896</span>       </span><br><span class="line">_________________________________________________________________</span><br><span class="line">max_pooling2d_1 (MaxPooling2 (<span class="literal">None</span>, <span class="number">16</span>, <span class="number">16</span>, <span class="number">32</span>)        <span class="number">0</span>         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">conv2d_2 (Conv2D)            (<span class="literal">None</span>, <span class="number">16</span>, <span class="number">16</span>, <span class="number">64</span>)        <span class="number">18496</span>     </span><br><span class="line">_________________________________________________________________</span><br><span class="line">max_pooling2d_2 (MaxPooling2 (<span class="literal">None</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">64</span>)          <span class="number">0</span>         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dropout_1 (Dropout)          (<span class="literal">None</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">64</span>)          <span class="number">0</span>         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">flatten_1 (Flatten)          (<span class="literal">None</span>, <span class="number">4096</span>)              <span class="number">0</span>         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dense_1 (Dense)              (<span class="literal">None</span>, <span class="number">1024</span>)              <span class="number">4195328</span>   </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dropout_2 (Dropout)          (<span class="literal">None</span>, <span class="number">1024</span>)              <span class="number">0</span>         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dense_2 (Dense)              (<span class="literal">None</span>, <span class="number">10</span>)                <span class="number">10250</span>     </span><br><span class="line">=================================================================</span><br><span class="line">Total params: <span class="number">4</span>,<span class="number">224</span>,<span class="number">970</span></span><br><span class="line">Trainable params: <span class="number">4</span>,<span class="number">224</span>,<span class="number">970</span></span><br><span class="line">Non-trainable params: <span class="number">0</span></span><br><span class="line">_________________________________________________________________</span><br><span class="line"><span class="literal">None</span></span><br><span class="line">model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;categorical_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">train_history = model.fit(train_image_normalize, train_label_onehotencoding, validation_split=<span class="number">0.2</span>, epochs=<span class="number">10</span>, batch_size=<span class="number">200</span>, verbose=<span class="number">2</span>)</span><br><span class="line">Train on <span class="number">40000</span> samples, validate on <span class="number">10000</span> samples</span><br><span class="line">Epoch <span class="number">1</span>/<span class="number">10</span></span><br><span class="line"> - 53s - loss: <span class="number">1.5849</span> - accuracy: <span class="number">0.4293</span> - val_loss: <span class="number">1.2402</span> - val_accuracy: <span class="number">0.5630</span></span><br><span class="line">Epoch <span class="number">2</span>/<span class="number">10</span></span><br><span class="line"> - 48s - loss: <span class="number">1.1818</span> - accuracy: <span class="number">0.5816</span> - val_loss: <span class="number">1.0620</span> - val_accuracy: <span class="number">0.6329</span></span><br><span class="line">Epoch <span class="number">3</span>/<span class="number">10</span></span><br><span class="line"> - 49s - loss: <span class="number">1.0167</span> - accuracy: <span class="number">0.6410</span> - val_loss: <span class="number">0.9629</span> - val_accuracy: <span class="number">0.6658</span></span><br><span class="line">Epoch <span class="number">4</span>/<span class="number">10</span></span><br><span class="line"> - 49s - loss: <span class="number">0.9114</span> - accuracy: <span class="number">0.6790</span> - val_loss: <span class="number">0.8954</span> - val_accuracy: <span class="number">0.6861</span></span><br><span class="line">Epoch <span class="number">5</span>/<span class="number">10</span></span><br><span class="line"> - 49s - loss: <span class="number">0.8294</span> - accuracy: <span class="number">0.7088</span> - val_loss: <span class="number">0.8477</span> - val_accuracy: <span class="number">0.7007</span></span><br><span class="line">Epoch <span class="number">6</span>/<span class="number">10</span></span><br><span class="line"> - 49s - loss: <span class="number">0.7618</span> - accuracy: <span class="number">0.7313</span> - val_loss: <span class="number">0.8173</span> - val_accuracy: <span class="number">0.7163</span></span><br><span class="line">Epoch <span class="number">7</span>/<span class="number">10</span></span><br><span class="line"> - 50s - loss: <span class="number">0.6971</span> - accuracy: <span class="number">0.7559</span> - val_loss: <span class="number">0.7860</span> - val_accuracy: <span class="number">0.7307</span></span><br><span class="line">Epoch <span class="number">8</span>/<span class="number">10</span></span><br><span class="line"> - 49s - loss: <span class="number">0.6350</span> - accuracy: <span class="number">0.7771</span> - val_loss: <span class="number">0.7673</span> - val_accuracy: <span class="number">0.7358</span></span><br><span class="line">Epoch <span class="number">9</span>/<span class="number">10</span></span><br><span class="line"> - 49s - loss: <span class="number">0.5744</span> - accuracy: <span class="number">0.7984</span> - val_loss: <span class="number">0.7592</span> - val_accuracy: <span class="number">0.7386</span></span><br><span class="line">Epoch <span class="number">10</span>/<span class="number">10</span></span><br><span class="line"> - 49s - loss: <span class="number">0.5212</span> - accuracy: <span class="number">0.8162</span> - val_loss: <span class="number">0.7506</span> - val_accuracy: <span class="number">0.7482</span></span><br><span class="line">scores = model.evaluate(test_image_normalize, test_label_onehotencoding)</span><br><span class="line"><span class="built_in">print</span>(scores)</span><br><span class="line"><span class="number">10000</span>/<span class="number">10000</span> [==============================] - 4s 382us/step</span><br><span class="line">[<span class="number">0.7597979576110839</span>, <span class="number">0.7426999807357788</span>]</span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> load_model</span><br><span class="line">model.save(<span class="string">&#x27;CIFAR10_CNN.h5&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id><a href="#" class="headerlink" title></a></h3><h1 id="CIFAR-10-数据集"><a href="#CIFAR-10-数据集" class="headerlink" title="CIFAR-10:数据集"></a>CIFAR-10:数据集</h1><p>（1）数据集（特征+标签）</p>
<p>（2）数据预处理（特征图片（255）    标签：一位有效编码）</p>
<p>（3）搭建和配置模型</p>
<p>（4）训练</p>
<p>（5）导出训练模型*.h5</p>
<p>（6）预测:编写python代码，加载模型</p>
<h1 id="泰坦尼克号生还率预测"><a href="#泰坦尼克号生还率预测" class="headerlink" title="泰坦尼克号生还率预测"></a>泰坦尼克号生还率预测</h1><p>（1）制作、预处理数据集</p>
<p>将表格中无用的部分去掉，列出有用的部分</p>
<p>将所有数据空白的地方用平均值填充，把所有转换为数值的部分落到0-1之间，并把表格中的数据df分为特征和标签，再分为训练部分和测试部分，利用掩码方式</p>
<h3 id="33-Titanic-Data"><a href="#33-Titanic-Data" class="headerlink" title="33_Titanic_Data"></a>33_Titanic_Data</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment">#read_excel()方法是读取Titanic的数据集，并存储到DataFrame</span></span><br><span class="line">all_df = pd.read_excel(<span class="string">&#x27;titanic3.xls&#x27;</span>)</span><br><span class="line">all_df[:<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">pclass	survived	name	sex	age	sibsp	parch	ticket	fare	cabin	embarked	boat	body	home.dest</span><br><span class="line"><span class="number">0</span>	<span class="number">1</span>	<span class="number">1</span>	Allen, Miss. Elisabeth Walton	female	<span class="number">29.0000</span>	<span class="number">0</span>	<span class="number">0</span>	<span class="number">24160</span>	<span class="number">211.3375</span>	B5	S	<span class="number">2</span>	NaN	St Louis, MO</span><br><span class="line"><span class="number">1</span>	<span class="number">1</span>	<span class="number">1</span>	Allison, Master. Hudson Trevor	male	<span class="number">0.9167</span>	<span class="number">1</span>	<span class="number">2</span>	<span class="number">113781</span>	<span class="number">151.5500</span>	C22 C26	S	<span class="number">11</span>	NaN	Montreal, PQ / Chesterville, ON</span><br><span class="line"><span class="comment">#pclass:船舱等级   survived:生还情况   name sex age sibsp:手足和配偶的总计数量   parch:双亲及子女的总数</span></span><br><span class="line"><span class="comment">#fare:费用   embarked:登船港口   </span></span><br><span class="line"><span class="comment">#去除掉表格中无用的列字段，主要保留和生还率相关的列内容</span></span><br><span class="line">cols = [<span class="string">&#x27;survived&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;pclass&#x27;</span>, <span class="string">&#x27;sex&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;sibsp&#x27;</span>, <span class="string">&#x27;parch&#x27;</span>, <span class="string">&#x27;fare&#x27;</span>, <span class="string">&#x27;embarked&#x27;</span>]</span><br><span class="line">all_df = all_df[cols]</span><br><span class="line">all_df[:<span class="number">2</span>]</span><br><span class="line">survived	name	pclass	sex	age	sibsp	parch	fare	embarked</span><br><span class="line"><span class="number">0</span>	<span class="number">1</span>	Allen, Miss. Elisabeth Walton	<span class="number">1</span>	female	<span class="number">29.0000</span>	<span class="number">0</span>	<span class="number">0</span>	<span class="number">211.3375</span>	S</span><br><span class="line"><span class="number">1</span>	<span class="number">1</span>	Allison, Master. Hudson Trevor	<span class="number">1</span>	male	<span class="number">0.9167</span>	<span class="number">1</span>	<span class="number">2</span>	<span class="number">151.5500</span>	S</span><br><span class="line"><span class="comment">#取出name列，name列和训练时的生还率是没有关系的，但是预测时有用，所以训练前先将name列去掉</span></span><br><span class="line">df = all_df.drop([<span class="string">&#x27;name&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment">#对数据集进行处理，将字段为空的数据NULL需要重新进行处理</span></span><br><span class="line"><span class="comment">#查看当前数据集有哪些空字段，找出空字段并统计个数</span></span><br><span class="line">df.isnull().<span class="built_in">sum</span>()</span><br><span class="line">survived      <span class="number">0</span></span><br><span class="line">pclass        <span class="number">0</span></span><br><span class="line">sex           <span class="number">0</span></span><br><span class="line">age         <span class="number">263</span></span><br><span class="line">sibsp         <span class="number">0</span></span><br><span class="line">parch         <span class="number">0</span></span><br><span class="line">fare          <span class="number">1</span></span><br><span class="line">embarked      <span class="number">2</span></span><br><span class="line">dtype: int64</span><br><span class="line"><span class="comment">#将空字段的内容用平均值的方式进行填充，以降低误差</span></span><br><span class="line"><span class="comment">#求出age年龄的平均值，并填充到age列的空白位置</span></span><br><span class="line">age_mean = df[<span class="string">&#x27;age&#x27;</span>].mean()</span><br><span class="line">df[<span class="string">&#x27;age&#x27;</span>] = df[<span class="string">&#x27;age&#x27;</span>].fillna(age_mean)</span><br><span class="line"><span class="comment">#填充fare空白字段</span></span><br><span class="line">fare_mean = df[<span class="string">&#x27;fare&#x27;</span>].mean()</span><br><span class="line">df[<span class="string">&#x27;fare&#x27;</span>] = df[<span class="string">&#x27;fare&#x27;</span>].fillna(fare_mean)</span><br><span class="line"><span class="comment">#female:0    male:1</span></span><br><span class="line"><span class="comment">#pandas中有一个方法叫做map,仿照字典的方法，将key替换为value</span></span><br><span class="line">df[<span class="string">&#x27;sex&#x27;</span>] = df[<span class="string">&#x27;sex&#x27;</span>].<span class="built_in">map</span>(&#123;<span class="string">&#x27;female&#x27;</span>:<span class="number">0</span>, <span class="string">&#x27;male&#x27;</span>:<span class="number">1</span>&#125;)</span><br><span class="line"><span class="comment">#pandas里面也提供了一个一位有效编码的转换工具，方法叫：get_dummies()</span></span><br><span class="line">OneHot_df = pd.get_dummies(data=df, columns=[<span class="string">&#x27;embarked&#x27;</span>])</span><br><span class="line">OneHot_df[:<span class="number">2</span>]</span><br><span class="line">survived	pclass	sex	age	sibsp	parch	fare	embarked_C	embarked_Q	embarked_S</span><br><span class="line"><span class="number">0</span>	<span class="number">1</span>	<span class="number">1</span>	<span class="number">0</span>	<span class="number">29.0000</span>	<span class="number">0</span>	<span class="number">0</span>	<span class="number">211.3375</span>	<span class="number">0</span>	<span class="number">0</span>	<span class="number">1</span></span><br><span class="line"><span class="number">1</span>	<span class="number">1</span>	<span class="number">1</span>	<span class="number">1</span>	<span class="number">0.9167</span>	<span class="number">1</span>	<span class="number">2</span>	<span class="number">151.5500</span>	<span class="number">0</span>	<span class="number">0</span>	<span class="number">1</span></span><br><span class="line"><span class="comment">#将当前DataFrame转换为Array数组</span></span><br><span class="line">ndarray = OneHot_df.values</span><br><span class="line">ndarray.shape</span><br><span class="line">(<span class="number">1309</span>, <span class="number">10</span>)</span><br><span class="line">ndarray[:<span class="number">2</span>]</span><br><span class="line">array([[  <span class="number">1.</span>    ,   <span class="number">1.</span>    ,   <span class="number">0.</span>    ,  <span class="number">29.</span>    ,   <span class="number">0.</span>    ,   <span class="number">0.</span>    ,</span><br><span class="line">        <span class="number">211.3375</span>,   <span class="number">0.</span>    ,   <span class="number">0.</span>    ,   <span class="number">1.</span>    ],</span><br><span class="line">       [  <span class="number">1.</span>    ,   <span class="number">1.</span>    ,   <span class="number">1.</span>    ,   <span class="number">0.9167</span>,   <span class="number">1.</span>    ,   <span class="number">2.</span>    ,</span><br><span class="line">        <span class="number">151.55</span>  ,   <span class="number">0.</span>    ,   <span class="number">0.</span>    ,   <span class="number">1.</span>    ]])</span><br><span class="line"><span class="comment">#当前ndarray里面包含了数据特征，又包含标签，所以需要将特征和标签进行分割</span></span><br><span class="line">Label = ndarray[:, <span class="number">0</span>]    <span class="comment">#提取标签部分，survived列就是我们训练的标签，位于第一列，将其分离出来，取出所有行的第一列</span></span><br><span class="line">Features = ndarray[:, <span class="number">1</span>:]    <span class="comment">#提取特征部分，全部行，从第2列还是只知道最后一列</span></span><br><span class="line">Label[:<span class="number">2</span>]</span><br><span class="line">array([<span class="number">1.</span>, <span class="number">1.</span>])</span><br><span class="line">Features[:<span class="number">2</span>]</span><br><span class="line">array([[  <span class="number">1.</span>    ,   <span class="number">0.</span>    ,  <span class="number">29.</span>    ,   <span class="number">0.</span>    ,   <span class="number">0.</span>    , <span class="number">211.3375</span>,</span><br><span class="line">          <span class="number">0.</span>    ,   <span class="number">0.</span>    ,   <span class="number">1.</span>    ],</span><br><span class="line">       [  <span class="number">1.</span>    ,   <span class="number">1.</span>    ,   <span class="number">0.9167</span>,   <span class="number">1.</span>    ,   <span class="number">2.</span>    , <span class="number">151.55</span>  ,</span><br><span class="line">          <span class="number">0.</span>    ,   <span class="number">0.</span>    ,   <span class="number">1.</span>    ]])</span><br><span class="line"><span class="comment">#将数据集中的内容进行归一化处理，因为成员之间的量纲单位不同相差很大，需要用其他方法将所有数据去除量纲所在0-5之间</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"><span class="comment">#MinMaxScaler()方法用于标准化刻度，参数设置为（0-1），表示数据标准化后全部落在0-1之间的一个刻度工具</span></span><br><span class="line">minmax_scale = preprocessing.MinMaxScaler((<span class="number">0</span>,<span class="number">1</span>))</span><br><span class="line">scaledFeatures = minmax_scale.fit_transform(Features)</span><br><span class="line">scaledFeatures[:<span class="number">2</span>]</span><br><span class="line">array([[<span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">0.36116884</span>, <span class="number">0.</span>        , <span class="number">0.</span>        ,</span><br><span class="line">        <span class="number">0.41250333</span>, <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">1.</span>        ],</span><br><span class="line">       [<span class="number">0.</span>        , <span class="number">1.</span>        , <span class="number">0.00939458</span>, <span class="number">0.125</span>     , <span class="number">0.22222222</span>,</span><br><span class="line">        <span class="number">0.2958059</span> , <span class="number">0.</span>        , <span class="number">0.</span>        , <span class="number">1.</span>        ]])</span><br><span class="line">将数据集分为训练数据和测试数据</span><br><span class="line"></span><br><span class="line"><span class="comment">#80%左右的数据用于当作训练数据，20%左右的数据用于当作测试数据</span></span><br><span class="line"><span class="comment">#利用np.random.random(len(all_df))  产生1300个随机数</span></span><br><span class="line">msk = np.random.random(<span class="built_in">len</span>(all_df)) &lt; <span class="number">0.8</span></span><br><span class="line"><span class="built_in">print</span> (mask)</span><br><span class="line">[ <span class="literal">True</span>  <span class="literal">True</span>  <span class="literal">True</span> ...  <span class="literal">True</span>  <span class="literal">True</span>  <span class="literal">True</span>]</span><br><span class="line"><span class="comment">#取出80%左右的数据和20%左右的测试和数据</span></span><br><span class="line">train_df = all_df[msk]</span><br><span class="line">test_df = all_df[~msk]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;total = &#x27;</span>, <span class="built_in">len</span>(all_df), <span class="string">&#x27;train = &#x27;</span>, <span class="built_in">len</span>(train_df), <span class="string">&#x27;test =&#x27;</span>, <span class="built_in">len</span>(test_df))</span><br><span class="line">total =  <span class="number">1309</span> train =  <span class="number">1062</span> test = <span class="number">247</span></span><br><span class="line">​</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="34-Titanic-Data-Predict"><a href="#34-Titanic-Data-Predict" class="headerlink" title="34_Titanic_Data_Predict"></a>34_Titanic_Data_Predict</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"><span class="comment">#read_excel()方法是读取Titanic的数据集，并存储到DataFrame</span></span><br><span class="line">all_df = pd.read_excel(<span class="string">&#x27;titanic3.xls&#x27;</span>)</span><br><span class="line"><span class="comment">#去除掉表格中无用的列字段，主要保留和生还率相关的列内容</span></span><br><span class="line">cols = [<span class="string">&#x27;survived&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;pclass&#x27;</span>, <span class="string">&#x27;sex&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;sibsp&#x27;</span>, <span class="string">&#x27;parch&#x27;</span>, <span class="string">&#x27;fare&#x27;</span>]</span><br><span class="line">all_df = all_df[cols]</span><br><span class="line"><span class="comment">#80%左右的数据用于当作训练数据，20%左右的数据用于当作测试数据</span></span><br><span class="line"><span class="comment">#利用np.random.random(len(all_df))  产生1300个随机数</span></span><br><span class="line">msk = np.random.random(<span class="built_in">len</span>(all_df)) &lt; <span class="number">0.8</span></span><br><span class="line">train_df = all_df[msk]</span><br><span class="line">test_df = all_df[~msk]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">PreprocessData</span>(<span class="params">raw_df</span>):</span></span><br><span class="line">    df = raw_df.drop([<span class="string">&#x27;name&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line">    age_mean = df[<span class="string">&#x27;age&#x27;</span>].mean()</span><br><span class="line">    df[<span class="string">&#x27;age&#x27;</span>] = df[<span class="string">&#x27;age&#x27;</span>].fillna(age_mean)</span><br><span class="line">    fare_mean = df[<span class="string">&#x27;fare&#x27;</span>].mean()</span><br><span class="line">    df[<span class="string">&#x27;fare&#x27;</span>] = df[<span class="string">&#x27;fare&#x27;</span>].fillna(fare_mean)</span><br><span class="line">    df[<span class="string">&#x27;sex&#x27;</span>] = df[<span class="string">&#x27;sex&#x27;</span>].<span class="built_in">map</span>(&#123;<span class="string">&#x27;female&#x27;</span>:<span class="number">0</span>, <span class="string">&#x27;male&#x27;</span>:<span class="number">1</span>&#125;)</span><br><span class="line">    ndarray = df.values</span><br><span class="line">    Label = ndarray[:, <span class="number">0</span>]    <span class="comment">#提取标签部分，survived列就是我们训练的标签，位于第一列，将其分离出来，取出所有行的第一列</span></span><br><span class="line">    Features = ndarray[:, <span class="number">1</span>:]    <span class="comment">#提取特征部分，全部行，从第2列还是只知道最后一列</span></span><br><span class="line">    minmax_scale = preprocessing.MinMaxScaler((<span class="number">0</span>,<span class="number">1</span>))</span><br><span class="line">    scaledFeatures = minmax_scale.fit_transform(Features)</span><br><span class="line">    <span class="keyword">return</span> scaledFeatures, Label</span><br><span class="line">    train_Feature,train_Label = PreprocessData(train_df)</span><br><span class="line">test_Feature, test_Label = PreprocessData(test_df)</span><br><span class="line">建立多层感知器模型</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> keras .models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense, Dropout</span><br><span class="line">Using TensorFlow backend.</span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(Dense(units = <span class="number">200</span>,input_dim=<span class="number">6</span>, kernel_initializer=<span class="string">&#x27;uniform&#x27;</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">model.add(Dense(units = <span class="number">200</span>, kernel_initializer=<span class="string">&#x27;uniform&#x27;</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">model.add(Dense(units = <span class="number">1</span>, kernel_initializer=<span class="string">&#x27;uniform&#x27;</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line">model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">train_history = model.fit(train_Feature, train_Label,validation_split=<span class="number">0.2</span>, epochs=<span class="number">50</span>, batch_size=<span class="number">20</span>, verbose=<span class="number">2</span>)</span><br><span class="line">Train on <span class="number">852</span> samples, validate on <span class="number">213</span> samples</span><br><span class="line">Epoch <span class="number">1</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.6306</span> - accuracy: <span class="number">0.7042</span> - val_loss: <span class="number">0.4801</span> - val_accuracy: <span class="number">0.7793</span></span><br><span class="line">Epoch <span class="number">2</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.5046</span> - accuracy: <span class="number">0.7829</span> - val_loss: <span class="number">0.4593</span> - val_accuracy: <span class="number">0.7793</span></span><br><span class="line">Epoch <span class="number">3</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4821</span> - accuracy: <span class="number">0.7864</span> - val_loss: <span class="number">0.4612</span> - val_accuracy: <span class="number">0.7793</span></span><br><span class="line">Epoch <span class="number">4</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4741</span> - accuracy: <span class="number">0.7899</span> - val_loss: <span class="number">0.4129</span> - val_accuracy: <span class="number">0.8216</span></span><br><span class="line">Epoch <span class="number">5</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4687</span> - accuracy: <span class="number">0.7770</span> - val_loss: <span class="number">0.4594</span> - val_accuracy: <span class="number">0.7793</span></span><br><span class="line">Epoch <span class="number">6</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4649</span> - accuracy: <span class="number">0.7817</span> - val_loss: <span class="number">0.4614</span> - val_accuracy: <span class="number">0.7934</span></span><br><span class="line">Epoch <span class="number">7</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4607</span> - accuracy: <span class="number">0.7911</span> - val_loss: <span class="number">0.4122</span> - val_accuracy: <span class="number">0.8263</span></span><br><span class="line">Epoch <span class="number">8</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4557</span> - accuracy: <span class="number">0.7887</span> - val_loss: <span class="number">0.4084</span> - val_accuracy: <span class="number">0.8169</span></span><br><span class="line">Epoch <span class="number">9</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4514</span> - accuracy: <span class="number">0.7981</span> - val_loss: <span class="number">0.4057</span> - val_accuracy: <span class="number">0.8169</span></span><br><span class="line">Epoch <span class="number">10</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4576</span> - accuracy: <span class="number">0.7981</span> - val_loss: <span class="number">0.4107</span> - val_accuracy: <span class="number">0.8169</span></span><br><span class="line">Epoch <span class="number">11</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4485</span> - accuracy: <span class="number">0.7993</span> - val_loss: <span class="number">0.4134</span> - val_accuracy: <span class="number">0.8310</span></span><br><span class="line">Epoch <span class="number">12</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4515</span> - accuracy: <span class="number">0.7993</span> - val_loss: <span class="number">0.4224</span> - val_accuracy: <span class="number">0.8216</span></span><br><span class="line">Epoch <span class="number">13</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4515</span> - accuracy: <span class="number">0.7934</span> - val_loss: <span class="number">0.4216</span> - val_accuracy: <span class="number">0.8216</span></span><br><span class="line">Epoch <span class="number">14</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4463</span> - accuracy: <span class="number">0.7993</span> - val_loss: <span class="number">0.4167</span> - val_accuracy: <span class="number">0.8216</span></span><br><span class="line">Epoch <span class="number">15</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4465</span> - accuracy: <span class="number">0.8040</span> - val_loss: <span class="number">0.4102</span> - val_accuracy: <span class="number">0.8075</span></span><br><span class="line">Epoch <span class="number">16</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4462</span> - accuracy: <span class="number">0.7993</span> - val_loss: <span class="number">0.4266</span> - val_accuracy: <span class="number">0.8216</span></span><br><span class="line">Epoch <span class="number">17</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4456</span> - accuracy: <span class="number">0.8052</span> - val_loss: <span class="number">0.4255</span> - val_accuracy: <span class="number">0.8263</span></span><br><span class="line">Epoch <span class="number">18</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4419</span> - accuracy: <span class="number">0.8075</span> - val_loss: <span class="number">0.4081</span> - val_accuracy: <span class="number">0.8216</span></span><br><span class="line">Epoch <span class="number">19</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4440</span> - accuracy: <span class="number">0.8028</span> - val_loss: <span class="number">0.4128</span> - val_accuracy: <span class="number">0.8310</span></span><br><span class="line">Epoch <span class="number">20</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4436</span> - accuracy: <span class="number">0.7958</span> - val_loss: <span class="number">0.4196</span> - val_accuracy: <span class="number">0.8028</span></span><br><span class="line">Epoch <span class="number">21</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4462</span> - accuracy: <span class="number">0.8028</span> - val_loss: <span class="number">0.4232</span> - val_accuracy: <span class="number">0.8310</span></span><br><span class="line">Epoch <span class="number">22</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4400</span> - accuracy: <span class="number">0.8005</span> - val_loss: <span class="number">0.4312</span> - val_accuracy: <span class="number">0.8263</span></span><br><span class="line">Epoch <span class="number">23</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4416</span> - accuracy: <span class="number">0.8016</span> - val_loss: <span class="number">0.4452</span> - val_accuracy: <span class="number">0.8028</span></span><br><span class="line">Epoch <span class="number">24</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4363</span> - accuracy: <span class="number">0.8146</span> - val_loss: <span class="number">0.4375</span> - val_accuracy: <span class="number">0.8263</span></span><br><span class="line">Epoch <span class="number">25</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4431</span> - accuracy: <span class="number">0.8087</span> - val_loss: <span class="number">0.4098</span> - val_accuracy: <span class="number">0.8169</span></span><br><span class="line">Epoch <span class="number">26</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4412</span> - accuracy: <span class="number">0.8052</span> - val_loss: <span class="number">0.4399</span> - val_accuracy: <span class="number">0.7981</span></span><br><span class="line">Epoch <span class="number">27</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4436</span> - accuracy: <span class="number">0.8087</span> - val_loss: <span class="number">0.4407</span> - val_accuracy: <span class="number">0.8075</span></span><br><span class="line">Epoch <span class="number">28</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4338</span> - accuracy: <span class="number">0.8075</span> - val_loss: <span class="number">0.4156</span> - val_accuracy: <span class="number">0.8263</span></span><br><span class="line">Epoch <span class="number">29</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4340</span> - accuracy: <span class="number">0.8157</span> - val_loss: <span class="number">0.4075</span> - val_accuracy: <span class="number">0.8263</span></span><br><span class="line">Epoch <span class="number">30</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4394</span> - accuracy: <span class="number">0.8122</span> - val_loss: <span class="number">0.4181</span> - val_accuracy: <span class="number">0.8263</span></span><br><span class="line">Epoch <span class="number">31</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4447</span> - accuracy: <span class="number">0.8063</span> - val_loss: <span class="number">0.4596</span> - val_accuracy: <span class="number">0.7981</span></span><br><span class="line">Epoch <span class="number">32</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4431</span> - accuracy: <span class="number">0.7993</span> - val_loss: <span class="number">0.4155</span> - val_accuracy: <span class="number">0.8263</span></span><br><span class="line">Epoch <span class="number">33</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4381</span> - accuracy: <span class="number">0.8181</span> - val_loss: <span class="number">0.4128</span> - val_accuracy: <span class="number">0.8404</span></span><br><span class="line">Epoch <span class="number">34</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4339</span> - accuracy: <span class="number">0.8134</span> - val_loss: <span class="number">0.4085</span> - val_accuracy: <span class="number">0.8169</span></span><br><span class="line">Epoch <span class="number">35</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4403</span> - accuracy: <span class="number">0.8063</span> - val_loss: <span class="number">0.4327</span> - val_accuracy: <span class="number">0.8357</span></span><br><span class="line">Epoch <span class="number">36</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4354</span> - accuracy: <span class="number">0.8169</span> - val_loss: <span class="number">0.4246</span> - val_accuracy: <span class="number">0.8404</span></span><br><span class="line">Epoch <span class="number">37</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4326</span> - accuracy: <span class="number">0.8087</span> - val_loss: <span class="number">0.4247</span> - val_accuracy: <span class="number">0.8310</span></span><br><span class="line">Epoch <span class="number">38</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4318</span> - accuracy: <span class="number">0.8110</span> - val_loss: <span class="number">0.4109</span> - val_accuracy: <span class="number">0.8216</span></span><br><span class="line">Epoch <span class="number">39</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4305</span> - accuracy: <span class="number">0.8122</span> - val_loss: <span class="number">0.4286</span> - val_accuracy: <span class="number">0.8216</span></span><br><span class="line">Epoch <span class="number">40</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4314</span> - accuracy: <span class="number">0.8110</span> - val_loss: <span class="number">0.4232</span> - val_accuracy: <span class="number">0.8357</span></span><br><span class="line">Epoch <span class="number">41</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4307</span> - accuracy: <span class="number">0.8122</span> - val_loss: <span class="number">0.4171</span> - val_accuracy: <span class="number">0.8357</span></span><br><span class="line">Epoch <span class="number">42</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4308</span> - accuracy: <span class="number">0.8157</span> - val_loss: <span class="number">0.4276</span> - val_accuracy: <span class="number">0.8404</span></span><br><span class="line">Epoch <span class="number">43</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4323</span> - accuracy: <span class="number">0.8157</span> - val_loss: <span class="number">0.4220</span> - val_accuracy: <span class="number">0.8404</span></span><br><span class="line">Epoch <span class="number">44</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4318</span> - accuracy: <span class="number">0.8040</span> - val_loss: <span class="number">0.4453</span> - val_accuracy: <span class="number">0.8216</span></span><br><span class="line">Epoch <span class="number">45</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4304</span> - accuracy: <span class="number">0.8075</span> - val_loss: <span class="number">0.4181</span> - val_accuracy: <span class="number">0.8404</span></span><br><span class="line">Epoch <span class="number">46</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4301</span> - accuracy: <span class="number">0.8204</span> - val_loss: <span class="number">0.4076</span> - val_accuracy: <span class="number">0.8216</span></span><br><span class="line">Epoch <span class="number">47</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4384</span> - accuracy: <span class="number">0.8028</span> - val_loss: <span class="number">0.4250</span> - val_accuracy: <span class="number">0.8357</span></span><br><span class="line">Epoch <span class="number">48</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4436</span> - accuracy: <span class="number">0.8063</span> - val_loss: <span class="number">0.4491</span> - val_accuracy: <span class="number">0.8169</span></span><br><span class="line">Epoch <span class="number">49</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4317</span> - accuracy: <span class="number">0.8122</span> - val_loss: <span class="number">0.4269</span> - val_accuracy: <span class="number">0.8404</span></span><br><span class="line">Epoch <span class="number">50</span>/<span class="number">50</span></span><br><span class="line"> - 0s - loss: <span class="number">0.4278</span> - accuracy: <span class="number">0.8110</span> - val_loss: <span class="number">0.4137</span> - val_accuracy: <span class="number">0.8122</span></span><br><span class="line">scores = model.evaluate(test_Feature, test_Label)</span><br><span class="line"><span class="built_in">print</span>(scores)</span><br><span class="line"><span class="number">244</span>/<span class="number">244</span> [==============================] - 0s 49us/step</span><br><span class="line">[<span class="number">0.46809458048617253</span>, <span class="number">0.7950819730758667</span>]</span><br><span class="line">加入Titanic虚构人物，Jack和Rose的数据信息</span><br><span class="line"></span><br><span class="line"><span class="comment">#survived, name, pclass sex age sibsp parch fare</span></span><br><span class="line"><span class="comment">#Jack[0, &#x27;Jack&#x27;, 3, &#x27;male&#x27;, 23, 1, 0, 5.00]</span></span><br><span class="line"><span class="comment">#Rose[1, &#x27;Rose&#x27;, 1, &#x27;female&#x27;, 20, 1, 1, 100]</span></span><br><span class="line">Jack = pd.Series([<span class="number">0</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="number">3</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">23</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">5.00</span>])</span><br><span class="line">Rose = pd.Series([<span class="number">1</span>, <span class="string">&#x27;Rose&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;female&#x27;</span>, <span class="number">20</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">100</span>])</span><br><span class="line"><span class="comment">#创建Jack和Rose的DataFrame格式的数据</span></span><br><span class="line">JR_df = pd.DataFrame([<span class="built_in">list</span>(Jack), <span class="built_in">list</span>(Rose)], columns=[<span class="string">&#x27;survived&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;pclass&#x27;</span>, <span class="string">&#x27;sex&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;sibsp&#x27;</span>, <span class="string">&#x27;parch&#x27;</span>, <span class="string">&#x27;fare&#x27;</span>])</span><br><span class="line"><span class="comment">#将JR_df添加到数据集all_df的末尾</span></span><br><span class="line">all_df = pd.concat([all_df, JR_df])</span><br><span class="line"><span class="comment">#查看all_df最后两项分别放置的是J R信息</span></span><br><span class="line">all_df[-<span class="number">2</span>:]</span><br><span class="line">survived	name	pclass	sex	age	sibsp	parch	fare</span><br><span class="line"><span class="number">0</span>	<span class="number">0</span>	Jack	<span class="number">3</span>	male	<span class="number">23.0</span>	<span class="number">1</span>	<span class="number">0</span>	<span class="number">5.0</span></span><br><span class="line"><span class="number">1</span>	<span class="number">1</span>	Rose	<span class="number">1</span>	female	<span class="number">20.0</span>	<span class="number">1</span>	<span class="number">1</span>	<span class="number">100.0</span></span><br><span class="line">all_Features, Label = PreprocessData(all_df)</span><br><span class="line">all_probability = model.predict(all_Features)</span><br><span class="line">all_probability[:<span class="number">5</span>]</span><br><span class="line">array([[<span class="number">0.944589</span>  ],</span><br><span class="line">       [<span class="number">0.90892327</span>],</span><br><span class="line">       [<span class="number">0.96472865</span>],</span><br><span class="line">       [<span class="number">0.3069549</span> ],</span><br><span class="line">       [<span class="number">0.95834583</span>]], dtype=float32)</span><br><span class="line">all_probability[-<span class="number">2</span>:]</span><br><span class="line">array([[<span class="number">0.16815741</span>],</span><br><span class="line">       [<span class="number">0.9701418</span> ]], dtype=float32)</span><br><span class="line">all_df.insert(<span class="built_in">len</span>(all_df.columns), <span class="string">&#x27;probability&#x27;</span>, all_probability)</span><br><span class="line">all_df[-<span class="number">2</span>:]</span><br><span class="line">survived	name	pclass	sex	age	sibsp	parch	fare	probability</span><br><span class="line"><span class="number">0</span>	<span class="number">0</span>	Jack	<span class="number">3</span>	male	<span class="number">23.0</span>	<span class="number">1</span>	<span class="number">0</span>	<span class="number">5.0</span>	<span class="number">0.168157</span></span><br><span class="line"><span class="number">1</span>	<span class="number">1</span>	Rose	<span class="number">1</span>	female	<span class="number">20.0</span>	<span class="number">1</span>	<span class="number">1</span>	<span class="number">100.0</span>	<span class="number">0.970142</span></span><br><span class="line"><span class="comment">#查看那些乘客的生还率很高但最终却遇难了，设置生还率大于90%却遇难的乘客</span></span><br><span class="line">all_df[(all_df[<span class="string">&#x27;survived&#x27;</span>]==<span class="number">0</span>)&amp;(all_df[<span class="string">&#x27;probability&#x27;</span>]&gt;<span class="number">0.9</span>)]</span><br><span class="line">survived	name	pclass	sex	age	sibsp	parch	fare	probability</span><br><span class="line"><span class="number">2</span>	<span class="number">0</span>	Allison, Miss. Helen Loraine	<span class="number">1</span>	female	<span class="number">2.0</span>	<span class="number">1</span>	<span class="number">2</span>	<span class="number">151.5500</span>	<span class="number">0.964729</span></span><br><span class="line"><span class="number">4</span>	<span class="number">0</span>	Allison, Mrs. Hudson J C (Bessie Waldo Daniels)	<span class="number">1</span>	female	<span class="number">25.0</span>	<span class="number">1</span>	<span class="number">2</span>	<span class="number">151.5500</span>	<span class="number">0.958346</span></span><br><span class="line"><span class="number">105</span>	<span class="number">0</span>	Evans, Miss. Edith Corse	<span class="number">1</span>	female	<span class="number">36.0</span>	<span class="number">0</span>	<span class="number">0</span>	<span class="number">31.6792</span>	<span class="number">0.962306</span></span><br><span class="line"><span class="number">169</span>	<span class="number">0</span>	Isham, Miss. Ann Elizabeth	<span class="number">1</span>	female	<span class="number">50.0</span>	<span class="number">0</span>	<span class="number">0</span>	<span class="number">28.7125</span>	<span class="number">0.937114</span></span><br><span class="line">​</span><br></pre></td></tr></table></figure>



<h1 id="区分玫瑰花和向日葵"><a href="#区分玫瑰花和向日葵" class="headerlink" title="区分玫瑰花和向日葵"></a>区分玫瑰花和向日葵</h1><h2 id="数据集图片扩展"><a href="#数据集图片扩展" class="headerlink" title="数据集图片扩展"></a>数据集图片扩展</h2><p>搜集玫瑰图片进行筛选，主题只有玫瑰，筛选后有大约五百张图片，数据集不够，可以进行修改，调整对比度，饱和度，翻转等等，增加数量</p>
<h2 id="制作标签文件"><a href="#制作标签文件" class="headerlink" title="制作标签文件"></a>制作标签文件</h2><h2 id="制作数据集"><a href="#制作数据集" class="headerlink" title="制作数据集"></a>制作数据集</h2><h2 id="训练并导出模型"><a href="#训练并导出模型" class="headerlink" title="训练并导出模型"></a>训练并导出模型</h2>]]></content>
      <categories>
        <category>人工智能</category>
      </categories>
      <tags>
        <tag>导航</tag>
        <tag>分享</tag>
      </tags>
  </entry>
  <entry>
    <title>智能小车</title>
    <url>/2021/06/05/%E6%99%BA%E8%83%BD%E5%B0%8F%E8%BD%A6/</url>
    <content><![CDATA[<h1 id="智能小车"><a href="#智能小车" class="headerlink" title="智能小车"></a>智能小车</h1><span id="more"></span>

<h2 id="智能小车项目阶段一目标：遥控小车，实现小车（前进，后退，转向）"><a href="#智能小车项目阶段一目标：遥控小车，实现小车（前进，后退，转向）" class="headerlink" title="智能小车项目阶段一目标：遥控小车，实现小车（前进，后退，转向）"></a>智能小车项目阶段一目标：遥控小车，实现小车（前进，后退，转向）</h2><p> 遥控小车：小车部分 + 遥控部分</p>
<p>  流程：1）小车 2）遥控 3）联调实现项目目标</p>
<p>1）小车部分：硬件+软件</p>
<p>a)    硬件选型 </p>
<p>b)   硬件的连接，搭建硬件平台，电气连接部分</p>
<p>c)    编写调试代码，实现基本功能（无遥控的情况下，实现小车的前进后退和转向）</p>
<h3 id="硬件选型："><a href="#硬件选型：" class="headerlink" title="硬件选型："></a><strong>硬件选型：</strong></h3><p>A.   电池供电， 3节18650电池，12V电源输入（供电+TB6612FNG驱动模块的需求）</p>
<p>B.    18650电池充电器 * 1</p>
<p>C.   18650电池盒，串联3节电池 * 1 </p>
<p>D.   DC-DC电压转换模块(为STM32及其外设供电)，12V-&gt;5V 3A *1</p>
<p>E.    STM32F103C8T6开发板 * 1</p>
<p>F.    NRF24L01模块（接收端）* 1</p>
<p>G.   TB6612FNG直流有刷电机的驱动模块 * 1</p>
<p>H.   小车，带4个直流有刷电机</p>
<p>I.    附件：杜邦线（两头都是针，两头都是孔，一孔一针），面包板，电源接头</p>
<h3 id="硬件连接："><a href="#硬件连接：" class="headerlink" title="硬件连接："></a><strong>硬件连接：</strong></h3><p>A.   电源供电  12V -&gt; 5V 12V给TB6612FNG模块供电</p>
<p>B.    NRF24L01模块接线说明：</p>
<p>​    NRF24L01       &lt;—–&gt;    STM32F103C8T6</p>
<p>​    1.GND         &lt;—–&gt;   GND</p>
<p>​    2.VCC          &lt;—–&gt;    3.3V</p>
<p>​    3.CE           &lt;—–&gt;    PB0</p>
<p>​    4.CSN          &lt;—–&gt;    PB1</p>
<p>​    5.SCK          &lt;—–&gt;    PA5</p>
<p>​    6.MOSI         &lt;—–&gt;    PA7</p>
<p>​    7.MISO         &lt;—–&gt;    PA6</p>
<p>​        8.IRQ          &lt;—–&gt;    PA4</p>
<p>C.   TB6612FNG模块接线说明：</p>
<p>​    TB6612       &lt;—&gt;  STM32F103C8T6</p>
<p>​    PWMA         &lt;—&gt;  PA1</p>
<p>AIN2           &lt;—&gt;  PA3</p>
<p>​    AIN1           &lt;—&gt;  PA2</p>
<p>​    STBY          &lt;—&gt;  PA11</p>
<p>​    BIN1           &lt;—&gt;  PB7</p>
<p>​    BIN2           &lt;—&gt;  PB8</p>
<p>PWMB         &lt;—&gt;  PB6（TIM4_CH1）</p>
<p>​    </p>
<p>​    VM         &lt;—&gt;  12V</p>
<p>​    A01           &lt;—&gt;  电机线+ 黄色线</p>
<p>​        A02           &lt;—&gt;  电机线- 棕色线</p>
<p>​    B02           &lt;—&gt;  电机线- 黄色线</p>
<p>B01           &lt;—&gt;  电机线+  棕色线</p>
<p>​        GND        &lt;—&gt;  12VGND</p>
<h3 id="小车初步调试："><a href="#小车初步调试：" class="headerlink" title="小车初步调试："></a><strong>小车初步调试：</strong></h3><p>实现前进3秒，后退3秒，左转3秒，右转3秒，停止3秒，然后循环这个过程</p>
<p><strong>遥控：</strong></p>
<p>硬件：STM32F103C8T6板子（STM32第四阶段Altium Designer课程中绘制的核心板，打样制作并焊接的PCB板）</p>
<p>​    摇杆JoyStick。NRF24L01。供电：USB供电</p>
<p>管脚定义：</p>
<p>​    JoyStick       STM32F103C8T6</p>
<p>​    GND    &lt;—–&gt;  GND</p>
<p>​    5V     &lt;—–&gt;  5V</p>
<p>​    VRX    &lt;—–&gt;  PB0</p>
<p>​    VRY    &lt;—–&gt;  PB1</p>
<p>​        SW      &lt;—–&gt;   PB5</p>
<p>​    NRF24L01   &lt;—–&gt;    STM32F103C8T6</p>
<p>​    1.GND      &lt;—–&gt;   GND</p>
<p>​    2.VCC      &lt;—–&gt;    3.3V</p>
<p>​    3.CE       &lt;—–&gt;    PB10（原PB0）</p>
<p>​    4.CSN      &lt;—–&gt;    PB11（原PB1）</p>
<p>​    5.SCK      &lt;—–&gt;    PA5</p>
<p>​    6.MOSI     &lt;—–&gt;    PA7</p>
<p>​    7.MISO     &lt;—–&gt;    PA6</p>
<p>​        8.IRQ       &lt;—–&gt;    PA4</p>
<p>JTAG下载 —》 SWD下载方式</p>
<p>STM32          ST-Link</p>
<p>3.3V     &lt;—–&gt;    1脚</p>
<p>DIO         &lt;—–&gt;    7脚</p>
<p>CLK         &lt;—–&gt;    9脚</p>
<p>GND        &lt;—–&gt;    20脚</p>
<h3 id="遥控端代码实现："><a href="#遥控端代码实现：" class="headerlink" title="遥控端代码实现："></a><strong>遥控端代码实现：</strong></h3><p>​    UP:            FORWARD                 1</p>
<p>​    DOWN:         BACKWARD                2</p>
<p>​    LEFT:          LEFT TURN                 3</p>
<p>​    RIGHT:         RIGHT TURN                4</p>
<p>​    PRESS:         STOP                     5</p>
<h3 id="小车端对遥控指令的接收测试："><a href="#小车端对遥控指令的接收测试：" class="headerlink" title="小车端对遥控指令的接收测试："></a><strong>小车端对遥控指令的接收测试：</strong></h3><p>小车端：</p>
<p>1          &lt;—–&gt; printf(“Forward”);</p>
<p>2          &lt;—–&gt; printf(“Backward”);</p>
<p>3          &lt;—–&gt; printf(“Left”);</p>
<p>4   &lt;—–&gt; printf(“Right”);</p>
<p>5   &lt;—–&gt; printf(“Stop”);</p>
]]></content>
      <categories>
        <category>嵌入式</category>
      </categories>
      <tags>
        <tag>导航</tag>
        <tag>分享</tag>
      </tags>
  </entry>
</search>
